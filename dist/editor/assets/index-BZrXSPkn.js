import{a5 as OO,a6 as nm,w as FO,a7 as am,a8 as im,a9 as om,E as lm,S as Du,F as kO,G as kl,x as sm,i as Pl,aa as PO,ab as RO,v as mS,K as LO,ac as DO,ad as _O,k as _c,a as Et,$ as BO,h as nr,m as qr,M as NO,ae as $O,af as jO,j as A,ag as VO,n as fs,P as pr,ah as HO,W as zO,ai as WO}from"./index-BBkS68sv.js";import{m as xn,M as GO,H as qO,d as Si,f as YO,R as UO,U as XO,n as KO}from"./index-D9JUB6hU.js";import{c as qv,t as Bc,b as xS,g as vp,d as bS,e as ZO,h as Yv,r as _u,f as um,j as fi,k as wS,m as Xr,n as QO,o as JO,p as fe,q as pn,s as io,a as Zu,V as Rl,u as Wa,v as oa,w as tF,x as eF}from"./VariableBind-O5QUcdA4.js";import{Q as _s}from"./index-DsdcxFhl.js";import{E as Nc}from"./SaveOutlined-BQ_jcTgK.js";import{D as SS}from"./DeleteOutlined-B6bglta-.js";import{M as rF}from"./ColorPicker-Dw8Os0Zn.js";const $c=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return tn},get Circle(){return ZX},get Ellipse(){return QX},get Image(){return JX},get Line(){return t7},get Marker(){return r7},get Path(){return oy},get Polygon(){return u7},get Polyline(){return c7},get Rect(){return d7},get Text(){return p7}},Symbol.toStringTag,{value:"Module"})),jc=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Nr},get Circle(){return w7},get Dom(){return S7},get Ellipse(){return C7},get Image(){return A7},get Line(){return E7},get Marker(){return T7},get Path(){return I7},get Polygon(){return M7},get Polyline(){return O7},get Rect(){return k7},get Text(){return D7}},Symbol.toStringTag,{value:"Module"})),mr=Object.freeze(Object.defineProperty({__proto__:null,get BarChart(){return bct},get BarChartConfig(){return wct},get Button(){return Kft},get ButtonConfig(){return Jft},get Card(){return __},get CardConfig(){return B_},get Cascader(){return C$},get CascaderConfig(){return A$},get CheckBox(){return zN},get CheckBoxConfig(){return WN},get Col(){return DW},get ColConfig(){return _W},get ColumnChart(){return cct},get ColumnChartConfig(){return pct},get DatePicker(){return AB},get DatePickerConfig(){return EB},get DatePickerRange(){return PB},get DatePickerRangeConfig(){return RB},get Descriptions(){return Sft},get DescriptionsConfig(){return Pft},get Div(){return H_},get DivConfig(){return z_},get Divider(){return HW},get DividerConfig(){return zW},get EditTable(){return h5},get EditTableConfig(){return T5},get Empty(){return Bft},get EmptyConfig(){return Nft},get FileUpload(){return oht},get FileUploadConfig(){return lht},get Flex(){return S_},get FlexConfig(){return C_},get Form(){return O_},get FormConfig(){return F_},get FormItem(){return DN},get FormItemConfig(){return _N},get FormList(){return U$},get FormListConfig(){return X$},get IFrame(){return idt},get IFrameConfig(){return odt},get Image(){return Pht},get ImageConfig(){return Rht},get Input(){return K_},get InputConfig(){return eB},get InputNumber(){return gB},get InputNumberConfig(){return yB},get LineChart(){return nct},get LineChartConfig(){return act},get Link(){return Jht},get LinkConfig(){return tdt},get List(){return dft},get ListConfig(){return pft},get MarsTable(){return QR},get MarsTableConfig(){return r_},get Modal(){return aft},get ModalConfig(){return ift},get Page(){return NR},get PageConfig(){return $R},get PieChart(){return Uut},get PieChartConfig(){return Zut},get Progress(){return Vct},get ProgressConfig(){return Hct},get Radio(){return jB},get RadioConfig(){return VB},get RichText(){return pW},get RichTextConfig(){return vW},get RingProgress(){return Uct},get RingProgressConfig(){return Xct},get Row(){return MW},get RowConfig(){return OW},get SearchForm(){return v_},get SearchFormConfig(){return g_},get Segmented(){return v$},get SegmentedConfig(){return g$},get Select(){return UB},get SelectConfig(){return XB},get Slider(){return k$},get SliderConfig(){return P$},get Space(){return wW},get SpaceConfig(){return SW},get StaticItem(){return CN},get StaticItemConfig(){return IN},get Steps(){return zft},get StepsConfig(){return Wft},get Switch(){return rN},get SwitchConfig(){return nN},get Tab(){return xht},get TabConfig(){return IO},get Tabs(){return pht},get TabsConfig(){return Tht},get Text(){return $ht},get TextArea(){return sB},get TextAreaConfig(){return uB},get TextConfig(){return Vht},get TimePicker(){return QN},get TimePickerConfig(){return JN},get TimePickerRange(){return l$},get TimePickerRangeConfig(){return s$},get TinyColumn(){return Lct},get TinyColumnConfig(){return Dct},get TinyLine(){return Ict},get TinyLineConfig(){return Mct},get Title(){return Yht},get TitleConfig(){return Uht},get TreeSelect(){return $$},get TreeSelectConfig(){return j$},get Upload(){return hN},get UploadConfig(){return dN}},Symbol.toStringTag,{value:"Module"}));function nF(r){return r}var aF="__lodash_hash_undefined__";function iF(r){return this.__data__.set(r,aF),this}function oF(r){return this.__data__.has(r)}function Qu(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new OO;++e<t;)this.add(r[e])}Qu.prototype.add=Qu.prototype.push=iF;Qu.prototype.has=oF;function lF(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}function sF(r,e){return r.has(e)}var uF=1,cF=2;function CS(r,e,t,n,a,i){var o=t&uF,l=r.length,s=e.length;if(l!=s&&!(o&&s>l))return!1;var u=i.get(r),c=i.get(e);if(u&&c)return u==e&&c==r;var f=-1,h=!0,d=t&cF?new Qu:void 0;for(i.set(r,e),i.set(e,r);++f<l;){var p=r[f],v=e[f];if(n)var g=o?n(v,p,f,e,r,i):n(p,v,f,r,e,i);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!lF(e,function(y,m){if(!sF(d,m)&&(p===y||a(p,y,t,n,i)))return d.push(m)})){h=!1;break}}else if(!(p===v||a(p,v,t,n,i))){h=!1;break}}return i.delete(r),i.delete(e),h}function fF(r){var e=-1,t=Array(r.size);return r.forEach(function(n,a){t[++e]=[a,n]}),t}function hF(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var dF=1,pF=2,vF="[object Boolean]",gF="[object Date]",yF="[object Error]",mF="[object Map]",xF="[object Number]",bF="[object RegExp]",wF="[object Set]",SF="[object String]",CF="[object Symbol]",AF="[object ArrayBuffer]",EF="[object DataView]",cm=nm?nm.prototype:void 0,oh=cm?cm.valueOf:void 0;function TF(r,e,t,n,a,i,o){switch(t){case EF:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case AF:return!(r.byteLength!=e.byteLength||!i(new am(r),new am(e)));case vF:case gF:case xF:return FO(+r,+e);case yF:return r.name==e.name&&r.message==e.message;case bF:case SF:return r==e+"";case mF:var l=fF;case wF:var s=n&dF;if(l||(l=hF),r.size!=e.size&&!s)return!1;var u=o.get(r);if(u)return u==e;n|=pF,o.set(r,e);var c=CS(l(r),l(e),n,a,i,o);return o.delete(r),c;case CF:if(oh)return oh.call(r)==oh.call(e)}return!1}var IF=1,MF=Object.prototype,OF=MF.hasOwnProperty;function FF(r,e,t,n,a,i){var o=t&IF,l=im(r),s=l.length,u=im(e),c=u.length;if(s!=c&&!o)return!1;for(var f=s;f--;){var h=l[f];if(!(o?h in e:OF.call(e,h)))return!1}var d=i.get(r),p=i.get(e);if(d&&p)return d==e&&p==r;var v=!0;i.set(r,e),i.set(e,r);for(var g=o;++f<s;){h=l[f];var y=r[h],m=e[h];if(n)var b=o?n(m,y,h,e,r,i):n(y,m,h,r,e,i);if(!(b===void 0?y===m||a(y,m,t,n,i):b)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var x=r.constructor,w=e.constructor;x!=w&&"constructor"in r&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(r),i.delete(e),v}var kF=1,fm="[object Arguments]",hm="[object Array]",Bs="[object Object]",PF=Object.prototype,dm=PF.hasOwnProperty;function RF(r,e,t,n,a,i){var o=kl(r),l=kl(e),s=o?hm:om(r),u=l?hm:om(e);s=s==fm?Bs:s,u=u==fm?Bs:u;var c=s==Bs,f=u==Bs,h=s==u;if(h&&lm(r)){if(!lm(e))return!1;o=!0,c=!1}if(h&&!c)return i||(i=new Du),o||kO(r)?CS(r,e,t,n,a,i):TF(r,e,s,t,n,a,i);if(!(t&kF)){var d=c&&dm.call(r,"__wrapped__"),p=f&&dm.call(e,"__wrapped__");if(d||p){var v=d?r.value():r,g=p?e.value():e;return i||(i=new Du),a(v,g,t,n,i)}}return h?(i||(i=new Du),FF(r,e,t,n,a,i)):!1}function Uv(r,e,t,n,a){return r===e?!0:r==null||e==null||!sm(r)&&!sm(e)?r!==r&&e!==e:RF(r,e,t,n,Uv,a)}var LF=1,DF=2;function _F(r,e,t,n){var a=t.length,i=a,o=!n;if(r==null)return!i;for(r=Object(r);a--;){var l=t[a];if(o&&l[2]?l[1]!==r[l[0]]:!(l[0]in r))return!1}for(;++a<i;){l=t[a];var s=l[0],u=r[s],c=l[1];if(o&&l[2]){if(u===void 0&&!(s in r))return!1}else{var f=new Du;if(n)var h=n(u,c,s,r,e,f);if(!(h===void 0?Uv(c,u,LF|DF,n,f):h))return!1}}return!0}function AS(r){return r===r&&!Pl(r)}function BF(r){for(var e=PO(r),t=e.length;t--;){var n=e[t],a=r[n];e[t]=[n,a,AS(a)]}return e}function ES(r,e){return function(t){return t==null?!1:t[r]===e&&(e!==void 0||r in Object(t))}}function NF(r){var e=BF(r);return e.length==1&&e[0][2]?ES(e[0][0],e[0][1]):function(t){return t===r||_F(t,r,e)}}function $F(r,e){return r!=null&&e in Object(r)}function jF(r,e,t){e=qv(e,r);for(var n=-1,a=e.length,i=!1;++n<a;){var o=Bc(e[n]);if(!(i=r!=null&&t(r,o)))break;r=r[o]}return i||++n!=a?i:(a=r==null?0:r.length,!!a&&RO(a)&&mS(o,a)&&(kl(r)||LO(r)))}function VF(r,e){return r!=null&&jF(r,e,$F)}var HF=1,zF=2;function WF(r,e){return xS(r)&&AS(e)?ES(Bc(r),e):function(t){var n=vp(t,r);return n===void 0&&n===e?VF(t,r):Uv(e,n,HF|zF)}}function GF(r){return function(e){return e==null?void 0:e[r]}}function qF(r){return function(e){return bS(e,r)}}function YF(r){return xS(r)?GF(Bc(r)):qF(r)}function UF(r){return typeof r=="function"?r:r==null?nF:typeof r=="object"?kl(r)?WF(r[0],r[1]):NF(r):YF(r)}function XF(r,e,t,n){if(!Pl(r))return r;e=qv(e,r);for(var a=-1,i=e.length,o=i-1,l=r;l!=null&&++a<i;){var s=Bc(e[a]),u=t;if(s==="__proto__"||s==="constructor"||s==="prototype")return r;if(a!=o){var c=l[s];u=n?n(c,s,l):void 0,u===void 0&&(u=Pl(c)?c:mS(e[a+1])?[]:{})}DO(l,s,u),l=l[s]}return r}function KF(r,e,t){for(var n=-1,a=e.length,i={};++n<a;){var o=e[n],l=bS(r,o);t(l,o)&&XF(i,qv(o,r),l)}return i}function ZF(r,e){if(r==null)return{};var t=ZO(_O(r),function(n){return[n]});return e=UF(e),KF(r,t,function(n,a){return e(n,a[0])})}const QF=window.React.createContext,JF=QF({dragDropManager:void 0});function ma(r,e,...t){if(t2()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(e.replace(/%s/g,function(){return t[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function t2(){return typeof process<"u"&&!0}var e2=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!r(e[o],t[o]))return!1}return!0}return e!==e&&t!==t};const r2=_c(e2),n2=window.React.useEffect,a2=window.React.useLayoutEffect,hi=typeof window<"u"?a2:n2,i2=window.React.useCallback,o2=window.React.useState;function l2(r,e,t){const[n,a]=o2(()=>e(r)),i=i2(()=>{const o=e(r);r2(n,o)||(a(o),t&&t())},[n,r,t]);return hi(i),[n,i]}function s2(r,e,t){const[n,a]=l2(r,e,t);return hi(function(){const o=r.getHandlerId();if(o!=null)return r.subscribeToStateChange(a,{handlerIds:[o]})},[r,a]),n}function TS(r,e,t){return s2(e,r||(()=>({})),()=>t.reconnect())}const u2=window.React.useMemo;function IS(r,e){const t=[...e||[]];return e==null&&typeof r!="function"&&t.push(r),u2(()=>typeof r=="function"?r():r,t)}const MS=window.React.useMemo;function c2(r){return MS(()=>r.hooks.dragSource(),[r])}function f2(r){return MS(()=>r.hooks.dragPreview(),[r])}let lh=!1,sh=!1;class h2{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ma(!lh,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return lh=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{lh=!1}}isDragging(){if(!this.sourceId)return!1;ma(!sh,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return sh=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{sh=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let uh=!1;class d2{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;ma(!uh,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return uh=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{uh=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function p2(r,e,t){const n=t.getRegistry(),a=n.addTarget(r,e);return[a,()=>n.removeTarget(a)]}function v2(r,e,t){const n=t.getRegistry(),a=n.addSource(r,e);return[a,()=>n.removeSource(a)]}function gp(r,e,t,n){let a=t?t.call(n,r,e):void 0;if(a!==void 0)return!!a;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const i=Object.keys(r),o=Object.keys(e);if(i.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let s=0;s<i.length;s++){const u=i[s];if(!l(u))return!1;const c=r[u],f=e[u];if(a=t?t.call(n,c,f,u):void 0,a===!1||a===void 0&&c!==f)return!1}return!0}function yp(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}const pm=window.React.cloneElement,g2=window.React.isValidElement;function y2(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function m2(r){return(e=null,t=null)=>{if(!g2(e)){const i=e;return r(i,t),i}const n=e;return y2(n),x2(n,t?i=>r(i,t):r)}}function OS(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const a=m2(n);e[t]=()=>a}}),e}function vm(r,e){typeof r=="function"?r(e):r.current=e}function x2(r,e){const t=r.ref;return ma(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?pm(r,{ref:n=>{vm(t,n),vm(e,n)}}):pm(r,{ref:e})}class b2{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!gp(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!gp(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=OS({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,yp(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,yp(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class w2{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!gp(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=OS({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,yp(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}const S2=window.React.useContext;function Co(){const{dragDropManager:r}=S2(JF);return ma(r!=null,"Expected drag drop context"),r}const C2=window.React.useMemo;function A2(r,e){const t=Co(),n=C2(()=>new b2(t.getBackend()),[t]);return hi(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),hi(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}const E2=window.React.useMemo;function T2(){const r=Co();return E2(()=>new h2(r),[r])}class I2{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,a=this.monitor,{isDragging:i}=n;return i?i(a):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:a}=e;a&&a(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}const M2=window.React.useEffect,O2=window.React.useMemo;function F2(r,e,t){const n=O2(()=>new I2(r,e,t),[e,t]);return M2(()=>{n.spec=r},[r]),n}const k2=window.React.useMemo;function P2(r){return k2(()=>{const e=r.type;return ma(e!=null,"spec.type must be defined"),e},[r])}function R2(r,e,t){const n=Co(),a=F2(r,e,t),i=P2(r);hi(function(){if(i!=null){const[l,s]=v2(i,a,n);return e.receiveHandlerId(l),t.receiveHandlerId(l),s}},[n,e,t,a,i])}function L2(r,e){const t=IS(r,e);ma(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=T2(),a=A2(t.options,t.previewOptions);return R2(t,n,a),[TS(t.collect,n,a),c2(a),f2(a)]}const D2=window.React.useMemo;function _2(r){return D2(()=>r.hooks.dropTarget(),[r])}const B2=window.React.useMemo;function N2(r){const e=Co(),t=B2(()=>new w2(e.getBackend()),[e]);return hi(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}const $2=window.React.useMemo;function j2(){const r=Co();return $2(()=>new d2(r),[r])}const V2=window.React.useMemo;function H2(r){const{accept:e}=r;return V2(()=>(ma(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class z2{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}const W2=window.React.useEffect,G2=window.React.useMemo;function q2(r,e){const t=G2(()=>new z2(r,e),[e]);return W2(()=>{t.spec=r},[r]),t}function Y2(r,e,t){const n=Co(),a=q2(r,e),i=H2(r);hi(function(){const[l,s]=p2(i,a,n);return e.receiveHandlerId(l),t.receiveHandlerId(l),s},[n,e,a,t,i.map(o=>o.toString()).join("|")])}function xr(r,e){const t=IS(r,e),n=j2(),a=N2(t.options);return Y2(t,n,a),[TS(t.collect,n,a),_2(a)]}const FS=new Map;function Vc(r){return FS.get(r)}function U2(r,e){return FS.set(r,e)}const X2=window.axios,ea=X2.create({timeout:8e3,withCredentials:!0,headers:{},isCors:!0});ea.interceptors.request.use(r=>{const{headers:e=[],timeout:t=8,timeoutErrorMessage:n="请求超时，请稍后重试",requestIntercetpor:a}=Et.getState().page.interceptor||{};return r.timeout=t*1e3,r.timeoutErrorMessage=n,r.headers={...r.headers,...Yv(e),Accept:"application/json, text/plain, */*"},a?new Function("config",`return (${a})(config);`)(r):r});ea.interceptors.response.use(r=>{const{responseIntercetpor:e}=Et.getState().page.interceptor;let t=r;return e&&(t=new Function("response",`return (${e})(response);`)(r)),t},r=>{let e=r.message;return r.code==="ERR_NETWORK"&&(e="服务地址或网络异常，请稍后重试"),Promise.reject(e)});const Ui={defaults:ea.defaults,get(r,e={}){return ea.get(r,e)},post(r,e={},t={}){return ea.post(r,e,t)},put(r,e={},t={}){return ea.post(r,e,t)},delete(r,e={}){return ea.get(r,e)},download(r,e={},t={}){return ea.post(r,e,{...t,responseType:"blob"}).then(n=>{const a=new Blob([n.data],{type:n.data.type}),i=document.createElement("a"),o=n.headers.filename;return o?i.download=decodeURIComponent(o):i.download=t.filename||"fileName.xls",i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(i.href),n})}};var K2=Error,Z2=EvalError,Q2=RangeError,J2=ReferenceError,kS=SyntaxError,hs=TypeError,tk=URIError,ek=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==a||o.enumerable!==!0)return!1}return!0},gm=typeof Symbol<"u"&&Symbol,rk=ek,nk=function(){return typeof gm!="function"||typeof Symbol!="function"||typeof gm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:rk()},ch={__proto__:null,foo:{}},ak=Object,ik=function(){return{__proto__:ch}.foo===ch.foo&&!(ch instanceof ak)},ok="Function.prototype.bind called on incompatible ",lk=Object.prototype.toString,sk=Math.max,uk="[object Function]",ym=function(e,t){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},ck=function(e,t){for(var n=[],a=t||0,i=0;a<e.length;a+=1,i+=1)n[i]=e[a];return n},fk=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},hk=function(e){var t=this;if(typeof t!="function"||lk.apply(t)!==uk)throw new TypeError(ok+t);for(var n=ck(arguments,1),a,i=function(){if(this instanceof a){var c=t.apply(this,ym(n,arguments));return Object(c)===c?c:this}return t.apply(e,ym(n,arguments))},o=sk(0,t.length-n.length),l=[],s=0;s<o;s++)l[s]="$"+s;if(a=Function("binder","return function ("+fk(l,",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,a.prototype=new u,u.prototype=null}return a},dk=hk,Xv=Function.prototype.bind||dk,pk=Function.prototype.call,vk=Object.prototype.hasOwnProperty,gk=Xv,yk=gk.call(pk,vk),Lt,mk=K2,xk=Z2,bk=Q2,wk=J2,oo=kS,Xi=hs,Sk=tk,PS=Function,fh=function(r){try{return PS('"use strict"; return ('+r+").constructor;")()}catch{}},ei=Object.getOwnPropertyDescriptor;if(ei)try{ei({},"")}catch{ei=null}var hh=function(){throw new Xi},Ck=ei?function(){try{return arguments.callee,hh}catch{try{return ei(arguments,"callee").get}catch{return hh}}}():hh,Oi=nk(),Ak=ik(),ke=Object.getPrototypeOf||(Ak?function(r){return r.__proto__}:null),$i={},Ek=typeof Uint8Array>"u"||!ke?Lt:ke(Uint8Array),ri={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Lt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lt:ArrayBuffer,"%ArrayIteratorPrototype%":Oi&&ke?ke([][Symbol.iterator]()):Lt,"%AsyncFromSyncIteratorPrototype%":Lt,"%AsyncFunction%":$i,"%AsyncGenerator%":$i,"%AsyncGeneratorFunction%":$i,"%AsyncIteratorPrototype%":$i,"%Atomics%":typeof Atomics>"u"?Lt:Atomics,"%BigInt%":typeof BigInt>"u"?Lt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":mk,"%eval%":eval,"%EvalError%":xk,"%Float32Array%":typeof Float32Array>"u"?Lt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lt:FinalizationRegistry,"%Function%":PS,"%GeneratorFunction%":$i,"%Int8Array%":typeof Int8Array>"u"?Lt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oi&&ke?ke(ke([][Symbol.iterator]())):Lt,"%JSON%":typeof JSON=="object"?JSON:Lt,"%Map%":typeof Map>"u"?Lt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Oi||!ke?Lt:ke(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lt:Promise,"%Proxy%":typeof Proxy>"u"?Lt:Proxy,"%RangeError%":bk,"%ReferenceError%":wk,"%Reflect%":typeof Reflect>"u"?Lt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Oi||!ke?Lt:ke(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Oi&&ke?ke(""[Symbol.iterator]()):Lt,"%Symbol%":Oi?Symbol:Lt,"%SyntaxError%":oo,"%ThrowTypeError%":Ck,"%TypedArray%":Ek,"%TypeError%":Xi,"%Uint8Array%":typeof Uint8Array>"u"?Lt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lt:Uint32Array,"%URIError%":Sk,"%WeakMap%":typeof WeakMap>"u"?Lt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lt:WeakSet};if(ke)try{null.error}catch(r){var Tk=ke(ke(r));ri["%Error.prototype%"]=Tk}var Ik=function r(e){var t;if(e==="%AsyncFunction%")t=fh("async function () {}");else if(e==="%GeneratorFunction%")t=fh("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=fh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=r("%AsyncGenerator%");a&&ke&&(t=ke(a.prototype))}return ri[e]=t,t},mm={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ds=Xv,Ju=yk,Mk=ds.call(Function.call,Array.prototype.concat),Ok=ds.call(Function.apply,Array.prototype.splice),xm=ds.call(Function.call,String.prototype.replace),tc=ds.call(Function.call,String.prototype.slice),Fk=ds.call(Function.call,RegExp.prototype.exec),kk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pk=/\\(\\)?/g,Rk=function(e){var t=tc(e,0,1),n=tc(e,-1);if(t==="%"&&n!=="%")throw new oo("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new oo("invalid intrinsic syntax, expected opening `%`");var a=[];return xm(e,kk,function(i,o,l,s){a[a.length]=l?xm(s,Pk,"$1"):o||i}),a},Lk=function(e,t){var n=e,a;if(Ju(mm,n)&&(a=mm[n],n="%"+a[0]+"%"),Ju(ri,n)){var i=ri[n];if(i===$i&&(i=Ik(n)),typeof i>"u"&&!t)throw new Xi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:i}}throw new oo("intrinsic "+e+" does not exist!")},Ao=function(e,t){if(typeof e!="string"||e.length===0)throw new Xi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Xi('"allowMissing" argument must be a boolean');if(Fk(/^%?[^%]*%?$/,e)===null)throw new oo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Rk(e),a=n.length>0?n[0]:"",i=Lk("%"+a+"%",t),o=i.name,l=i.value,s=!1,u=i.alias;u&&(a=u[0],Ok(n,Mk([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var h=n[c],d=tc(h,0,1),p=tc(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new oo("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(s=!0),a+="."+h,o="%"+a+"%",Ju(ri,o))l=ri[o];else if(l!=null){if(!(h in l)){if(!t)throw new Xi("base intrinsic for "+e+" exists, but the property is not available.");return}if(ei&&c+1>=n.length){var v=ei(l,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[h]}else f=Ju(l,h),l=l[h];f&&!s&&(ri[o]=l)}}return l},RS={exports:{}},dh,bm;function Kv(){if(bm)return dh;bm=1;var r=Ao,e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return dh=e,dh}var Dk=Ao,Bu=Dk("%Object.getOwnPropertyDescriptor%",!0);if(Bu)try{Bu([],"length")}catch{Bu=null}var LS=Bu,wm=Kv(),_k=kS,Fi=hs,Sm=LS,Bk=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Fi("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Fi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fi("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!Sm&&Sm(e,t);if(wm)wm(e,t,{configurable:o===null&&s?s.configurable:!o,enumerable:a===null&&s?s.enumerable:!a,value:n,writable:i===null&&s?s.writable:!i});else if(l||!a&&!i&&!o)e[t]=n;else throw new _k("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},mp=Kv(),DS=function(){return!!mp};DS.hasArrayLengthDefineBug=function(){if(!mp)return null;try{return mp([],"length",{value:1}).length!==1}catch{return!0}};var Nk=DS,$k=Ao,Cm=Bk,jk=Nk(),Am=LS,Em=hs,Vk=$k("%Math.floor%"),Hk=function(e,t){if(typeof e!="function")throw new Em("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||Vk(t)!==t)throw new Em("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,i=!0;if("length"in e&&Am){var o=Am(e,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(i=!1)}return(a||i||!n)&&(jk?Cm(e,"length",t,!0,!0):Cm(e,"length",t)),e};(function(r){var e=Xv,t=Ao,n=Hk,a=hs,i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,i),s=Kv(),u=t("%Math.max%");r.exports=function(h){if(typeof h!="function")throw new a("a function is required");var d=l(e,o,arguments);return n(d,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return l(e,i,arguments)};s?s(r.exports,"apply",{value:c}):r.exports.apply=c})(RS);var zk=RS.exports,_S=Ao,BS=zk,Wk=BS(_S("String.prototype.indexOf")),Gk=function(e,t){var n=_S(e,!!t);return typeof n=="function"&&Wk(e,".prototype.")>-1?BS(n):n};const qk={},Yk=Object.freeze(Object.defineProperty({__proto__:null,default:qk},Symbol.toStringTag,{value:"Module"})),Uk=BO(Yk);var Zv=typeof Map=="function"&&Map.prototype,ph=Object.getOwnPropertyDescriptor&&Zv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ec=Zv&&ph&&typeof ph.get=="function"?ph.get:null,Tm=Zv&&Map.prototype.forEach,Qv=typeof Set=="function"&&Set.prototype,vh=Object.getOwnPropertyDescriptor&&Qv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,rc=Qv&&vh&&typeof vh.get=="function"?vh.get:null,Im=Qv&&Set.prototype.forEach,Xk=typeof WeakMap=="function"&&WeakMap.prototype,gl=Xk?WeakMap.prototype.has:null,Kk=typeof WeakSet=="function"&&WeakSet.prototype,yl=Kk?WeakSet.prototype.has:null,Zk=typeof WeakRef=="function"&&WeakRef.prototype,Mm=Zk?WeakRef.prototype.deref:null,Qk=Boolean.prototype.valueOf,Jk=Object.prototype.toString,tP=Function.prototype.toString,eP=String.prototype.match,Jv=String.prototype.slice,sa=String.prototype.replace,rP=String.prototype.toUpperCase,Om=String.prototype.toLowerCase,NS=RegExp.prototype.test,Fm=Array.prototype.concat,un=Array.prototype.join,nP=Array.prototype.slice,km=Math.floor,xp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gh=Object.getOwnPropertySymbols,bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,lo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ge=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===lo||!0)?Symbol.toStringTag:null,$S=Object.prototype.propertyIsEnumerable,Pm=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Rm(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||NS.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-km(-r):km(r);if(n!==r){var a=String(n),i=Jv.call(e,a.length+1);return sa.call(a,t,"$&_")+"."+sa.call(sa.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return sa.call(e,t,"$&_")}var wp=Uk,Lm=wp.custom,Dm=VS(Lm)?Lm:null,aP=function r(e,t,n,a){var i=t||{};if(ra(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ra(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ra(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ra(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ra(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zS(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?Rm(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return l?Rm(e,u):u}var c=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return Sp(e)?"[Array]":"[Object]";var f=SP(i,n);if(typeof a>"u")a=[];else if(HS(a,e)>=0)return"[Circular]";function h(k,L,N){if(L&&(a=nP.call(a),a.push(L)),N){var R={depth:i.depth};return ra(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),r(k,R,n+1,a)}return r(k,i,n+1,a)}if(typeof e=="function"&&!_m(e)){var d=dP(e),p=Ns(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+un.call(p,", ")+" }":"")}if(VS(e)){var v=lo?sa.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):bp.call(e);return typeof e=="object"&&!lo?Go(v):v}if(xP(e)){for(var g="<"+Om.call(String(e.nodeName)),y=e.attributes||[],m=0;m<y.length;m++)g+=" "+y[m].name+"="+jS(iP(y[m].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+Om.call(String(e.nodeName))+">",g}if(Sp(e)){if(e.length===0)return"[]";var b=Ns(e,h);return f&&!wP(b)?"["+Cp(b,f)+"]":"[ "+un.call(b,", ")+" ]"}if(lP(e)){var x=Ns(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!$S.call(e,"cause")?"{ ["+String(e)+"] "+un.call(Fm.call("[cause]: "+h(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+un.call(x,", ")+" }"}if(typeof e=="object"&&o){if(Dm&&typeof e[Dm]=="function"&&wp)return wp(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(pP(e)){var w=[];return Tm&&Tm.call(e,function(k,L){w.push(h(L,e,!0)+" => "+h(k,e))}),Bm("Map",ec.call(e),w,f)}if(yP(e)){var S=[];return Im&&Im.call(e,function(k){S.push(h(k,e))}),Bm("Set",rc.call(e),S,f)}if(vP(e))return yh("WeakMap");if(mP(e))return yh("WeakSet");if(gP(e))return yh("WeakRef");if(uP(e))return Go(h(Number(e)));if(fP(e))return Go(h(xp.call(e)));if(cP(e))return Go(Qk.call(e));if(sP(e))return Go(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===nr)return"{ [object globalThis] }";if(!oP(e)&&!_m(e)){var C=Ns(e,h),T=Pm?Pm(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",I=!T&&Ge&&Object(e)===e&&Ge in e?Jv.call(Ma(e),8,-1):F?"Object":"",M=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=M+(I||F?"["+un.call(Fm.call([],I||[],F||[]),": ")+"] ":"");return C.length===0?O+"{}":f?O+"{"+Cp(C,f)+"}":O+"{ "+un.call(C,", ")+" }"}return String(e)};function jS(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function iP(r){return sa.call(String(r),/"/g,"&quot;")}function Sp(r){return Ma(r)==="[object Array]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function oP(r){return Ma(r)==="[object Date]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function _m(r){return Ma(r)==="[object RegExp]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function lP(r){return Ma(r)==="[object Error]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function sP(r){return Ma(r)==="[object String]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function uP(r){return Ma(r)==="[object Number]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function cP(r){return Ma(r)==="[object Boolean]"&&(!Ge||!(typeof r=="object"&&Ge in r))}function VS(r){if(lo)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!bp)return!1;try{return bp.call(r),!0}catch{}return!1}function fP(r){if(!r||typeof r!="object"||!xp)return!1;try{return xp.call(r),!0}catch{}return!1}var hP=Object.prototype.hasOwnProperty||function(r){return r in this};function ra(r,e){return hP.call(r,e)}function Ma(r){return Jk.call(r)}function dP(r){if(r.name)return r.name;var e=eP.call(tP.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function HS(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function pP(r){if(!ec||!r||typeof r!="object")return!1;try{ec.call(r);try{rc.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function vP(r){if(!gl||!r||typeof r!="object")return!1;try{gl.call(r,gl);try{yl.call(r,yl)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function gP(r){if(!Mm||!r||typeof r!="object")return!1;try{return Mm.call(r),!0}catch{}return!1}function yP(r){if(!rc||!r||typeof r!="object")return!1;try{rc.call(r);try{ec.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function mP(r){if(!yl||!r||typeof r!="object")return!1;try{yl.call(r,yl);try{gl.call(r,gl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function xP(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function zS(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return zS(Jv.call(r,0,e.maxStringLength),e)+n}var a=sa.call(sa.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,bP);return jS(a,"single",e)}function bP(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+rP.call(e.toString(16))}function Go(r){return"Object("+r+")"}function yh(r){return r+" { ? }"}function Bm(r,e,t,n){var a=n?Cp(t,n):un.call(t,", ");return r+" ("+e+") {"+a+"}"}function wP(r){for(var e=0;e<r.length;e++)if(HS(r[e],`
`)>=0)return!1;return!0}function SP(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=un.call(Array(r.indent+1)," ");else return null;return{base:t,prev:un.call(Array(e+1),t)}}function Cp(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+un.call(r,","+t)+`
`+e.prev}function Ns(r,e){var t=Sp(r),n=[];if(t){n.length=r.length;for(var a=0;a<r.length;a++)n[a]=ra(r,a)?e(r[a],r):""}var i=typeof gh=="function"?gh(r):[],o;if(lo){o={};for(var l=0;l<i.length;l++)o["$"+i[l]]=i[l]}for(var s in r)ra(r,s)&&(t&&String(Number(s))===s&&s<r.length||lo&&o["$"+s]instanceof Symbol||(NS.call(/[^\w$]/,s)?n.push(e(s,r)+": "+e(r[s],r)):n.push(s+": "+e(r[s],r))));if(typeof gh=="function")for(var u=0;u<i.length;u++)$S.call(r,i[u])&&n.push("["+e(i[u])+"]: "+e(r[i[u]],r));return n}var WS=Ao,Eo=Gk,CP=aP,AP=hs,$s=WS("%WeakMap%",!0),js=WS("%Map%",!0),EP=Eo("WeakMap.prototype.get",!0),TP=Eo("WeakMap.prototype.set",!0),IP=Eo("WeakMap.prototype.has",!0),MP=Eo("Map.prototype.get",!0),OP=Eo("Map.prototype.set",!0),FP=Eo("Map.prototype.has",!0),tg=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},kP=function(r,e){var t=tg(r,e);return t&&t.value},PP=function(r,e,t){var n=tg(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},RP=function(r,e){return!!tg(r,e)},LP=function(){var e,t,n,a={assert:function(i){if(!a.has(i))throw new AP("Side channel does not contain "+CP(i))},get:function(i){if($s&&i&&(typeof i=="object"||typeof i=="function")){if(e)return EP(e,i)}else if(js){if(t)return MP(t,i)}else if(n)return kP(n,i)},has:function(i){if($s&&i&&(typeof i=="object"||typeof i=="function")){if(e)return IP(e,i)}else if(js){if(t)return FP(t,i)}else if(n)return RP(n,i);return!1},set:function(i,o){$s&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new $s),TP(e,i,o)):js?(t||(t=new js),OP(t,i,o)):(n||(n={key:{},next:null}),PP(n,i,o))}};return a},DP=String.prototype.replace,_P=/%20/g,mh={RFC1738:"RFC1738",RFC3986:"RFC3986"},eg={default:mh.RFC3986,formatters:{RFC1738:function(r){return DP.call(r,_P,"+")},RFC3986:function(r){return String(r)}},RFC1738:mh.RFC1738,RFC3986:mh.RFC3986},BP=eg,xh=Object.prototype.hasOwnProperty,Ga=Array.isArray,en=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),NP=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Ga(n)){for(var a=[],i=0;i<n.length;++i)typeof n[i]<"u"&&a.push(n[i]);t.obj[t.prop]=a}}},GS=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},$P=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Ga(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xh.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var a=e;return Ga(e)&&!Ga(t)&&(a=GS(e,n)),Ga(e)&&Ga(t)?(t.forEach(function(i,o){if(xh.call(e,o)){var l=e[o];l&&typeof l=="object"&&i&&typeof i=="object"?e[o]=r(l,i,n):e.push(i)}else e[o]=i}),e):Object.keys(t).reduce(function(i,o){var l=t[o];return xh.call(i,o)?i[o]=r(i[o],l,n):i[o]=l,i},a)},jP=function(e,t){return Object.keys(t).reduce(function(n,a){return n[a]=t[a],n},e)},VP=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},bh=1024,HP=function(e,t,n,a,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",s=0;s<o.length;s+=bh){for(var u=o.length>=bh?o.slice(s,s+bh):o,c=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===BP.RFC1738&&(h===40||h===41)){c[c.length]=u.charAt(f);continue}if(h<128){c[c.length]=en[h];continue}if(h<2048){c[c.length]=en[192|h>>6]+en[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=en[224|h>>12]+en[128|h>>6&63]+en[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|u.charCodeAt(f)&1023),c[c.length]=en[240|h>>18]+en[128|h>>12&63]+en[128|h>>6&63]+en[128|h&63]}l+=c.join("")}return l},zP=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],a=0;a<t.length;++a)for(var i=t[a],o=i.obj[i.prop],l=Object.keys(o),s=0;s<l.length;++s){var u=l[s],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(t.push({obj:o,prop:u}),n.push(c))}return NP(t),e},WP=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},GP=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},qP=function(e,t){return[].concat(e,t)},YP=function(e,t){if(Ga(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(t(e[a]));return n}return t(e)},qS={arrayToObject:GS,assign:jP,combine:qP,compact:zP,decode:VP,encode:HP,isBuffer:GP,isRegExp:WP,maybeMap:YP,merge:$P},YS=LP,Nu=qS,ml=eg,UP=Object.prototype.hasOwnProperty,US={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},sn=Array.isArray,XP=Array.prototype.push,XS=function(r,e){XP.apply(r,sn(e)?e:[e])},KP=Date.prototype.toISOString,Nm=ml.default,Ee={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Nu.encode,encodeValuesOnly:!1,format:Nm,formatter:ml.formatters[Nm],indices:!1,serializeDate:function(e){return KP.call(e)},skipNulls:!1,strictNullHandling:!1},ZP=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},wh={},QP=function r(e,t,n,a,i,o,l,s,u,c,f,h,d,p,v,g,y,m){for(var b=e,x=m,w=0,S=!1;(x=x.get(wh))!==void 0&&!S;){var C=x.get(e);if(w+=1,typeof C<"u"){if(C===w)throw new RangeError("Cyclic object value");S=!0}typeof x.get(wh)>"u"&&(w=0)}if(typeof c=="function"?b=c(t,b):b instanceof Date?b=d(b):n==="comma"&&sn(b)&&(b=Nu.maybeMap(b,function(B){return B instanceof Date?d(B):B})),b===null){if(o)return u&&!g?u(t,Ee.encoder,y,"key",p):t;b=""}if(ZP(b)||Nu.isBuffer(b)){if(u){var T=g?t:u(t,Ee.encoder,y,"key",p);return[v(T)+"="+v(u(b,Ee.encoder,y,"value",p))]}return[v(t)+"="+v(String(b))]}var F=[];if(typeof b>"u")return F;var I;if(n==="comma"&&sn(b))g&&u&&(b=Nu.maybeMap(b,u)),I=[{value:b.length>0?b.join(",")||null:void 0}];else if(sn(c))I=c;else{var M=Object.keys(b);I=f?M.sort(f):M}var O=s?t.replace(/\./g,"%2E"):t,k=a&&sn(b)&&b.length===1?O+"[]":O;if(i&&sn(b)&&b.length===0)return k+"[]";for(var L=0;L<I.length;++L){var N=I[L],R=typeof N=="object"&&typeof N.value<"u"?N.value:b[N];if(!(l&&R===null)){var D=h&&s?N.replace(/\./g,"%2E"):N,W=sn(b)?typeof n=="function"?n(k,D):k:k+(h?"."+D:"["+D+"]");m.set(e,w);var V=YS();V.set(wh,m),XS(F,r(R,W,n,a,i,o,l,s,n==="comma"&&g&&sn(b)?null:u,c,f,h,d,p,v,g,y,V))}}return F},JP=function(e){if(!e)return Ee;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Ee.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ml.default;if(typeof e.format<"u"){if(!UP.call(ml.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=ml.formatters[n],i=Ee.filter;(typeof e.filter=="function"||sn(e.filter))&&(i=e.filter);var o;if(e.arrayFormat in US?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ee.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ee.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ee.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ee.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ee.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ee.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ee.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ee.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ee.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ee.encodeValuesOnly,filter:i,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ee.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ee.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ee.strictNullHandling}},tR=function(r,e){var t=r,n=JP(e),a,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):sn(n.filter)&&(i=n.filter,a=i);var o=[];if(typeof t!="object"||t===null)return"";var l=US[n.arrayFormat],s=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(t)),n.sort&&a.sort(n.sort);for(var u=YS(),c=0;c<a.length;++c){var f=a[c];n.skipNulls&&t[f]===null||XS(o,QP(t[f],f,l,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},so=qS,Ap=Object.prototype.hasOwnProperty,eR=Array.isArray,ve={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:so.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},rR=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},KS=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},nR="utf8=%26%2310003%3B",aR="utf8=%E2%9C%93",iR=function(e,t){var n={__proto__:null},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=a.split(t.delimiter,i),l=-1,s,u=t.charset;if(t.charsetSentinel)for(s=0;s<o.length;++s)o[s].indexOf("utf8=")===0&&(o[s]===aR?u="utf-8":o[s]===nR&&(u="iso-8859-1"),l=s,s=o.length);for(s=0;s<o.length;++s)if(s!==l){var c=o[s],f=c.indexOf("]="),h=f===-1?c.indexOf("="):f+1,d,p;h===-1?(d=t.decoder(c,ve.decoder,u,"key"),p=t.strictNullHandling?null:""):(d=t.decoder(c.slice(0,h),ve.decoder,u,"key"),p=so.maybeMap(KS(c.slice(h+1),t),function(g){return t.decoder(g,ve.decoder,u,"value")})),p&&t.interpretNumericEntities&&u==="iso-8859-1"&&(p=rR(p)),c.indexOf("[]=")>-1&&(p=eR(p)?[p]:p);var v=Ap.call(n,d);v&&t.duplicates==="combine"?n[d]=so.combine(n[d],p):(!v||t.duplicates==="last")&&(n[d]=p)}return n},oR=function(r,e,t,n){for(var a=n?e:KS(e,t),i=r.length-1;i>=0;--i){var o,l=r[i];if(l==="[]"&&t.parseArrays)o=t.allowEmptyArrays&&a===""?[]:[].concat(a);else{o=t.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=t.decodeDotInKeys?s.replace(/%2E/g,"."):s,c=parseInt(u,10);!t.parseArrays&&u===""?o={0:a}:!isNaN(c)&&l!==u&&String(c)===u&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=a):u!=="__proto__"&&(o[u]=a)}a=o}return a},lR=function(e,t,n,a){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&o.exec(i),u=s?i.slice(0,s.index):i,c=[];if(u){if(!n.plainObjects&&Ap.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var f=0;n.depth>0&&(s=l.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&Ap.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),oR(c,t,n,a)}},sR=function(e){if(!e)return ve;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?ve.charset:e.charset,n=typeof e.duplicates>"u"?ve.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ve.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ve.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ve.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ve.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ve.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ve.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ve.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ve.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ve.decoder,delimiter:typeof e.delimiter=="string"||so.isRegExp(e.delimiter)?e.delimiter:ve.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ve.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ve.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ve.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ve.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ve.strictNullHandling}},uR=function(r,e){var t=sR(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?iR(r,t):r,a=t.plainObjects?Object.create(null):{},i=Object.keys(n),o=0;o<i.length;++o){var l=i[o],s=lR(l,n[l],t,typeof r=="string");a=so.merge(a,s,t)}return t.allowSparse===!0?a:so.compact(a)},cR=tR,fR=uR,hR=eg,dR={formats:hR,parse:fR,stringify:cR};const pR=_c(dR),Fe=async(r={sourceType:"json",id:"",source:"",sourceField:""},e={})=>{var t,n;if(r.sourceType==="json")return{ret:0,data:r.source};if(r.sourceType==="api"||r.actionType==="request"||r.actionType==="download"){if(!r.id)return{ret:0,data:""};const a=Et.getState().page.apis,{method:i,stgApi:o,preApi:l,prdApi:s,contentType:u,replaceData:c="merge",isCors:f=!0,params:h,result:d,tips:p}=a[r.id]||{},v=ZS(i,c,h,e),g=_u(o,e),y=_u(l,e),m=_u(s,e);v.url=um().env==="stg"?g:um().env==="pre"?y:m,v.isCors=f;let b=null;try{if(r.actionType==="download"){if(b=await Ui.download(v.url,v.data,{...v,filename:r.filename})||{},b.data instanceof Blob)return{ret:0,data:b.data,msg:""}}else i==="GET"||i==="DELETE"?b=await Ui.get(v.url,v)||{}:(v.headers={...v.headers,"Content-Type":u},b=await Ui.post(v.url,u==="application/x-www-form-urlencoded"?pR.stringify(v.data):v.data,v)||{})}catch(F){b={status:200,data:{ret:500,msg:F}}}let x=b.data;Array.isArray(x)&&(x={ret:0,data:x,msg:""});const w=d.code?Number(x[d.code]):0,S=d.data?x[d.data]:x,C=d.msg?x[d.msg]:"";w===d.codeValue?p!=null&&p.success&&qr.success(p.success):p!=null&&p.isError&&C?qr.error(C):p!=null&&p.fail&&qr.error(p==null?void 0:p.fail);let T=S;return typeof r.sourceField=="object"?r.sourceField.type==="static"?T=r.sourceField.value?vp(S,r.sourceField.value):S:T=fi(r.sourceField.value,S):typeof r.sourceField=="string"&&r.sourceField&&(T=vp(S,r.sourceField)),{ret:w,data:T,originData:S,msg:C}}else return(t=r.name)!=null&&t.value?{ret:0,data:fi((n=r.name)==null?void 0:n.value)}:{ret:0,data:""}},ZS=(r,e,t=[],n)=>{const a=Yv(t,n);let i={};return e==="merge"?Array.isArray(n)||typeof n!="object"?Object.keys(a).length>0?i=a:i=n:i={...a,...n}:e==="cover"&&(Pl(n)&&Object.keys(n).length>0||!Pl(n)&&n)?i=n:i=a,r==="GET"||r==="DELETE"?{params:i}:{data:i}};function il(r,e=!0){var a,i;let t=null,n=null;for(const o of r){if(o.type==="start"||o.type==="end")continue;let l={action:{...o.config}};if(o.type==="condition"){const s=il(((a=o.children.find(f=>f.title==="成功"))==null?void 0:a.children)||[],!0),u=il(((i=o.children.find(f=>f.title==="失败"))==null?void 0:i.children)||[],!1),c=r.slice(r.indexOf(o)+1).filter(f=>f.type!=="end");if(l={success:s,fail:u},!n)t=l;else if(e)if(!n.next)n.next=l;else{let f=n.next;for(;f.next;)f=f.next;f.next=l}else if(!n.fail)n.fail=l;else{let f=n.fail;for(;f.next;)f=f.next;f.next=l}if(n=l,c.length>0){let f=il(c,!0);if(!n.success)n.success=f;else{let d=n.success;for(;d.next;)d=d.next;for(;f.action;)d.next={action:f.action},d=d.next,f=f.next||{}}let h=il(c,!0);if(!n.fail)n.fail=h;else{let d=n.fail;for(;d.next;)d=d.next;for(;h.action;)d.next={action:h.action},d=d.next,h=h.next||{}}}}else if(!n)t=n=l;else if(e)if(!n.next)n.next=l;else{let s=n.next;for(;s.next;)s=s.next;s.next=l}else if(!n.next)n.next=l;else{let s=n.next;for(;s.next;)s=s.next;s.next=l}}return t}function di(r=[],e){const t=il(r);t!=null&&t.action&&oe(t,e)}const oe=(r,e={})=>{if(!(!r||!(r!=null&&r.action)))try{const t=vR(r.action.data,e);delete r.action.data,r.action=wS(r.action),r.action.actionType==="methods"?QS(r,t):r.action.actionType==="showConfirm"?gR(r,t):r.action.actionType==="message"?yR(r,t):r.action.actionType==="notifacation"?mR(r,t):r.action.actionType==="request"||r.action.actionType==="download"?xR(r,t):r.action.actionType==="openModal"?$m(r,t,"open"):r.action.actionType==="closeModal"?$m(r,t,"close"):r.action.actionType==="jumpLink"?bR(r,t):r.action.actionType==="reloadPage"?window.location.reload():r.action.actionType==="variable"?wR(r,t):r.action.actionType==="copy"?SR(r,t):r.action.actionType==="setTimeout"?CR(r,t):r.action.actionType==="visible"?AR(r,t):r.action.actionType==="disable"?ER(r,t):r.action.actionType==="sendMessage"?TR(r,t):r.action.actionType==="createNode"?IR(r,t):r.action.actionType==="script"&&MR(r,t)}catch(t){console.error(`事件流[${r.actionType}执行异常]`,t)}},vR=(r=[],e={})=>{const t=Yv(r,e);return!(r!=null&&r.length)&&(Array.isArray(e)||typeof e=="string"||typeof e=="number"||typeof e=="boolean")?e:(e&&Object.keys(e).forEach(n=>{n&&typeof e[n]<"u"&&e[n]!=null&&(t[n]=e[n])}),wS(t))};async function QS({action:r,next:e},t={}){var a;const n=Vc(r.target);if(!n){sessionStorage.setItem("mars-event-flow-wait","1"),Number(sessionStorage.getItem("mars-event-flow-wait"))<10?setTimeout(()=>{QS({action:r,next:e},t)},100):console.error("组件加载超时，请检查组件是否存在");return}try{const i=await((a=n==null?void 0:n[r.method])==null?void 0:a.call(n,{...t}));typeof i=="boolean"?oe(i?(e==null?void 0:e.success)||e:e==null?void 0:e.fail,t):setTimeout(()=>{(Array.isArray(i)||typeof i!="object")&&Xr(i)?oe((e==null?void 0:e.success)||e,i):oe((e==null?void 0:e.success)||e,Object.assign(t,i||{}))})}catch(i){oe(e==null?void 0:e.fail,t),console.error(`【${r.method}】方法调用失败：`,i)}}async function $m({action:r,next:e},t={},n){const a=Vc(r.target);n==="close"&&a.close({...t}),n==="open"&&await a.open({...t}),oe(e,t)}const gR=({action:r,next:e},t)=>{var n,a;(a=(n=NO)[r.type])==null||a.call(n,{title:r.title,content:r.content,okText:r.okText,cancelText:r.cancelText,onOk:()=>{oe((e==null?void 0:e.success)||e,t)},onCancel:()=>{oe(e==null?void 0:e.fail,t)}})},yR=({action:r,next:e},t)=>{qr.open({type:r.type,content:r.content,duration:r.duration}).then(()=>{oe(e,t)})},mR=({action:r,next:e},t)=>{$O.open({type:r.type,message:r.message,description:r.description,placement:r.placement,duration:r.duration}),oe(e,t)},xR=async({action:r,next:e},t)=>{const n=await Fe(r,t);n.ret===0?oe((e==null?void 0:e.success)||e,n.data):oe(e==null?void 0:e.fail,n.msg)},bR=async({action:r,next:e},t)=>{var a;const n=new URLSearchParams(t);if(r.jumpType==="route"){const i=`${r.url}${r.url.indexOf("?")>-1?"&":"?"}${n}`;jO.navigate(i)}else if(r.jumpType==="micro")window.microApp||console.warn("跨服务跳转：当前页面不在微应用环境中，无法跳转"),(a=window.microApp)==null||a.dispatch({type:"router",path:r.url,data:t});else if(r.jumpType==="link"){const i=`${r.url}${r.url.indexOf("?")>-1?"&":"?"}${n}`;r.isNewWindow?window.open(i):window.location.href=i}},wR=({action:r,next:e},t)=>{let n=r.assigmentType==="reset"?void 0:t[r.name];r.assigmentType==="reset"?n=void 0:r.assigmentType==="assigment"&&(r.assigmentWay==="static"?n=r.value:n=t),Et.getState().setVariableData({name:r.name,value:n}),oe(e,t)},SR=async({action:r,next:e},t)=>{try{const n=_u(r.content,t||{});await QO(n),oe(e,t)}catch(n){console.log("执行复制行为：",n)}},CR=async({action:r,next:e},t)=>{setTimeout(()=>{oe(e,t)},r.duration*1e3)},AR=async({action:r,next:e},t)=>{const n=Vc(r.target);r.showType==="static"?r.showResult==="show"?n.show({...t}):n.hide({...t}):r.expression?n.show({...t}):n.hide({...t}),oe(e,t)},ER=async({action:r,next:e},t)=>{const n=Vc(r.target);if(r.disableType==="static")r.disableResult?n.disable({...t}):n.enable({...t});else{const i=(r.expression??{}).value;fi(i)?n.disable({...t}):n.enable({...t})}oe(e,t)},TR=async({action:r,next:e},t)=>{const n=await Ui.post("https://mars-api.marsview.cc/api/robot/sendMessage",{...r,variables:t});n.data.ret===0?oe((e==null?void 0:e.success)||e,n.data.data):oe(e==null?void 0:e.fail,n.msg)},IR=async({action:r,next:e},t)=>{const n=await Ui.post("https://mars-api.marsview.cc/api/robot/createNode",{...r,variables:t});n.data.ret===0?oe((e==null?void 0:e.success)||e,n.data.data):oe(e==null?void 0:e.fail,n.msg)},MR=async({action:r,next:e},t)=>{const n=fi(r.scripts,t);typeof n=="boolean"?oe(n?(e==null?void 0:e.success)||e:e==null?void 0:e.fail,t):oe((e==null?void 0:e.success)||e,n||t)},OR=window.React;function FR(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[n,a]of r)if(!Object.is(a,e.get(n)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(const n of t)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(r[n],e[n]))return!1;return!0}const{useRef:kR}=OR;function JS(r){const e=kR();return t=>{const n=r(t);return FR(e.current,n)?e.current:e.current=n}}const PR=window.React,RR=window.React.Suspense,LR=window.React.forwardRef,tC=window.React.memo,jm=window.React.useEffect,Vm=window.React.useState,DR=window.dayjs,Hm=window.antd,br=tC(({elements:r=[]})=>A.jsx(A.Fragment,{children:r.map(e=>e?A.jsx(rg,{item:e},e.id):A.jsx(A.Fragment,{}))})),rg=tC(({item:r})=>{const[e,t]=Vm(null),[n,a]=Vm(),{elementsMap:i,variableData:o,formData:l}=Et(JS(h=>({elementsMap:h.page.elementsMap,variables:h.page.variables,variableData:h.page.variableData,formData:h.page.formData})));function s(){window.React=window.React||PR,window.dayjs=window.dayjs||DR,window.antd=window.antd||Hm}jm(()=>{i[r.id].remoteUrl?(s(),JO(r.type,i[r.id].remoteCssUrl),import(i[r.id].remoteUrl||"").then(h=>{t(()=>LR(h.default))})):t(mr[r.type]),a(i[r.id].config)},[]),jm(()=>{a(()=>VO(i[r.id].config,h=>{u(h),c(h)}))},[o,l,i]);const u=h=>{var d,p,v,g,y;if((d=h.props)!=null&&d.formItem){const m=((p=h.props)==null?void 0:p.formItem.rules)||[];m.map(w=>{w.pattern&&(w.pattern=new RegExp(w.pattern))}),h.props.formItem.rules=m,(v=r.parentId)!=null&&v.startsWith("FormList")&&h.props.formItem.name&&(h.props.formItem.name=[r.name,h.props.formItem.name]);const{labelCol:b,wrapperCol:x}=h.props.formItem;fe(b==null?void 0:b.span)&&fe(b==null?void 0:b.offset)&&((g=h.props.formItem)==null||delete g.labelCol),fe(x==null?void 0:x.span)&&fe(x==null?void 0:x.offset)&&((y=h.props.formItem)==null||delete y.wrapperCol)}},c=h=>{Object.keys(h.props||{}).map(d=>{const p=h.props[d];typeof p=="object"&&((p==null?void 0:p.type)==="static"?h.props[d]=p.value:(p==null?void 0:p.type)==="variable"&&(h.props[d]=fi(p.value)))})},f=()=>{const h={},d=(n==null?void 0:n.events)||[];if(!(d!=null&&d.length))return{};const p={};d.forEach(v=>{var g;((g=v.actions)==null?void 0:g.length)>0&&(p[v.eventName]=(p[v.eventName]||[]).concat([v.actions]))});for(const v in p)h[v]=g=>{p[v].forEach(y=>{di(y,g)})};return h};return e?A.jsx(RR,{fallback:A.jsx(Hm.Spin,{spinning:!0,tip:"加载中..."}),children:A.jsx(e,{className:["mars-component"],id:r.id,type:r.type,config:n,elements:r.elements||[],...f(),ref:h=>U2(r.id,h)})}):null}),_R=window.React.useEffect,BR=()=>{const{config:r,elements:e}=Et(t=>({config:t.page.config,elements:t.page.elements}));return _R(()=>{var t;(t=r.events)==null||t.forEach(n=>{var a;((a=n.actions)==null?void 0:a.length)>0&&di(n.actions,{})})},[r.events]),A.jsx("div",{style:r.style,id:"page",children:A.jsx(br,{elements:e||[]})})},NR=BR,$R={attrs:[{key:"PageSet",type:"Title",label:"页面配置"},{key:"PageName",type:"ColorPicker",label:"主题色",name:["theme"]}],config:{props:{theme:"#1677ff"},style:{color:"#000",backgroundColor:"#fff",padding:"20px"},scopeCss:"",scopeStyle:{color:"#000",backgroundColor:"#fff",padding:"20px"},events:[],api:{sourceType:"json",id:"",source:{},sourceField:""}},events:[{value:"onLoad",name:"初始化事件"}]},jR="_toolbar_168fr_1",VR="_title_168fr_7",HR="_action_168fr_11",zR="_slots_168fr_17",WR="_actionList_168fr_26",Vs={toolbar:jR,title:VR,action:HR,slots:zR,actionList:WR},GR=window.React,qR=window.React.forwardRef,YR=window.React.memo,UR=window.React.useEffect,XR=window.React.useImperativeHandle,Gn=window.React.useState,Hs=window.antd.Button,KR=window.antd.Table,Sh=window.antd.Image,Ch=window.antd.Tag,zm=window.antd.Tooltip,Wm=window.antd.Typography,Ah=window.antd.Badge,ZR=({id:r,type:e,config:t,elements:n,onCheckedChange:a},i)=>{var V,B,P,$,z,Y,q;const[o,l]=Gn({}),[s,u]=Gn({[t.props.field.pageNum]:1,[t.props.field.pageSize]:t.props.pagination.pageSize}),[c,f]=Gn([]),[h,d]=Gn(!1),[p,v]=Gn(0),[g,y]=Gn([]),[m,b]=Gn([]),[x,w]=Gn(!0),{addChildElements:S,variableData:C,updateToolbar:T}=Et(_=>({addChildElements:_.addChildElements,variableData:_.page.variableData,updateToolbar:_.updateToolbar}));UR(()=>{u(()=>{const _={[t.props.field.pageNum]:1,[t.props.field.pageSize]:t.props.pagination.pageSize};return F(t.props.hidePager?{}:_),_})},[t.api,t.props.field,((V=t.api)==null?void 0:V.sourceType)=="variable"?C:""]);const F=_=>{d(!0),Fe(t.api,_).then(G=>{d(!1),T(),(G==null?void 0:G.ret)===0&&(Array.isArray(G.data)&&f(G.data),t.props.field.total&&v(G.originData[t.props.field.total]||0))}).catch(()=>{d(!1)})},[,I]=xr({accept:"MENU_ITEM",drop(_,G){if(G.didDrop())return;const{config:X,events:K,methods:tt=[]}=mr[_.type+"Config"]||{};S({type:_.type,name:_.name,parentId:r,id:_.id,config:X,events:K,methods:tt})},collect:_=>({isOver:_.isOver(),canDrop:_.canDrop()})});XR(i,()=>({startLoading:()=>{d(!0)},stopLoading:()=>{d(!1)},show(){w(!0)},hide(){w(!1)},search:_=>{const G=ZF(_,X=>Xr(X));u({...s,[t.props.field.pageNum]:1}),l(G),F({...s,[t.props.field.pageNum]:1,...G})},reload:()=>{F({...s,...o})},clearData:()=>{f([])},checkSelectedRow:()=>g.length!==0,setSelectedRowKeys:_=>{y(_)},getSelectedRowKeys:()=>g||[],getSelectedRow:()=>m}));let M=null;t.props.selectionType&&(M={type:t.props.selectionType,selectedRowKeys:g,onChange(_,G){a==null||a(_),y(_),b(G)}});const O={rowSelection:M,rowKey:t.props.rowKey||"id",bordered:t.props.bordered,size:t.props.size,columns:t.props.columns.map((_,G)=>({..._,key:_.dataIndex||G,onCell(X,K){if(_.onCell)try{return new Function("record","index",`return (${_.onCell})(record,index);`)(X,K)}catch(tt){console.error(`列[${_.title}]渲染失败`,tt)}return{}},render(X,K,tt){var vt;let et=X;if(Xr(et)?_.type==="money"?et=pn(X,"currency"):_.type==="number"?et=pn(X):_.type==="date1"?et=io(X,"YYYY-MM-DD"):_.type==="date2"&&(et=io(X)):typeof t.props.empty>"u"?et="-":t.props.empty&&(et=t.props.empty),_.render)try{et=new Function("text","record","index",`return (${_.render})(text,record,index);`)(et,K,tt)}catch(st){console.error(`列[${_.title}]渲染失败`,st),et="解析异常"}if(_.type==="text"){const st=A.jsx(Hs,{type:"link",onClick:()=>N(_.eventName,K),children:et.toString()});return _.ellipsis&&_.copyable?A.jsx(zm,{title:et,children:A.jsx(Wm.Paragraph,{copyable:!0,style:{marginBottom:0},children:_.clickable?st:et.toString()})}):_.ellipsis?A.jsx(zm,{title:et,children:_.clickable?st:et.toString()}):_.copyable?A.jsx(Wm.Paragraph,{copyable:!0,children:_.clickable?st:et.toString()}):_.clickable?A.jsx(Hs,{type:"link",onClick:()=>N(_.eventName,K),children:et.toString()}):et.toString()}return _.type==="multiline"?Array.isArray(et)?et.map((st,yt)=>A.jsxs("div",{children:[A.jsx("span",{children:st.label}),A.jsx("span",{children:st.value})]},yt)):et.toString():_.type==="status"?Array.isArray(et)?et.map((st,yt)=>A.jsx(Ah,{status:st.status,text:st.text},yt)):typeof et=="object"?A.jsx(Ah,{status:et.status,text:et.text}):A.jsx(Ah,{status:"success",text:et.toString()}):_.type==="image"?Array.isArray(et)?A.jsx(Sh.PreviewGroup,{items:et,children:A.jsx(Sh,{width:30,src:et[0]})}):A.jsx(Sh,{src:et,width:30}):_.type==="tag"?Array.isArray(et)?et.map((st,yt)=>typeof st=="object"?A.jsx(Ch,{color:st.color,children:st.label},yt):A.jsx(Ch,{color:"green",children:st},st)):typeof et=="string"||typeof et=="number"?A.jsx(Ch,{color:"green",children:et}):et==null?void 0:et.toString():_.type==="action"?A.jsx("div",{className:Vs.action,children:(vt=_.list)==null?void 0:vt.map(st=>{var kt;let yt="";if(typeof st.text=="string")yt=st.text;else if(((kt=st.text)==null?void 0:kt.type)==="static")yt=st.text.value;else try{yt=new Function("text","record","index",`return (${st.text.value})(text,record,index);`)("",K,tt)}catch(Yt){console.error(`列[${st.title}]渲染失败`,Yt),yt="解析异常"}return A.jsx(Hs,{type:"link",size:"small",danger:st.danger,onClick:()=>N(st.eventName,K),children:yt},st.eventName)})}):et}})),dataSource:c,loading:h},k={total:p,current:s[t.props.field.pageNum]||1,pageSize:s[t.props.field.pageSize]||10,showSizeChanger:(B=t.props.pagination)==null?void 0:B.showSizeChanger,showQuickJumper:(P=t.props.pagination)==null?void 0:P.showQuickJumper,showTotal:($=t.props.pagination)!=null&&$.showTotal?_=>`共 ${_} 条数据`:void 0,position:(z=t.props.pagination)==null?void 0:z.position,onChange:(_,G)=>{u({[t.props.field.pageNum]:_,[t.props.field.pageSize]:G}),F({[t.props.field.pageNum]:_,[t.props.field.pageSize]:G})}},L=_=>{const G=t.events.find(X=>X.eventName===_);di(G==null?void 0:G.actions,o)},N=(_,G)=>{const X=t.events.find(K=>K.eventName===_);di(X==null?void 0:X.actions,G)},R=t.props.leftTitle,D=t.props.bulkActionList||[],W=xn;return x&&A.jsxs("div",{"data-id":r,"data-type":e,style:t.style,children:[R||n!=null&&n.length||D.length?A.jsxs("div",{className:Vs.toolbar,children:[t.props.leftTitle&&A.jsx("div",{className:Vs.title,children:t.props.leftTitle}),A.jsxs("div",{className:Vs.action,ref:I,children:[n!=null&&n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",children:"拖拽子元素到这里，一般用来放表单"}),D==null?void 0:D.map(_=>A.jsx(Hs,{type:_.type,danger:_.danger,icon:_.icon?GR.createElement(W[_.icon]):null,onClick:()=>L(_.eventName),children:_.text},_.eventName))]})]}):null,A.jsx(KR,{...O,scroll:{x:(Y=t.props.scroll)==null?void 0:Y.x,y:(q=t.props.scroll)==null?void 0:q.y},pagination:t.props.hidePager?!1:k})]})},QR=YR(qR(ZR));function nc(){return nc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nc.apply(this,arguments)}function JR(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function ng(r,e){if(r==null)return{};var t=JR(r,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ee(r){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(r)}function Kr(){Kr=function(){return e};var r,e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(R,D,W){R[D]=W.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(R,D,W){return Object.defineProperty(R,D,{value:W,enumerable:!0,configurable:!0,writable:!0}),R[D]}try{u({},"")}catch{u=function(W,V,B){return W[V]=B}}function c(R,D,W,V){var B=D&&D.prototype instanceof y?D:y,P=Object.create(B.prototype),$=new L(V||[]);return a(P,"_invoke",{value:I(R,W,$)}),P}function f(R,D,W){try{return{type:"normal",arg:R.call(D,W)}}catch(V){return{type:"throw",arg:V}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function y(){}function m(){}function b(){}var x={};u(x,o,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(N([])));S&&S!==t&&n.call(S,o)&&(x=S);var C=b.prototype=y.prototype=Object.create(x);function T(R){["next","throw","return"].forEach(function(D){u(R,D,function(W){return this._invoke(D,W)})})}function F(R,D){function W(B,P,$,z){var Y=f(R[B],R,P);if(Y.type!=="throw"){var q=Y.arg,_=q.value;return _&&ee(_)=="object"&&n.call(_,"__await")?D.resolve(_.__await).then(function(G){W("next",G,$,z)},function(G){W("throw",G,$,z)}):D.resolve(_).then(function(G){q.value=G,$(q)},function(G){return W("throw",G,$,z)})}z(Y.arg)}var V;a(this,"_invoke",{value:function(P,$){function z(){return new D(function(Y,q){W(P,$,Y,q)})}return V=V?V.then(z,z):z()}})}function I(R,D,W){var V=h;return function(B,P){if(V===p)throw Error("Generator is already running");if(V===v){if(B==="throw")throw P;return{value:r,done:!0}}for(W.method=B,W.arg=P;;){var $=W.delegate;if($){var z=M($,W);if(z){if(z===g)continue;return z}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(V===h)throw V=v,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);V=p;var Y=f(R,D,W);if(Y.type==="normal"){if(V=W.done?v:d,Y.arg===g)continue;return{value:Y.arg,done:W.done}}Y.type==="throw"&&(V=v,W.method="throw",W.arg=Y.arg)}}}function M(R,D){var W=D.method,V=R.iterator[W];if(V===r)return D.delegate=null,W==="throw"&&R.iterator.return&&(D.method="return",D.arg=r,M(R,D),D.method==="throw")||W!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+W+"' method")),g;var B=f(V,R.iterator,D.arg);if(B.type==="throw")return D.method="throw",D.arg=B.arg,D.delegate=null,g;var P=B.arg;return P?P.done?(D[R.resultName]=P.value,D.next=R.nextLoc,D.method!=="return"&&(D.method="next",D.arg=r),D.delegate=null,g):P:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,g)}function O(R){var D={tryLoc:R[0]};1 in R&&(D.catchLoc=R[1]),2 in R&&(D.finallyLoc=R[2],D.afterLoc=R[3]),this.tryEntries.push(D)}function k(R){var D=R.completion||{};D.type="normal",delete D.arg,R.completion=D}function L(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(O,this),this.reset(!0)}function N(R){if(R||R===""){var D=R[o];if(D)return D.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var W=-1,V=function B(){for(;++W<R.length;)if(n.call(R,W))return B.value=R[W],B.done=!1,B;return B.value=r,B.done=!0,B};return V.next=V}}throw new TypeError(ee(R)+" is not iterable")}return m.prototype=b,a(C,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(R){var D=typeof R=="function"&&R.constructor;return!!D&&(D===m||(D.displayName||D.name)==="GeneratorFunction")},e.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,b):(R.__proto__=b,u(R,s,"GeneratorFunction")),R.prototype=Object.create(C),R},e.awrap=function(R){return{__await:R}},T(F.prototype),u(F.prototype,l,function(){return this}),e.AsyncIterator=F,e.async=function(R,D,W,V,B){B===void 0&&(B=Promise);var P=new F(c(R,D,W,V),B);return e.isGeneratorFunction(D)?P:P.next().then(function($){return $.done?$.value:P.next()})},T(C),u(C,s,"Generator"),u(C,o,function(){return this}),u(C,"toString",function(){return"[object Generator]"}),e.keys=function(R){var D=Object(R),W=[];for(var V in D)W.push(V);return W.reverse(),function B(){for(;W.length;){var P=W.pop();if(P in D)return B.value=P,B.done=!1,B}return B.done=!0,B}},e.values=N,L.prototype={constructor:L,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!D)for(var W in this)W.charAt(0)==="t"&&n.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=r)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var W=this;function V(q,_){return $.type="throw",$.arg=D,W.next=q,_&&(W.method="next",W.arg=r),!!_}for(var B=this.tryEntries.length-1;B>=0;--B){var P=this.tryEntries[B],$=P.completion;if(P.tryLoc==="root")return V("end");if(P.tryLoc<=this.prev){var z=n.call(P,"catchLoc"),Y=n.call(P,"finallyLoc");if(z&&Y){if(this.prev<P.catchLoc)return V(P.catchLoc,!0);if(this.prev<P.finallyLoc)return V(P.finallyLoc)}else if(z){if(this.prev<P.catchLoc)return V(P.catchLoc,!0)}else{if(!Y)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return V(P.finallyLoc)}}}},abrupt:function(D,W){for(var V=this.tryEntries.length-1;V>=0;--V){var B=this.tryEntries[V];if(B.tryLoc<=this.prev&&n.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var P=B;break}}P&&(D==="break"||D==="continue")&&P.tryLoc<=W&&W<=P.finallyLoc&&(P=null);var $=P?P.completion:{};return $.type=D,$.arg=W,P?(this.method="next",this.next=P.finallyLoc,g):this.complete($)},complete:function(D,W){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&W&&(this.next=W),g},finish:function(D){for(var W=this.tryEntries.length-1;W>=0;--W){var V=this.tryEntries[W];if(V.finallyLoc===D)return this.complete(V.completion,V.afterLoc),k(V),g}},catch:function(D){for(var W=this.tryEntries.length-1;W>=0;--W){var V=this.tryEntries[W];if(V.tryLoc===D){var B=V.completion;if(B.type==="throw"){var P=B.arg;k(V)}return P}}throw Error("illegal catch attempt")},delegateYield:function(D,W,V){return this.delegate={iterator:N(D),resultName:W,nextLoc:V},this.method==="next"&&(this.arg=r),g}},e}function Gm(r,e,t,n,a,i,o){try{var l=r[i](o),s=l.value}catch(u){t(u);return}l.done?e(s):Promise.resolve(s).then(n,a)}function ps(r){return function(){var e=this,t=arguments;return new Promise(function(n,a){var i=r.apply(e,t);function o(s){Gm(i,n,a,o,l,"next",s)}function l(s){Gm(i,n,a,o,l,"throw",s)}o(void 0)})}}function tL(r,e){if(ee(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(ee(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eC(r){var e=tL(r,"string");return ee(e)=="symbol"?e:e+""}function at(r,e,t){return e=eC(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qm(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Tt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qm(Object(t),!0).forEach(function(n){at(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qm(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ep(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function eL(r){if(Array.isArray(r))return Ep(r)}function rC(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ag(r,e){if(r){if(typeof r=="string")return Ep(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ep(r,e)}}function rL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(r){return eL(r)||rC(r)||ag(r)||rL()}function vs(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ym(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,eC(n.key),n)}}function gs(r,e,t){return e&&Ym(r.prototype,e),t&&Ym(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Vt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ll(r,e){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ll(r,e)}function nC(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ll(r,e)}function Dl(r){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dl(r)}function ig(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ig=function(){return!!r})()}function nL(r,e){if(e&&(ee(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(r)}function aC(r){var e=ig();return function(){var n=Dl(r),a;if(e){var i=Dl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nL(this,a)}}var iC={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=Symbol.for("react.element"),lg=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),Gc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),aL=Symbol.for("react.server_context"),Yc=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),Zc=Symbol.for("react.lazy"),iL=Symbol.for("react.offscreen"),oC;oC=Symbol.for("react.module.reference");function _r(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case og:switch(r=r.type,r){case Hc:case Wc:case zc:case Uc:case Xc:return r;default:switch(r=r&&r.$$typeof,r){case aL:case qc:case Yc:case Zc:case Kc:case Gc:return r;default:return e}}case lg:return e}}}Ut.ContextConsumer=qc;Ut.ContextProvider=Gc;Ut.Element=og;Ut.ForwardRef=Yc;Ut.Fragment=Hc;Ut.Lazy=Zc;Ut.Memo=Kc;Ut.Portal=lg;Ut.Profiler=Wc;Ut.StrictMode=zc;Ut.Suspense=Uc;Ut.SuspenseList=Xc;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(r){return _r(r)===qc};Ut.isContextProvider=function(r){return _r(r)===Gc};Ut.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===og};Ut.isForwardRef=function(r){return _r(r)===Yc};Ut.isFragment=function(r){return _r(r)===Hc};Ut.isLazy=function(r){return _r(r)===Zc};Ut.isMemo=function(r){return _r(r)===Kc};Ut.isPortal=function(r){return _r(r)===lg};Ut.isProfiler=function(r){return _r(r)===Wc};Ut.isStrictMode=function(r){return _r(r)===zc};Ut.isSuspense=function(r){return _r(r)===Uc};Ut.isSuspenseList=function(r){return _r(r)===Xc};Ut.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Hc||r===Wc||r===zc||r===Uc||r===Xc||r===iL||typeof r=="object"&&r!==null&&(r.$$typeof===Zc||r.$$typeof===Kc||r.$$typeof===Gc||r.$$typeof===qc||r.$$typeof===Yc||r.$$typeof===oC||r.getModuleId!==void 0)};Ut.typeOf=_r;iC.exports=Ut;var oL=iC.exports;const lL=window.React;function Tp(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return lL.Children.forEach(r,function(n){n==null&&!e.keepEmpty||(Array.isArray(n)?t=t.concat(Tp(n)):oL.isFragment(n)&&n.props?t=t.concat(Tp(n.props.children,e)):t.push(n))}),t}var Ip={},sL=function(e){};function uL(r,e){}function cL(r,e){}function fL(){Ip={}}function lC(r,e,t){!e&&!Ip[t]&&(r(!1,t),Ip[t]=!0)}function Rr(r,e){lC(uL,r,e)}function hL(r,e){lC(cL,r,e)}Rr.preMessage=sL;Rr.resetWarned=fL;Rr.noteOnce=hL;function Um(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function a(i,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=n.has(i);if(Rr(!s,"Warning: There may be circular references"),s)return!1;if(i===o)return!0;if(t&&l>1)return!1;n.add(i);var u=l+1;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var c=0;c<i.length;c++)if(!a(i[c],o[c],u))return!1;return!0}if(i&&o&&ee(i)==="object"&&ee(o)==="object"){var f=Object.keys(i);return f.length!==Object.keys(o).length?!1:f.every(function(h){return a(i[h],o[h],u)})}return!1}return a(r,e)}const dL=window.React;var Ua="RC_FORM_INTERNAL_HOOKS",Kt=function(){Rr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},uo=dL.createContext({getFieldValue:Kt,getFieldsValue:Kt,getFieldError:Kt,getFieldWarning:Kt,getFieldsError:Kt,isFieldsTouched:Kt,isFieldTouched:Kt,isFieldValidating:Kt,isFieldsValidating:Kt,resetFields:Kt,setFields:Kt,setFieldValue:Kt,setFieldsValue:Kt,validateFields:Kt,submit:Kt,getInternalHooks:function(){return Kt(),{dispatch:Kt,initEntityValue:Kt,registerField:Kt,useSubscribe:Kt,setInitialValues:Kt,destroyForm:Kt,setCallbacks:Kt,registerWatch:Kt,getFields:Kt,setValidateMessages:Kt,setPreserve:Kt,getInitialValue:Kt}}});const pL=window.React;var ac=pL.createContext(null);function Mp(r){return r==null?[]:Array.isArray(r)?r:[r]}function vL(r){return r&&!!r._init}function Op(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Fp=Op();function gL(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function yL(r,e,t){if(ig())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var a=new(r.bind.apply(r,n));return t&&Ll(a,t.prototype),a}function kp(r){var e=typeof Map=="function"?new Map:void 0;return kp=function(n){if(n===null||!gL(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return yL(n,arguments,Dl(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Ll(a,n)},kp(r)}var mL=/%[sdj%]/g,xL=function(){};function Pp(r){if(!r||!r.length)return null;var e={};return r.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function fr(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=0,i=t.length;if(typeof r=="function")return r.apply(null,t);if(typeof r=="string"){var o=r.replace(mL,function(l){if(l==="%%")return"%";if(a>=i)return l;switch(l){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}break;default:return l}});return o}return r}function bL(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function Oe(r,e){return!!(r==null||e==="array"&&Array.isArray(r)&&!r.length||bL(e)&&typeof r=="string"&&!r)}function wL(r,e,t){var n=[],a=0,i=r.length;function o(l){n.push.apply(n,It(l||[])),a++,a===i&&t(n)}r.forEach(function(l){e(l,o)})}function Xm(r,e,t){var n=0,a=r.length;function i(o){if(o&&o.length){t(o);return}var l=n;n=n+1,l<a?e(r[l],i):t([])}i([])}function SL(r){var e=[];return Object.keys(r).forEach(function(t){e.push.apply(e,It(r[t]||[]))}),e}var Km=function(r){nC(t,r);var e=aC(t);function t(n,a){var i;return vs(this,t),i=e.call(this,"Async Validation Error"),at(Vt(i),"errors",void 0),at(Vt(i),"fields",void 0),i.errors=n,i.fields=a,i}return gs(t)}(kp(Error));function CL(r,e,t,n,a){if(e.first){var i=new Promise(function(h,d){var p=function(y){return n(y),y.length?d(new Km(y,Pp(y))):h(a)},v=SL(r);Xm(v,t,p)});return i.catch(function(h){return h}),i}var o=e.firstFields===!0?Object.keys(r):e.firstFields||[],l=Object.keys(r),s=l.length,u=0,c=[],f=new Promise(function(h,d){var p=function(g){if(c.push.apply(c,g),u++,u===s)return n(c),c.length?d(new Km(c,Pp(c))):h(a)};l.length||(n(c),h(a)),l.forEach(function(v){var g=r[v];o.indexOf(v)!==-1?Xm(g,t,p):wL(g,t,p)})});return f.catch(function(h){return h}),f}function AL(r){return!!(r&&r.message!==void 0)}function EL(r,e){for(var t=r,n=0;n<e.length;n++){if(t==null)return t;t=t[e[n]]}return t}function Zm(r,e){return function(t){var n;return r.fullFields?n=EL(e,r.fullFields):n=e[t.field||r.fullField],AL(t)?(t.field=t.field||r.fullField,t.fieldValue=n,t):{message:typeof t=="function"?t():t,fieldValue:n,field:t.field||r.fullField}}}function Qm(r,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];ee(n)==="object"&&ee(r[t])==="object"?r[t]=Tt(Tt({},r[t]),n):r[t]=n}}return r}var ki="enum",TL=function(e,t,n,a,i){e[ki]=Array.isArray(e[ki])?e[ki]:[],e[ki].indexOf(t)===-1&&a.push(fr(i.messages[ki],e.fullField,e[ki].join(", ")))},IL=function(e,t,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||a.push(fr(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||a.push(fr(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},ML=function(e,t,n,a,i){var o=typeof e.len=="number",l=typeof e.min=="number",s=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,f=null,h=typeof t=="number",d=typeof t=="string",p=Array.isArray(t);if(h?f="number":d?f="string":p&&(f="array"),!f)return!1;p&&(c=t.length),d&&(c=t.replace(u,"_").length),o?c!==e.len&&a.push(fr(i.messages[f].len,e.fullField,e.len)):l&&!s&&c<e.min?a.push(fr(i.messages[f].min,e.fullField,e.min)):s&&!l&&c>e.max?a.push(fr(i.messages[f].max,e.fullField,e.max)):l&&s&&(c<e.min||c>e.max)&&a.push(fr(i.messages[f].range,e.fullField,e.min,e.max))},sC=function(e,t,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||Oe(t,o||e.type))&&a.push(fr(i.messages.required,e.fullField))},zs;const OL=function(){if(zs)return zs;var r="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(r,")|(?<=").concat(r,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(t,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(t,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(t,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(t,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(t,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(t,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(t,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),l=new RegExp("(?:^".concat(t,"$)|(?:^").concat(o,"$)")),s=new RegExp("^".concat(t,"$")),u=new RegExp("^".concat(o,"$")),c=function(S){return S&&S.exact?l:new RegExp("(?:".concat(e(S)).concat(t).concat(e(S),")|(?:").concat(e(S)).concat(o).concat(e(S),")"),"g")};c.v4=function(w){return w&&w.exact?s:new RegExp("".concat(e(w)).concat(t).concat(e(w)),"g")},c.v6=function(w){return w&&w.exact?u:new RegExp("".concat(e(w)).concat(o).concat(e(w)),"g")};var f="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",d=c.v4().source,p=c.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',x="(?:".concat(f,"|www\\.)").concat(h,"(?:localhost|").concat(d,"|").concat(p,"|").concat(v).concat(g).concat(y,")").concat(m).concat(b);return zs=new RegExp("(?:^".concat(x,"$)"),"i"),zs};var Jm={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ol={integer:function(e){return ol.number(e)&&parseInt(e,10)===e},float:function(e){return ol.number(e)&&!ol.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return ee(e)==="object"&&!ol.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Jm.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(OL())},hex:function(e){return typeof e=="string"&&!!e.match(Jm.hex)}},FL=function(e,t,n,a,i){if(e.required&&t===void 0){sC(e,t,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=e.type;o.indexOf(l)>-1?ol[l](t)||a.push(fr(i.messages.types[l],e.fullField,e.type)):l&&ee(t)!==e.type&&a.push(fr(i.messages.types[l],e.fullField,e.type))},kL=function(e,t,n,a,i){(/^\s+$/.test(t)||t==="")&&a.push(fr(i.messages.whitespace,e.fullField))};const Dt={required:sC,whitespace:kL,type:FL,range:ML,enum:TL,pattern:IL};var PL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i)}n(o)},RL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(t==null&&!e.required)return n();Dt.required(e,t,a,o,i,"array"),t!=null&&(Dt.type(e,t,a,o,i),Dt.range(e,t,a,o,i))}n(o)},LL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&Dt.type(e,t,a,o,i)}n(o)},DL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t,"date")&&!e.required)return n();if(Dt.required(e,t,a,o,i),!Oe(t,"date")){var s;t instanceof Date?s=t:s=new Date(t),Dt.type(e,s,a,o,i),s&&Dt.range(e,s.getTime(),a,o,i)}}n(o)},_L="enum",BL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&Dt[_L](e,t,a,o,i)}n(o)},NL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&(Dt.type(e,t,a,o,i),Dt.range(e,t,a,o,i))}n(o)},$L=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&(Dt.type(e,t,a,o,i),Dt.range(e,t,a,o,i))}n(o)},jL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&Dt.type(e,t,a,o,i)}n(o)},VL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(t===""&&(t=void 0),Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&(Dt.type(e,t,a,o,i),Dt.range(e,t,a,o,i))}n(o)},HL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),t!==void 0&&Dt.type(e,t,a,o,i)}n(o)},zL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t,"string")&&!e.required)return n();Dt.required(e,t,a,o,i),Oe(t,"string")||Dt.pattern(e,t,a,o,i)}n(o)},WL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t)&&!e.required)return n();Dt.required(e,t,a,o,i),Oe(t)||Dt.type(e,t,a,o,i)}n(o)},GL=function(e,t,n,a,i){var o=[],l=Array.isArray(t)?"array":ee(t);Dt.required(e,t,a,o,i,l),n(o)},qL=function(e,t,n,a,i){var o=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(Oe(t,"string")&&!e.required)return n();Dt.required(e,t,a,o,i,"string"),Oe(t,"string")||(Dt.type(e,t,a,o,i),Dt.range(e,t,a,o,i),Dt.pattern(e,t,a,o,i),e.whitespace===!0&&Dt.whitespace(e,t,a,o,i))}n(o)},Eh=function(e,t,n,a,i){var o=e.type,l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Oe(t,o)&&!e.required)return n();Dt.required(e,t,a,l,i,o),Oe(t,o)||Dt.type(e,t,a,l,i)}n(l)};const xl={string:qL,method:jL,number:VL,boolean:LL,regexp:WL,integer:$L,float:NL,array:RL,object:HL,enum:BL,pattern:zL,date:DL,url:Eh,hex:Eh,email:Eh,required:GL,any:PL};var ys=function(){function r(e){vs(this,r),at(this,"rules",null),at(this,"_messages",Fp),this.define(e)}return gs(r,[{key:"define",value:function(t){var n=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(ee(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(a){var i=t[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(t){return t&&(this._messages=Qm(Op(),t)),this._messages}},{key:"validate",value:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=t,l=a,s=i;if(typeof l=="function"&&(s=l,l={}),!this.rules||Object.keys(this.rules).length===0)return s&&s(null,o),Promise.resolve(o);function u(p){var v=[],g={};function y(b){if(Array.isArray(b)){var x;v=(x=v).concat.apply(x,It(b))}else v.push(b)}for(var m=0;m<p.length;m++)y(p[m]);v.length?(g=Pp(v),s(v,g)):s(null,o)}if(l.messages){var c=this.messages();c===Fp&&(c=Op()),Qm(c,l.messages),l.messages=c}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(p){var v=n.rules[p],g=o[p];v.forEach(function(y){var m=y;typeof m.transform=="function"&&(o===t&&(o=Tt({},o)),g=o[p]=m.transform(g),g!=null&&(m.type=m.type||(Array.isArray(g)?"array":ee(g)))),typeof m=="function"?m={validator:m}:m=Tt({},m),m.validator=n.getValidationMethod(m),m.validator&&(m.field=p,m.fullField=m.fullField||p,m.type=n.getType(m),f[p]=f[p]||[],f[p].push({rule:m,value:g,source:o,field:p}))})});var d={};return CL(f,l,function(p,v){var g=p.rule,y=(g.type==="object"||g.type==="array")&&(ee(g.fields)==="object"||ee(g.defaultField)==="object");y=y&&(g.required||!g.required&&p.value),g.field=p.field;function m(C,T){return Tt(Tt({},T),{},{fullField:"".concat(g.fullField,".").concat(C),fullFields:g.fullFields?[].concat(It(g.fullFields),[C]):[C]})}function b(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=Array.isArray(C)?C:[C];!l.suppressWarning&&T.length&&r.warning("async-validator:",T),T.length&&g.message!==void 0&&(T=[].concat(g.message));var F=T.map(Zm(g,o));if(l.first&&F.length)return d[g.field]=1,v(F);if(!y)v(F);else{if(g.required&&!p.value)return g.message!==void 0?F=[].concat(g.message).map(Zm(g,o)):l.error&&(F=[l.error(g,fr(l.messages.required,g.field))]),v(F);var I={};g.defaultField&&Object.keys(p.value).map(function(k){I[k]=g.defaultField}),I=Tt(Tt({},I),p.rule.fields);var M={};Object.keys(I).forEach(function(k){var L=I[k],N=Array.isArray(L)?L:[L];M[k]=N.map(m.bind(null,k))});var O=new r(M);O.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),O.validate(p.value,p.rule.options||l,function(k){var L=[];F&&F.length&&L.push.apply(L,It(F)),k&&k.length&&L.push.apply(L,It(k)),v(L.length?L:null)})}}var x;if(g.asyncValidator)x=g.asyncValidator(g,p.value,b,p.source,l);else if(g.validator){try{x=g.validator(g,p.value,b,p.source,l)}catch(C){var w,S;(w=(S=console).error)===null||w===void 0||w.call(S,C),l.suppressValidatorError||setTimeout(function(){throw C},0),b(C.message)}x===!0?b():x===!1?b(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||"".concat(g.fullField||g.field," fails")):x instanceof Array?b(x):x instanceof Error&&b(x.message)}x&&x.then&&x.then(function(){return b()},function(C){return b(C)})},function(p){u(p)},o)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!xl.hasOwnProperty(t.type))throw new Error(fr("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var n=Object.keys(t),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?xl.required:xl[this.getType(t)]||void 0}}]),r}();at(ys,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");xl[e]=t});at(ys,"warning",xL);at(ys,"messages",Fp);at(ys,"validators",xl);var ur="'${name}' is not a valid ${type}",uC={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ur,method:ur,array:ur,object:ur,number:ur,date:ur,boolean:ur,integer:ur,float:ur,regexp:ur,email:ur,url:ur,hex:ur},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function cC(r){if(Array.isArray(r))return r}function fC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(r){return cC(r)||rC(r)||ag(r)||fC()}function fn(r,e){for(var t=r,n=0;n<e.length;n+=1){if(t==null)return;t=t[e[n]]}return t}function hC(r,e,t,n){if(!e.length)return t;var a=YL(e),i=a[0],o=a.slice(1),l;return!r&&typeof i=="number"?l=[]:Array.isArray(r)?l=It(r):l=Tt({},r),n&&t===void 0&&o.length===1?delete l[i][o[0]]:l[i]=hC(l[i],o,t,n),l}function zr(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&n&&t===void 0&&!fn(r,e.slice(0,-1))?r:hC(r,e,t,n)}function UL(r){return ee(r)==="object"&&r!==null&&Object.getPrototypeOf(r)===Object.prototype}function t0(r){return Array.isArray(r)?[]:{}}var XL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function ll(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=t0(e[0]);return e.forEach(function(a){function i(o,l){var s=new Set(l),u=fn(a,o),c=Array.isArray(u);if(c||UL(u)){if(!s.has(u)){s.add(u);var f=fn(n,o);c?n=zr(n,o,[]):(!f||ee(f)!=="object")&&(n=zr(n,o,t0(u))),XL(u).forEach(function(h){i([].concat(It(o),[h]),s)})}}else n=zr(n,o,u)}i([])}),n}const e0=window.React;var r0=ys;function KL(r,e){return r.replace(/\$\{\w+\}/g,function(t){var n=t.slice(2,-1);return e[n]})}var n0="CODE_LOGIC_ERROR";function Rp(r,e,t,n,a){return Lp.apply(this,arguments)}function Lp(){return Lp=ps(Kr().mark(function r(e,t,n,a,i){var o,l,s,u,c,f,h,d,p;return Kr().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=Tt({},n),delete o.ruleIndex,r0.warning=function(){},o.validator&&(l=o.validator,o.validator=function(){try{return l.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(n0)}}),s=null,o&&o.type==="array"&&o.defaultField&&(s=o.defaultField,delete o.defaultField),u=new r0(at({},e,[o])),c=ll(uC,a.validateMessages),u.messages(c),f=[],g.prev=10,g.next=13,Promise.resolve(u.validate(at({},e,t),Tt({},a)));case 13:g.next=18;break;case 15:g.prev=15,g.t0=g.catch(10),g.t0.errors&&(f=g.t0.errors.map(function(y,m){var b=y.message,x=b===n0?c.default:b;return e0.isValidElement(x)?e0.cloneElement(x,{key:"error_".concat(m)}):x}));case 18:if(!(!f.length&&s)){g.next=23;break}return g.next=21,Promise.all(t.map(function(y,m){return Rp("".concat(e,".").concat(m),y,s,a,i)}));case 21:return h=g.sent,g.abrupt("return",h.reduce(function(y,m){return[].concat(It(y),It(m))},[]));case 23:return d=Tt(Tt({},n),{},{name:e,enum:(n.enum||[]).join(", ")},i),p=f.map(function(y){return typeof y=="string"?KL(y,d):y}),g.abrupt("return",p);case 26:case"end":return g.stop()}},r,null,[[10,15]])})),Lp.apply(this,arguments)}function ZL(r,e,t,n,a,i){var o=r.join("."),l=t.map(function(c,f){var h=c.validator,d=Tt(Tt({},c),{},{ruleIndex:f});return h&&(d.validator=function(p,v,g){var y=!1,m=function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];Promise.resolve().then(function(){Rr(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||g.apply(void 0,S)})},b=h(p,v,m);y=b&&typeof b.then=="function"&&typeof b.catch=="function",Rr(y,"`callback` is deprecated. Please return a promise instead."),y&&b.then(function(){g()}).catch(function(x){g(x||" ")})}),d}).sort(function(c,f){var h=c.warningOnly,d=c.ruleIndex,p=f.warningOnly,v=f.ruleIndex;return!!h==!!p?d-v:h?1:-1}),s;if(a===!0)s=new Promise(function(){var c=ps(Kr().mark(function f(h,d){var p,v,g;return Kr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:p=0;case 1:if(!(p<l.length)){m.next=12;break}return v=l[p],m.next=5,Rp(o,e,v,n,i);case 5:if(g=m.sent,!g.length){m.next=9;break}return d([{errors:g,rule:v}]),m.abrupt("return");case 9:p+=1,m.next=1;break;case 12:h([]);case 13:case"end":return m.stop()}},f)}));return function(f,h){return c.apply(this,arguments)}}());else{var u=l.map(function(c){return Rp(o,e,c,n,i).then(function(f){return{errors:f,rule:c}})});s=(a?JL(u):QL(u)).then(function(c){return Promise.reject(c)})}return s.catch(function(c){return c}),s}function QL(r){return Dp.apply(this,arguments)}function Dp(){return Dp=ps(Kr().mark(function r(e){return Kr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(e).then(function(a){var i,o=(i=[]).concat.apply(i,It(a));return o}));case 1:case"end":return n.stop()}},r)})),Dp.apply(this,arguments)}function JL(r){return _p.apply(this,arguments)}function _p(){return _p=ps(Kr().mark(function r(e){var t;return Kr().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=0,a.abrupt("return",new Promise(function(i){e.forEach(function(o){o.then(function(l){l.errors.length&&i([l]),t+=1,t===e.length&&i([])})})}));case 2:case"end":return a.stop()}},r)})),_p.apply(this,arguments)}function ge(r){return Mp(r)}function a0(r,e){var t={};return e.forEach(function(n){var a=fn(r,n);t=zr(t,n,a)}),t}function Ki(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return r&&r.some(function(n){return dC(e,n,t)})}function dC(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!r||!e||!t&&r.length!==e.length?!1:e.every(function(n,a){return r[a]===n})}function tD(r,e){if(r===e)return!0;if(!r&&e||r&&!e||!r||!e||ee(r)!=="object"||ee(e)!=="object")return!1;var t=Object.keys(r),n=Object.keys(e),a=new Set([].concat(t,n));return It(a).every(function(i){var o=r[i],l=e[i];return typeof o=="function"&&typeof l=="function"?!0:o===l})}function eD(r){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&ee(e.target)==="object"&&r in e.target?e.target[r]:e}function i0(r,e,t){var n=r.length;if(e<0||e>=n||t<0||t>=n)return r;var a=r[e],i=e-t;return i>0?[].concat(It(r.slice(0,t)),[a],It(r.slice(t,e)),It(r.slice(e+1,n))):i<0?[].concat(It(r.slice(0,e)),It(r.slice(e+1,t+1)),[a],It(r.slice(t+1,n))):r}var rD=["name"];const On=window.React;var Ir=[];function o0(r,e,t,n,a,i){return typeof r=="function"?r(e,t,"source"in i?{source:i.source}:{}):n!==a}var sg=function(r){nC(t,r);var e=aC(t);function t(n){var a;if(vs(this,t),a=e.call(this,n),at(Vt(a),"state",{resetCount:0}),at(Vt(a),"cancelRegisterFunc",null),at(Vt(a),"mounted",!1),at(Vt(a),"touched",!1),at(Vt(a),"dirty",!1),at(Vt(a),"validatePromise",void 0),at(Vt(a),"prevValidating",void 0),at(Vt(a),"errors",Ir),at(Vt(a),"warnings",Ir),at(Vt(a),"cancelRegister",function(){var s=a.props,u=s.preserve,c=s.isListField,f=s.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(c,u,ge(f)),a.cancelRegisterFunc=null}),at(Vt(a),"getNamePath",function(){var s=a.props,u=s.name,c=s.fieldContext,f=c.prefixName,h=f===void 0?[]:f;return u!==void 0?[].concat(It(h),It(u)):[]}),at(Vt(a),"getRules",function(){var s=a.props,u=s.rules,c=u===void 0?[]:u,f=s.fieldContext;return c.map(function(h){return typeof h=="function"?h(f):h})}),at(Vt(a),"refresh",function(){a.mounted&&a.setState(function(s){var u=s.resetCount;return{resetCount:u+1}})}),at(Vt(a),"metaCache",null),at(Vt(a),"triggerMetaEvent",function(s){var u=a.props.onMetaChange;if(u){var c=Tt(Tt({},a.getMeta()),{},{destroy:s});Um(a.metaCache,c)||u(c),a.metaCache=c}else a.metaCache=null}),at(Vt(a),"onStoreChange",function(s,u,c){var f=a.props,h=f.shouldUpdate,d=f.dependencies,p=d===void 0?[]:d,v=f.onReset,g=c.store,y=a.getNamePath(),m=a.getValue(s),b=a.getValue(g),x=u&&Ki(u,y);switch(c.type==="valueUpdate"&&c.source==="external"&&!Um(m,b)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Ir,a.warnings=Ir,a.triggerMetaEvent()),c.type){case"reset":if(!u||x){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Ir,a.warnings=Ir,a.triggerMetaEvent(),v==null||v(),a.refresh();return}break;case"remove":{if(h){a.reRender();return}break}case"setField":{var w=c.data;if(x){"touched"in w&&(a.touched=w.touched),"validating"in w&&!("originRCField"in w)&&(a.validatePromise=w.validating?Promise.resolve([]):null),"errors"in w&&(a.errors=w.errors||Ir),"warnings"in w&&(a.warnings=w.warnings||Ir),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in w&&Ki(u,y,!0)){a.reRender();return}if(h&&!y.length&&o0(h,s,g,m,b,c)){a.reRender();return}break}case"dependenciesUpdate":{var S=p.map(ge);if(S.some(function(C){return Ki(c.relatedFields,C)})){a.reRender();return}break}default:if(x||(!p.length||y.length||h)&&o0(h,s,g,m,b,c)){a.reRender();return}break}h===!0&&a.reRender()}),at(Vt(a),"validateRules",function(s){var u=a.getNamePath(),c=a.getValue(),f=s||{},h=f.triggerName,d=f.validateOnly,p=d===void 0?!1:d,v=Promise.resolve().then(ps(Kr().mark(function g(){var y,m,b,x,w,S,C;return Kr().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(a.mounted){F.next=2;break}return F.abrupt("return",[]);case 2:if(y=a.props,m=y.validateFirst,b=m===void 0?!1:m,x=y.messageVariables,w=y.validateDebounce,S=a.getRules(),h&&(S=S.filter(function(I){return I}).filter(function(I){var M=I.validateTrigger;if(!M)return!0;var O=Mp(M);return O.includes(h)})),!(w&&h)){F.next=10;break}return F.next=8,new Promise(function(I){setTimeout(I,w)});case 8:if(a.validatePromise===v){F.next=10;break}return F.abrupt("return",[]);case 10:return C=ZL(u,c,S,s,b,x),C.catch(function(I){return I}).then(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ir;if(a.validatePromise===v){var M;a.validatePromise=null;var O=[],k=[];(M=I.forEach)===null||M===void 0||M.call(I,function(L){var N=L.rule.warningOnly,R=L.errors,D=R===void 0?Ir:R;N?k.push.apply(k,It(D)):O.push.apply(O,It(D))}),a.errors=O,a.warnings=k,a.triggerMetaEvent(),a.reRender()}}),F.abrupt("return",C);case 13:case"end":return F.stop()}},g)})));return p||(a.validatePromise=v,a.dirty=!0,a.errors=Ir,a.warnings=Ir,a.triggerMetaEvent(),a.reRender()),v}),at(Vt(a),"isFieldValidating",function(){return!!a.validatePromise}),at(Vt(a),"isFieldTouched",function(){return a.touched}),at(Vt(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var s=a.props.fieldContext,u=s.getInternalHooks(Ua),c=u.getInitialValue;return c(a.getNamePath())!==void 0}),at(Vt(a),"getErrors",function(){return a.errors}),at(Vt(a),"getWarnings",function(){return a.warnings}),at(Vt(a),"isListField",function(){return a.props.isListField}),at(Vt(a),"isList",function(){return a.props.isList}),at(Vt(a),"isPreserve",function(){return a.props.preserve}),at(Vt(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var s={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return s}),at(Vt(a),"getOnlyChild",function(s){if(typeof s=="function"){var u=a.getMeta();return Tt(Tt({},a.getOnlyChild(s(a.getControlled(),u,a.props.fieldContext))),{},{isFunction:!0})}var c=Tp(s);return c.length!==1||!On.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}}),at(Vt(a),"getValue",function(s){var u=a.props.fieldContext.getFieldsValue,c=a.getNamePath();return fn(s||u(!0),c)}),at(Vt(a),"getControlled",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.props,c=u.name,f=u.trigger,h=u.validateTrigger,d=u.getValueFromEvent,p=u.normalize,v=u.valuePropName,g=u.getValueProps,y=u.fieldContext,m=h!==void 0?h:y.validateTrigger,b=a.getNamePath(),x=y.getInternalHooks,w=y.getFieldsValue,S=x(Ua),C=S.dispatch,T=a.getValue(),F=g||function(L){return at({},v,L)},I=s[f],M=c!==void 0?F(T):{},O=Tt(Tt({},s),M);O[f]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var L,N=arguments.length,R=new Array(N),D=0;D<N;D++)R[D]=arguments[D];d?L=d.apply(void 0,R):L=eD.apply(void 0,[v].concat(R)),p&&(L=p(L,T,w(!0))),C({type:"updateValue",namePath:b,value:L}),I&&I.apply(void 0,R)};var k=Mp(m||[]);return k.forEach(function(L){var N=O[L];O[L]=function(){N&&N.apply(void 0,arguments);var R=a.props.rules;R&&R.length&&C({type:"validateField",namePath:b,triggerName:L})}}),O}),n.fieldContext){var i=n.fieldContext.getInternalHooks,o=i(Ua),l=o.initEntityValue;l(Vt(a))}return a}return gs(t,[{key:"componentDidMount",value:function(){var a=this.props,i=a.shouldUpdate,o=a.fieldContext;if(this.mounted=!0,o){var l=o.getInternalHooks,s=l(Ua),u=s.registerField;this.cancelRegisterFunc=u(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,i=this.props.children,o=this.getOnlyChild(i),l=o.child,s=o.isFunction,u;return s?u=l:On.isValidElement(l)?u=On.cloneElement(l,this.getControlled(l.props)):(Rr(!l,"`children` of Field is not validate ReactElement."),u=l),On.createElement(On.Fragment,{key:a},u)}}]),t}(On.Component);at(sg,"contextType",uo);at(sg,"defaultProps",{trigger:"onChange",valuePropName:"value"});function pC(r){var e=r.name,t=ng(r,rD),n=On.useContext(uo),a=On.useContext(ac),i=e!==void 0?ge(e):void 0,o="keep";return t.isListField||(o="_".concat((i||[]).join("_"))),On.createElement(sg,nc({key:o,name:i,isListField:!!a},t,{fieldContext:n}))}const Tn=window.React;function nD(r){var e=r.name,t=r.initialValue,n=r.children,a=r.rules,i=r.validateTrigger,o=r.isListField,l=Tn.useContext(uo),s=Tn.useContext(ac),u=Tn.useRef({keys:[],id:0}),c=u.current,f=Tn.useMemo(function(){var v=ge(l.prefixName)||[];return[].concat(It(v),It(ge(e)))},[l.prefixName,e]),h=Tn.useMemo(function(){return Tt(Tt({},l),{},{prefixName:f})},[l,f]),d=Tn.useMemo(function(){return{getKey:function(g){var y=f.length,m=g[y];return[c.keys[m],g.slice(y+1)]}}},[f]);if(typeof n!="function")return Rr(!1,"Form.List only accepts function as children."),null;var p=function(g,y,m){var b=m.source;return b==="internal"?!1:g!==y};return Tn.createElement(ac.Provider,{value:d},Tn.createElement(uo.Provider,{value:h},Tn.createElement(pC,{name:[],shouldUpdate:p,rules:a,validateTrigger:i,initialValue:t,isList:!0,isListField:o??!!s},function(v,g){var y=v.value,m=y===void 0?[]:y,b=v.onChange,x=l.getFieldValue,w=function(){var F=x(f||[]);return F||[]},S={add:function(F,I){var M=w();I>=0&&I<=M.length?(c.keys=[].concat(It(c.keys.slice(0,I)),[c.id],It(c.keys.slice(I))),b([].concat(It(M.slice(0,I)),[F],It(M.slice(I))))):(c.keys=[].concat(It(c.keys),[c.id]),b([].concat(It(M),[F]))),c.id+=1},remove:function(F){var I=w(),M=new Set(Array.isArray(F)?F:[F]);M.size<=0||(c.keys=c.keys.filter(function(O,k){return!M.has(k)}),b(I.filter(function(O,k){return!M.has(k)})))},move:function(F,I){if(F!==I){var M=w();F<0||F>=M.length||I<0||I>=M.length||(c.keys=i0(c.keys,F,I),b(i0(M,F,I)))}}},C=m||[];return Array.isArray(C)||(C=[]),n(C.map(function(T,F){var I=c.keys[F];return I===void 0&&(c.keys[F]=c.id,I=c.keys[F],c.id+=1),{name:F,key:I,isListField:!0}}),S,g)})))}function aD(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,i,o,l=[],s=!0,u=!1;try{if(i=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,a=c}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _l(r,e){return cC(r)||aD(r,e)||ag(r,e)||fC()}function iD(r){var e=!1,t=r.length,n=[];return r.length?new Promise(function(a,i){r.forEach(function(o,l){o.catch(function(s){return e=!0,s}).then(function(s){t-=1,n[l]=s,!(t>0)&&(e&&i(n),a(n))})})}):Promise.resolve([])}var vC="__@field_split__";function Th(r){return r.map(function(e){return"".concat(ee(e),":").concat(e)}).join(vC)}var Pi=function(){function r(){vs(this,r),at(this,"kvs",new Map)}return gs(r,[{key:"set",value:function(t,n){this.kvs.set(Th(t),n)}},{key:"get",value:function(t){return this.kvs.get(Th(t))}},{key:"update",value:function(t,n){var a=this.get(t),i=n(a);i?this.set(t,i):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(Th(t))}},{key:"map",value:function(t){return It(this.kvs.entries()).map(function(n){var a=_l(n,2),i=a[0],o=a[1],l=i.split(vC);return t({key:l.map(function(s){var u=s.match(/^([^:]*):(.*)$/),c=_l(u,3),f=c[1],h=c[2];return f==="number"?Number(h):h}),value:o})})}},{key:"toJSON",value:function(){var t={};return this.map(function(n){var a=n.key,i=n.value;return t[a.join(".")]=i,null}),t}}]),r}(),oD=["name"];const l0=window.React;var lD=gs(function r(e){var t=this;vs(this,r),at(this,"formHooked",!1),at(this,"forceRootUpdate",void 0),at(this,"subscribable",!0),at(this,"store",{}),at(this,"fieldEntities",[]),at(this,"initialValues",{}),at(this,"callbacks",{}),at(this,"validateMessages",null),at(this,"preserve",null),at(this,"lastValidatePromise",null),at(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),at(this,"getInternalHooks",function(n){return n===Ua?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Rr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),at(this,"useSubscribe",function(n){t.subscribable=n}),at(this,"prevWithoutPreserves",null),at(this,"setInitialValues",function(n,a){if(t.initialValues=n||{},a){var i,o=ll(n,t.store);(i=t.prevWithoutPreserves)===null||i===void 0||i.map(function(l){var s=l.key;o=zr(o,s,fn(n,s))}),t.prevWithoutPreserves=null,t.updateStore(o)}}),at(this,"destroyForm",function(){var n=new Pi;t.getFieldEntities(!0).forEach(function(a){t.isMergedPreserve(a.isPreserve())||n.set(a.getNamePath(),!0)}),t.prevWithoutPreserves=n}),at(this,"getInitialValue",function(n){var a=fn(t.initialValues,n);return n.length?ll(a):a}),at(this,"setCallbacks",function(n){t.callbacks=n}),at(this,"setValidateMessages",function(n){t.validateMessages=n}),at(this,"setPreserve",function(n){t.preserve=n}),at(this,"watchList",[]),at(this,"registerWatch",function(n){return t.watchList.push(n),function(){t.watchList=t.watchList.filter(function(a){return a!==n})}}),at(this,"notifyWatch",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var a=t.getFieldsValue(),i=t.getFieldsValue(!0);t.watchList.forEach(function(o){o(a,i,n)})}}),at(this,"timeoutId",null),at(this,"warningUnhooked",function(){}),at(this,"updateStore",function(n){t.store=n}),at(this,"getFieldEntities",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return n?t.fieldEntities.filter(function(a){return a.getNamePath().length}):t.fieldEntities}),at(this,"getFieldsMap",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Pi;return t.getFieldEntities(n).forEach(function(i){var o=i.getNamePath();a.set(o,i)}),a}),at(this,"getFieldEntitiesForNamePathList",function(n){if(!n)return t.getFieldEntities(!0);var a=t.getFieldsMap(!0);return n.map(function(i){var o=ge(i);return a.get(o)||{INVALIDATE_NAME_PATH:ge(i)}})}),at(this,"getFieldsValue",function(n,a){t.warningUnhooked();var i,o,l;if(n===!0||Array.isArray(n)?(i=n,o=a):n&&ee(n)==="object"&&(l=n.strict,o=n.filter),i===!0&&!o)return t.store;var s=t.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),u=[];return s.forEach(function(c){var f,h,d="INVALIDATE_NAME_PATH"in c?c.INVALIDATE_NAME_PATH:c.getNamePath();if(l){var p,v;if((p=(v=c).isList)!==null&&p!==void 0&&p.call(v))return}else if(!i&&(f=(h=c).isListField)!==null&&f!==void 0&&f.call(h))return;if(!o)u.push(d);else{var g="getMeta"in c?c.getMeta():null;o(g)&&u.push(d)}}),a0(t.store,u.map(ge))}),at(this,"getFieldValue",function(n){t.warningUnhooked();var a=ge(n);return fn(t.store,a)}),at(this,"getFieldsError",function(n){t.warningUnhooked();var a=t.getFieldEntitiesForNamePathList(n);return a.map(function(i,o){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:ge(n[o]),errors:[],warnings:[]}})}),at(this,"getFieldError",function(n){t.warningUnhooked();var a=ge(n),i=t.getFieldsError([a])[0];return i.errors}),at(this,"getFieldWarning",function(n){t.warningUnhooked();var a=ge(n),i=t.getFieldsError([a])[0];return i.warnings}),at(this,"isFieldsTouched",function(){t.warningUnhooked();for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a[0],l=a[1],s,u=!1;a.length===0?s=null:a.length===1?Array.isArray(o)?(s=o.map(ge),u=!1):(s=null,u=o):(s=o.map(ge),u=l);var c=t.getFieldEntities(!0),f=function(g){return g.isFieldTouched()};if(!s)return u?c.every(function(v){return f(v)||v.isList()}):c.some(f);var h=new Pi;s.forEach(function(v){h.set(v,[])}),c.forEach(function(v){var g=v.getNamePath();s.forEach(function(y){y.every(function(m,b){return g[b]===m})&&h.update(y,function(m){return[].concat(It(m),[v])})})});var d=function(g){return g.some(f)},p=h.map(function(v){var g=v.value;return g});return u?p.every(d):p.some(d)}),at(this,"isFieldTouched",function(n){return t.warningUnhooked(),t.isFieldsTouched([n])}),at(this,"isFieldsValidating",function(n){t.warningUnhooked();var a=t.getFieldEntities();if(!n)return a.some(function(o){return o.isFieldValidating()});var i=n.map(ge);return a.some(function(o){var l=o.getNamePath();return Ki(i,l)&&o.isFieldValidating()})}),at(this,"isFieldValidating",function(n){return t.warningUnhooked(),t.isFieldsValidating([n])}),at(this,"resetWithFieldInitialValue",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Pi,i=t.getFieldEntities(!0);i.forEach(function(s){var u=s.props.initialValue,c=s.getNamePath();if(u!==void 0){var f=a.get(c)||new Set;f.add({entity:s,value:u}),a.set(c,f)}});var o=function(u){u.forEach(function(c){var f=c.props.initialValue;if(f!==void 0){var h=c.getNamePath(),d=t.getInitialValue(h);if(d!==void 0)Rr(!1,"Form already set 'initialValues' with path '".concat(h.join("."),"'. Field can not overwrite it."));else{var p=a.get(h);if(p&&p.size>1)Rr(!1,"Multiple Field with path '".concat(h.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var v=t.getFieldValue(h),g=c.isListField();!g&&(!n.skipExist||v===void 0)&&t.updateStore(zr(t.store,h,It(p)[0].value))}}}})},l;n.entities?l=n.entities:n.namePathList?(l=[],n.namePathList.forEach(function(s){var u=a.get(s);if(u){var c;(c=l).push.apply(c,It(It(u).map(function(f){return f.entity})))}})):l=i,o(l)}),at(this,"resetFields",function(n){t.warningUnhooked();var a=t.store;if(!n){t.updateStore(ll(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(a,null,{type:"reset"}),t.notifyWatch();return}var i=n.map(ge);i.forEach(function(o){var l=t.getInitialValue(o);t.updateStore(zr(t.store,o,l))}),t.resetWithFieldInitialValue({namePathList:i}),t.notifyObservers(a,i,{type:"reset"}),t.notifyWatch(i)}),at(this,"setFields",function(n){t.warningUnhooked();var a=t.store,i=[];n.forEach(function(o){var l=o.name,s=ng(o,oD),u=ge(l);i.push(u),"value"in s&&t.updateStore(zr(t.store,u,s.value)),t.notifyObservers(a,[u],{type:"setField",data:o})}),t.notifyWatch(i)}),at(this,"getFields",function(){var n=t.getFieldEntities(!0),a=n.map(function(i){var o=i.getNamePath(),l=i.getMeta(),s=Tt(Tt({},l),{},{name:o,value:t.getFieldValue(o)});return Object.defineProperty(s,"originRCField",{value:!0}),s});return a}),at(this,"initEntityValue",function(n){var a=n.props.initialValue;if(a!==void 0){var i=n.getNamePath(),o=fn(t.store,i);o===void 0&&t.updateStore(zr(t.store,i,a))}}),at(this,"isMergedPreserve",function(n){var a=n!==void 0?n:t.preserve;return a??!0}),at(this,"registerField",function(n){t.fieldEntities.push(n);var a=n.getNamePath();if(t.notifyWatch([a]),n.props.initialValue!==void 0){var i=t.store;t.resetWithFieldInitialValue({entities:[n],skipExist:!0}),t.notifyObservers(i,[n.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(f){return f!==n}),!t.isMergedPreserve(l)&&(!o||s.length>1)){var u=o?void 0:t.getInitialValue(a);if(a.length&&t.getFieldValue(a)!==u&&t.fieldEntities.every(function(f){return!dC(f.getNamePath(),a)})){var c=t.store;t.updateStore(zr(c,a,u,!0)),t.notifyObservers(c,[a],{type:"remove"}),t.triggerDependenciesUpdate(c,a)}}t.notifyWatch([a])}}),at(this,"dispatch",function(n){switch(n.type){case"updateValue":{var a=n.namePath,i=n.value;t.updateValue(a,i);break}case"validateField":{var o=n.namePath,l=n.triggerName;t.validateFields([o],{triggerName:l});break}}}),at(this,"notifyObservers",function(n,a,i){if(t.subscribable){var o=Tt(Tt({},i),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(l){var s=l.onStoreChange;s(n,a,o)})}else t.forceRootUpdate()}),at(this,"triggerDependenciesUpdate",function(n,a){var i=t.getDependencyChildrenFields(a);return i.length&&t.validateFields(i),t.notifyObservers(n,i,{type:"dependenciesUpdate",relatedFields:[a].concat(It(i))}),i}),at(this,"updateValue",function(n,a){var i=ge(n),o=t.store;t.updateStore(zr(t.store,i,a)),t.notifyObservers(o,[i],{type:"valueUpdate",source:"internal"}),t.notifyWatch([i]);var l=t.triggerDependenciesUpdate(o,i),s=t.callbacks.onValuesChange;if(s){var u=a0(t.store,[i]);s(u,t.getFieldsValue())}t.triggerOnFieldsChange([i].concat(It(l)))}),at(this,"setFieldsValue",function(n){t.warningUnhooked();var a=t.store;if(n){var i=ll(t.store,n);t.updateStore(i)}t.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),at(this,"setFieldValue",function(n,a){t.setFields([{name:n,value:a}])}),at(this,"getDependencyChildrenFields",function(n){var a=new Set,i=[],o=new Pi;t.getFieldEntities().forEach(function(s){var u=s.props.dependencies;(u||[]).forEach(function(c){var f=ge(c);o.update(f,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(s),h})})});var l=function s(u){var c=o.get(u)||new Set;c.forEach(function(f){if(!a.has(f)){a.add(f);var h=f.getNamePath();f.isFieldDirty()&&h.length&&(i.push(h),s(h))}})};return l(n),i}),at(this,"triggerOnFieldsChange",function(n,a){var i=t.callbacks.onFieldsChange;if(i){var o=t.getFields();if(a){var l=new Pi;a.forEach(function(u){var c=u.name,f=u.errors;l.set(c,f)}),o.forEach(function(u){u.errors=l.get(u.name)||u.errors})}var s=o.filter(function(u){var c=u.name;return Ki(n,c)});s.length&&i(s,o)}}),at(this,"validateFields",function(n,a){t.warningUnhooked();var i,o;Array.isArray(n)||typeof n=="string"||typeof a=="string"?(i=n,o=a):o=n;var l=!!i,s=l?i.map(ge):[],u=[],c=String(Date.now()),f=new Set,h=o||{},d=h.recursive,p=h.dirty;t.getFieldEntities(!0).forEach(function(m){if(l||s.push(m.getNamePath()),!(!m.props.rules||!m.props.rules.length)&&!(p&&!m.isFieldDirty())){var b=m.getNamePath();if(f.add(b.join(c)),!l||Ki(s,b,d)){var x=m.validateRules(Tt({validateMessages:Tt(Tt({},uC),t.validateMessages)},o));u.push(x.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(w){var S,C=[],T=[];return(S=w.forEach)===null||S===void 0||S.call(w,function(F){var I=F.rule.warningOnly,M=F.errors;I?T.push.apply(T,It(M)):C.push.apply(C,It(M))}),C.length?Promise.reject({name:b,errors:C,warnings:T}):{name:b,errors:C,warnings:T}}))}}});var v=iD(u);t.lastValidatePromise=v,v.catch(function(m){return m}).then(function(m){var b=m.map(function(x){var w=x.name;return w});t.notifyObservers(t.store,b,{type:"validateFinish"}),t.triggerOnFieldsChange(b,m)});var g=v.then(function(){return t.lastValidatePromise===v?Promise.resolve(t.getFieldsValue(s)):Promise.reject([])}).catch(function(m){var b=m.filter(function(x){return x&&x.errors.length});return Promise.reject({values:t.getFieldsValue(s),errorFields:b,outOfDate:t.lastValidatePromise!==v})});g.catch(function(m){return m});var y=s.filter(function(m){return f.has(m.join(c))});return t.triggerOnFieldsChange(y),g}),at(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(n){var a=t.callbacks.onFinish;if(a)try{a(n)}catch(i){console.error(i)}}).catch(function(n){var a=t.callbacks.onFinishFailed;a&&a(n)})}),this.forceRootUpdate=e});function ug(r){var e=l0.useRef(),t=l0.useState({}),n=_l(t,2),a=n[1];if(!e.current)if(r)e.current=r;else{var i=function(){a({})},o=new lD(i);e.current=o.getForm()}return[e.current]}const $u=window.React;var Bp=$u.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),sD=function(e){var t=e.validateMessages,n=e.onFormChange,a=e.onFormFinish,i=e.children,o=$u.useContext(Bp),l=$u.useRef({});return $u.createElement(Bp.Provider,{value:Tt(Tt({},o),{},{validateMessages:Tt(Tt({},o.validateMessages),t),triggerFormChange:function(u,c){n&&n(u,{changedFields:c,forms:l.current}),o.triggerFormChange(u,c)},triggerFormFinish:function(u,c){a&&a(u,{values:c,forms:l.current}),o.triggerFormFinish(u,c)},registerForm:function(u,c){u&&(l.current=Tt(Tt({},l.current),{},at({},u,c))),o.registerForm(u,c)},unregisterForm:function(u){var c=Tt({},l.current);delete c[u],l.current=c,o.unregisterForm(u)}})},i)},uD=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const jr=window.React;var cD=function(e,t){var n=e.name,a=e.initialValues,i=e.fields,o=e.form,l=e.preserve,s=e.children,u=e.component,c=u===void 0?"form":u,f=e.validateMessages,h=e.validateTrigger,d=h===void 0?"onChange":h,p=e.onValuesChange,v=e.onFieldsChange,g=e.onFinish,y=e.onFinishFailed,m=ng(e,uD),b=jr.useContext(Bp),x=ug(o),w=_l(x,1),S=w[0],C=S.getInternalHooks(Ua),T=C.useSubscribe,F=C.setInitialValues,I=C.setCallbacks,M=C.setValidateMessages,O=C.setPreserve,k=C.destroyForm;jr.useImperativeHandle(t,function(){return S}),jr.useEffect(function(){return b.registerForm(n,S),function(){b.unregisterForm(n)}},[b,S,n]),M(Tt(Tt({},b.validateMessages),f)),I({onValuesChange:p,onFieldsChange:function($){if(b.triggerFormChange(n,$),v){for(var z=arguments.length,Y=new Array(z>1?z-1:0),q=1;q<z;q++)Y[q-1]=arguments[q];v.apply(void 0,[$].concat(Y))}},onFinish:function($){b.triggerFormFinish(n,$),g&&g($)},onFinishFailed:y}),O(l);var L=jr.useRef(null);F(a,!L.current),L.current||(L.current=!0),jr.useEffect(function(){return k},[]);var N,R=typeof s=="function";if(R){var D=S.getFieldsValue(!0);N=s(D,S)}else N=s;T(!R);var W=jr.useRef();jr.useEffect(function(){tD(W.current||[],i||[])||S.setFields(i||[]),W.current=i},[i,S]);var V=jr.useMemo(function(){return Tt(Tt({},S),{},{validateTrigger:d})},[S,d]),B=jr.createElement(ac.Provider,{value:null},jr.createElement(uo.Provider,{value:V},N));return c===!1?B:jr.createElement(c,nc({},m,{onSubmit:function($){$.preventDefault(),$.stopPropagation(),S.submit()},onReset:function($){var z;$.preventDefault(),S.resetFields(),(z=m.onReset)===null||z===void 0||z.call(m,$)}}),B)};const fD=window.React.useContext,hD=window.React.useEffect,dD=window.React.useMemo,s0=window.React.useRef,pD=window.React.useState;function u0(r){try{return JSON.stringify(r)}catch{return Math.random()}}function vD(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=e[0],a=e[1],i=a===void 0?{}:a,o=vL(i)?{form:i}:i,l=o.form,s=pD(),u=_l(s,2),c=u[0],f=u[1],h=dD(function(){return u0(c)},[c]),d=s0(h);d.current=h;var p=fD(uo),v=l||p,g=v&&v._init,y=ge(n),m=s0(y);return m.current=y,hD(function(){if(g){var b=v.getFieldsValue,x=v.getInternalHooks,w=x(Ua),S=w.registerWatch,C=function(M,O){var k=o.preserve?O:M;return typeof n=="function"?n(k):fn(k,m.current)},T=S(function(I,M){var O=C(I,M),k=u0(O);d.current!==k&&(d.current=k,f(O))}),F=C(b(),b(!0));return c!==F&&f(F),T}},[g]),c}const gD=window.React;var yD=gD.forwardRef(cD),ms=yD;ms.FormProvider=sD;ms.Field=pC;ms.List=nD;ms.useForm=ug;ms.useWatch=vD;const c0=r=>typeof r=="object"&&r!=null&&r.nodeType===1,f0=(r,e)=>(!e||r!=="hidden")&&r!=="visible"&&r!=="clip",Ih=(r,e)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const t=getComputedStyle(r,null);return f0(t.overflowY,e)||f0(t.overflowX,e)||(n=>{const a=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(r)}return!1},Ws=(r,e,t,n,a,i,o,l)=>i<r&&o>e||i>r&&o<e?0:i<=r&&l<=t||o>=e&&l>=t?i-r-n:o>e&&l<t||i<r&&l>t?o-e+a:0,mD=r=>{const e=r.parentElement;return e??(r.getRootNode().host||null)},h0=(r,e)=>{var t,n,a,i;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:s,boundary:u,skipOverflowHiddenElements:c}=e,f=typeof u=="function"?u:R=>R!==u;if(!c0(r))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,d=[];let p=r;for(;c0(p)&&f(p);){if(p=mD(p),p===h){d.push(p);break}p!=null&&p===document.body&&Ih(p)&&!Ih(document.documentElement)||p!=null&&Ih(p,c)&&d.push(p)}const v=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,g=(i=(a=window.visualViewport)==null?void 0:a.height)!=null?i:innerHeight,{scrollX:y,scrollY:m}=window,{height:b,width:x,top:w,right:S,bottom:C,left:T}=r.getBoundingClientRect(),{top:F,right:I,bottom:M,left:O}=(R=>{const D=window.getComputedStyle(R);return{top:parseFloat(D.scrollMarginTop)||0,right:parseFloat(D.scrollMarginRight)||0,bottom:parseFloat(D.scrollMarginBottom)||0,left:parseFloat(D.scrollMarginLeft)||0}})(r);let k=l==="start"||l==="nearest"?w-F:l==="end"?C+M:w+b/2-F+M,L=s==="center"?T+x/2-O+I:s==="end"?S+I:T-O;const N=[];for(let R=0;R<d.length;R++){const D=d[R],{height:W,width:V,top:B,right:P,bottom:$,left:z}=D.getBoundingClientRect();if(o==="if-needed"&&w>=0&&T>=0&&C<=g&&S<=v&&w>=B&&C<=$&&T>=z&&S<=P)return N;const Y=getComputedStyle(D),q=parseInt(Y.borderLeftWidth,10),_=parseInt(Y.borderTopWidth,10),G=parseInt(Y.borderRightWidth,10),X=parseInt(Y.borderBottomWidth,10);let K=0,tt=0;const et="offsetWidth"in D?D.offsetWidth-D.clientWidth-q-G:0,vt="offsetHeight"in D?D.offsetHeight-D.clientHeight-_-X:0,st="offsetWidth"in D?D.offsetWidth===0?0:V/D.offsetWidth:0,yt="offsetHeight"in D?D.offsetHeight===0?0:W/D.offsetHeight:0;if(h===D)K=l==="start"?k:l==="end"?k-g:l==="nearest"?Ws(m,m+g,g,_,X,m+k,m+k+b,b):k-g/2,tt=s==="start"?L:s==="center"?L-v/2:s==="end"?L-v:Ws(y,y+v,v,q,G,y+L,y+L+x,x),K=Math.max(0,K+m),tt=Math.max(0,tt+y);else{K=l==="start"?k-B-_:l==="end"?k-$+X+vt:l==="nearest"?Ws(B,$,W,_,X+vt,k,k+b,b):k-(B+W/2)+vt/2,tt=s==="start"?L-z-q:s==="center"?L-(z+V/2)+et/2:s==="end"?L-P+G+et:Ws(z,P,V,q,G+et,L,L+x,x);const{scrollLeft:kt,scrollTop:Yt}=D;K=yt===0?0:Math.max(0,Math.min(Yt+K/yt,D.scrollHeight-W/yt+vt)),tt=st===0?0:Math.max(0,Math.min(kt+tt/st,D.scrollWidth-V/st+et)),k+=Yt-K,L+=kt-tt}N.push({el:D,top:K,left:tt})}return N},xD=r=>r===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(r)?r:{block:"start",inline:"nearest"};function bD(r,e){if(!r.isConnected||!(a=>{let i=a;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(r))return;const t=(a=>{const i=window.getComputedStyle(a);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(r);if((a=>typeof a=="object"&&typeof a.behavior=="function")(e))return e.behavior(h0(r,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:a,top:i,left:o}of h0(r,xD(e))){const l=i-t.top+t.bottom,s=o-t.left+t.right;a.scroll({top:l,left:s,behavior:n})}}const wD=["parentNode"],SD="form_item";function gC(r){return r===void 0||r===!1?[]:Array.isArray(r)?r:[r]}function CD(r,e){if(!r.length)return;const t=r.join("_");return e?`${e}_${t}`:wD.includes(t)?`${SD}_${t}`:t}const d0=window.React;function p0(r){return gC(r).join("_")}function AD(r,e){const t=e.getFieldInstance(r);if(t instanceof HTMLElement)return t;if((t==null?void 0:t.nativeElement)instanceof HTMLElement)return t.nativeElement;const n=CD(gC(r),e.__INTERNAL__.name);if(n)return document.getElementById(n)}function yC(r){const[e]=ug(),t=d0.useRef({}),n=d0.useMemo(()=>r??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:a=>i=>{const o=p0(a);i?t.current[o]=i:delete t.current[o]}},scrollToField:function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=AD(a,n);o&&bD(o,Object.assign({scrollMode:"if-needed",block:"nearest"},i))},getFieldInstance:a=>{const i=p0(a);return t.current[i]}}),[r,e]);return[n]}window.React.useMemo;const bl=window.antd.Input,ED=window.antd.Modal,me=window.antd.Form,Fr=window.antd.Col,Zi=window.antd.Row,Vr=window.antd.Select,Gs=window.antd.Switch,v0=window.antd.Button,TD=window.antd.Card,g0=window.antd.InputNumber,qn=window.antd.Radio,ID=window.antd.Tabs,qs=window.antd.Tooltip,Ys=window.antd.Flex,MD=window.React.useImperativeHandle,y0=window.React.useState,OD=window.React.memo,FD=window.React.useMemo,kD=OD(r=>{const[e,t]=y0(!1),[n,a]=y0(0),[i]=yC(),{selectedElement:o,elementsMap:l,editTableProps:s,editEvents:u}=Et(d=>({selectedElement:d.selectedElement,elementsMap:d.page.elementsMap,editTableProps:d.editTableProps,editEvents:d.editEvents}));MD(r.columnRef,()=>({open(d){const v=l[o==null?void 0:o.id].config.props.columns[d],g=v.render||`function render(text, record, index) {
    return text;
}`;i.resetFields(),i.setFieldsValue({align:"center",fixed:!1,type:"text",empty:"-",...v,render:g,onCell:v.onCell||`function onCell(record, index) {
    // 此处可以设置数据跨行、跨列
    return {

    }
}`}),a(d),t(!0)}}));const c=FD(()=>[{key:"basic",label:"基础配置",children:A.jsx(PD,{})},{key:"display",label:"展示配置",forceRender:!0,children:A.jsx(RD,{})},{key:"custom",label:"自定义",forceRender:!0,children:A.jsx(LD,{})}],[]),f=()=>{i.validateFields().then(()=>{var m,b;const d=i.getFieldsValue(),p=l[o==null?void 0:o.id],v=fs(`ClickCell${d.dataIndex}`);d.clickable?d.eventName=d.eventName||v:d.eventName="",s({id:o==null?void 0:o.id,type:"column",index:n,props:{...d,key:d.dataIndex||n}});let g=(m=p.events)==null?void 0:m.filter(x=>x.value.indexOf("Dynamic")==-1);(b=d.list)==null||b.map((x,w)=>{var C,T;let S="";typeof x.text=="string"||((C=x.text)==null?void 0:C.type)==="static"?S="操作列"+(((T=x.text)==null?void 0:T.value)||x.text)+"事件":S=`操作列动态按钮${w+1}事件`,g.push({name:S,value:x.eventName})});const y=p.config.props.columns[n].eventName;g=g.filter(x=>x.value!=y),d.clickable&&g.push({name:`列${d.title}事件`,value:d.eventName||v}),u({id:p.id,events:g}),r.update(d,n),t(!1)})},h=()=>{t(!1)};return A.jsx(ED,{title:"列设置",open:e,onOk:f,onCancel:h,width:900,children:A.jsx(me,{form:i,labelCol:{span:6},children:A.jsx(ID,{items:c})})})}),PD=()=>A.jsxs(A.Fragment,{children:[A.jsxs(Zi,{children:[A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"列头",name:"title",rules:[{required:!0,message:"请输入列名"}],children:A.jsx(bl,{})})}),A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"字段",name:"dataIndex",rules:[{required:!0,message:"请输入字段名称"}],children:A.jsx(bl,{})})})]}),A.jsxs(Zi,{children:[A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"宽度",name:"width",children:A.jsx(g0,{placeholder:"eg: 100"})})}),A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"对齐",name:"align",children:A.jsxs(qn.Group,{buttonStyle:"solid",children:[A.jsx(qn.Button,{value:"left",children:"居左"}),A.jsx(qn.Button,{value:"center",children:"居中"}),A.jsx(qn.Button,{value:"right",children:"居右"})]})})})]}),A.jsxs(Zi,{children:[A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"固定方式",name:"fixed",children:A.jsxs(qn.Group,{buttonStyle:"solid",children:[A.jsx(qn.Button,{value:"",children:"默认"}),A.jsx(qn.Button,{value:"left",children:"居左"}),A.jsx(qn.Button,{value:"right",children:"居右"})]})})}),A.jsx(Fr,{span:12,children:A.jsx(me.Item,{label:"表头跨列",name:"colSpan",children:A.jsx(g0,{placeholder:"eg: 3"})})})]})]}),RD=()=>{const r={labelCol:{span:4},wrapperCol:{span:8}};return A.jsxs(A.Fragment,{children:[A.jsx(me.Item,{label:"显示格式",name:"type",...r,children:A.jsxs(Vr,{children:[A.jsx(Vr.Option,{value:"text",children:"单行文本"}),A.jsx(Vr.Option,{value:"multiline",children:A.jsxs(Ys,{justify:"space-between",children:[A.jsx("span",{children:"多行文本"}),A.jsx("span",{children:A.jsx(qs,{title:"需要返回数组格式：[{label: '名称',value: 'Jack'}]",children:A.jsx(_s,{})})})]})}),A.jsx(Vr.Option,{value:"status",children:A.jsxs(Ys,{justify:"space-between",children:[A.jsx("span",{children:"状态"}),A.jsx("span",{children:A.jsx(qs,{title:"需要返回数组格式：[{status: 'success',text: '提交完成'}]",children:A.jsx(_s,{})})})]})}),A.jsx(Vr.Option,{value:"image",children:A.jsxs(Ys,{justify:"space-between",children:[A.jsx("span",{children:"图片"}),A.jsx("span",{children:A.jsx(qs,{title:"支持单张和多张预览，多张图片格式：['xxx.png','xxx.jpg']",children:A.jsx(_s,{})})})]})}),A.jsx(Vr.Option,{value:"date1",children:"日期-不含时分秒"}),A.jsx(Vr.Option,{value:"date2",children:"日期-包含时分秒"}),A.jsx(Vr.Option,{value:"money",children:"金额千分位"}),A.jsx(Vr.Option,{value:"number",children:"数字千分位"}),A.jsx(Vr.Option,{value:"tag",children:A.jsxs(Ys,{justify:"space-between",children:[A.jsx("span",{children:"标签"}),A.jsx("span",{children:A.jsx(qs,{title:"支持颜色配置，返回格式：[{label:'名称',color:'green'}]",children:A.jsx(_s,{})})})]})}),A.jsx(Vr.Option,{value:"action",children:"操作"})]})}),A.jsx(me.Item,{label:"可点击",name:"clickable",tooltip:"开启后，当前列展示为可点击的link格式，支持事件配置",...r,children:A.jsx(Gs,{})}),A.jsx(me.Item,{name:"eventName",hidden:!0,children:A.jsx(bl,{})}),A.jsx(me.Item,{label:"超长省略",name:"ellipsis",tooltip:"省略后，会自动开启tooltip功能",...r,children:A.jsx(Gs,{})}),A.jsx(me.Item,{label:"可复制",name:"copyable",tooltip:"开启后，列增加复制功能，只对文本生效",...r,children:A.jsx(Gs,{})}),A.jsx(me.Item,{shouldUpdate:!0,noStyle:!0,children:e=>{if(e.getFieldValue("type")==="action")return A.jsx(me.List,{name:"list",children:(n,{add:a,remove:i})=>A.jsxs(A.Fragment,{children:[n.map(({key:o,name:l,...s})=>A.jsx(TD,{style:{width:"100%",marginBottom:10},title:"操作按钮设置",size:"small",extra:A.jsx(v0,{onClick:()=>i(l),icon:A.jsx(GO,{}),type:"text",danger:!0,children:"删除"}),children:A.jsxs(Zi,{gutter:15,style:{marginBottom:-24},children:[A.jsx(Fr,{span:6,children:A.jsx(me.Item,{...s,name:[l,"text"],label:"名称",children:A.jsx(Zu,{})})}),A.jsx(Fr,{span:4,children:A.jsx(me.Item,{label:"danger",name:[l,"danger"],labelCol:{span:14},valuePropName:"checked",children:A.jsx(Gs,{})})}),A.jsx(Fr,{span:7,children:A.jsx(me.Item,{label:"权限标识",tooltip:"项目配置后台对应的按钮code或者uac中对应的按钮filedName",name:[l,"authCode"],children:A.jsx(bl,{placeholder:"按钮Code"})})}),A.jsxs(Fr,{span:7,children:[A.jsx(me.Item,{label:"三方脚本",tooltip:"如果是微服务集成，需要通过脚本来控制按钮权限",name:[l,"authScript"],children:A.jsx(Zu,{placeholder:"跨服务时，执行脚本"})}),A.jsx(me.Item,{name:[l,"eventName"],hidden:!0,children:A.jsx(bl,{})})]})]})},o)),A.jsx("div",{style:{marginTop:15},children:A.jsx(v0,{type:"dashed",block:!0,onClick:()=>a({text:"按钮",type:"link",eventName:fs("Dynamic")}),icon:A.jsx(pr,{}),children:"新增操作按钮"})})]})})}})]})},LD=()=>A.jsxs(A.Fragment,{children:[A.jsx(Zi,{children:A.jsx(Fr,{span:24,children:A.jsx(me.Item,{label:"单元格渲染",name:"onCell",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过自定义onCell函数，实现数据跨行、跨列展示。",children:A.jsx(Rl,{})})})}),A.jsx(Zi,{children:A.jsx(Fr,{span:24,children:A.jsx(me.Item,{label:"自定义渲染",name:"render",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过编程的方式实现值渲染，不支持ReactNode渲染。例如：if(text === 1)return '在线'; ",children:A.jsx(Rl,{})})})})]}),DD=window.React.useRef,m0=window.antd.Form,x0=window.antd.Input,_D=window.antd.Space,BD=({index:r,move:e,handleOpen:t,add:n,remove:a})=>{const i=DD(null),[,o]=xr({accept:"card",hover(f,h){var b;if(!i.current)return;const d=f.index,p=r;if(d===p)return;const v=(b=i.current)==null?void 0:b.getBoundingClientRect(),g=(v.bottom-v.top)/2,m=h.getClientOffset().y-v.top;d<p&&m<g||d>p&&m>g||(e(d,p),f.index=p)}}),[{isDragging:l},s]=L2({type:"card",item:()=>({index:r}),collect:f=>({isDragging:f.isDragging()})}),u=l?0:1;s(o(i));const c=Wa("C",5);return A.jsx(A.Fragment,{children:A.jsxs(_D,{style:{display:"flex",marginBottom:15,padding:"0 10px",opacity:u},align:"baseline",ref:i,children:[A.jsx(qO,{style:{cursor:"grab"}}),A.jsx(m0.Item,{wrapperCol:{span:22},name:[r,"title"],noStyle:!0,children:A.jsx(x0,{placeholder:"列名称"})}),A.jsx(m0.Item,{wrapperCol:{span:22},name:[r,"dataIndex"],noStyle:!0,children:A.jsx(x0,{placeholder:"列字段",style:{width:"100%"}})}),A.jsx(Nc,{onClick:()=>t(r)}),A.jsx(pr,{onClick:()=>n({title:c,dataIndex:c,width:120},r+1)}),A.jsx(Si,{onClick:()=>a(r)})]})})},ND=window.antd.Form,$D=window.React.memo,jD=window.React.useCallback,VD=window.React.useRef,HD=$D(({form:r})=>{const e=VD(),t=jD(a=>{var i;(i=e.current)==null||i.open(a)},[]),n=(a,i)=>{r.setFieldValue(["columns",i],a)};return A.jsxs(A.Fragment,{children:[A.jsx(ND.List,{name:["columns"],children:(a,{add:i,remove:o,move:l})=>A.jsx(A.Fragment,{children:a.map(({key:s,name:u})=>A.jsx(BD,{index:u,add:i,remove:o,handleOpen:t,move:l},s))})}),A.jsx(kD,{columnRef:e,update:n})]})}),zD=HD,WD=window.React,GD=window.React.useImperativeHandle,b0=window.React.useState,qD=window.React.memo,Mh=window.antd.Input,YD=window.antd.Modal,rn=window.antd.Form,w0=window.antd.Select,S0=window.antd.Switch,UD=window.antd.Radio,XD=qD(r=>{const[e,t]=b0(!1),[n,a]=b0(0),[i]=rn.useForm(),{selectedElement:o,elementsMap:l,editTableProps:s}=Et(h=>({selectedElement:h.selectedElement,elementsMap:h.page.elementsMap,editTableProps:h.editTableProps}));GD(r.modalRef,()=>({open(h){const d=l[o==null?void 0:o.id];i.setFieldsValue({danger:!1,...d.config.props.bulkActionList[h]}),a(h),t(!0)}}));const u=()=>{i.validateFields().then(()=>{const h=i.getFieldsValue();s({id:o==null?void 0:o.id,type:"bulkActionList",index:n,props:h}),r.update(h,n),t(!1)})},c=()=>{t(!1)},f=xn;return A.jsx(YD,{title:"操作按钮设置",open:e,onOk:u,onCancel:c,width:600,destroyOnClose:!0,children:A.jsxs(rn,{form:i,labelCol:{span:5},wrapperCol:{span:18},children:[A.jsx(rn.Item,{label:"按钮名称",name:"text",rules:[{required:!0,message:"请输入按钮名称"}],children:A.jsx(Mh,{})}),A.jsx(rn.Item,{name:"eventName",hidden:!0,children:A.jsx(Mh,{})}),A.jsx(rn.Item,{label:"按钮类型",name:"type",children:A.jsx(UD.Group,{optionType:"button",buttonStyle:"solid",options:[{label:"主按钮",value:"primary"},{label:"默认",value:"default"},{label:"虚线按钮",value:"dashed"},{label:"文本按钮",value:"text"},{label:"链接按钮",value:"link"}]})}),A.jsx(rn.Item,{label:"危险按钮",name:"danger",valuePropName:"checked",children:A.jsx(S0,{})}),A.jsx(rn.Item,{label:"块状按钮",name:"block",valuePropName:"checked",children:A.jsx(S0,{})}),A.jsx(rn.Item,{label:"按钮图标",name:"icon",children:A.jsx(w0,{placeholder:"请选择菜单图表",showSearch:!0,allowClear:!0,children:Object.keys(xn).filter(h=>!["default","createFromIconfontCN","getTwoToneColor","setTwoToneColor","IconProvider"].includes(h)).map(h=>A.jsx(w0.Option,{value:h,children:WD.createElement(f[h],{style:{fontSize:"24px",verticalAlign:"middle"}})},h))})}),A.jsx(rn.Item,{name:"authCode",label:"权限标识",children:A.jsx(Mh,{})}),A.jsx(rn.Item,{name:"authScript",label:"三方脚本",children:A.jsx(Zu,{})})]})})}),KD=window.React.memo,ZD=window.React.useRef,Us=window.antd.Form,Oh=window.antd.Input,QD=window.antd.Space,JD=window.antd.Button,t_=window.ahooks.useDebounceFn,e_=KD(({form:r})=>{const{selectedElement:e,elementsMap:t,editEvents:n}=Et(f=>({selectedElement:f.selectedElement,elementsMap:f.page.elementsMap,editEvents:f.editEvents})),a=ZD(),i=f=>{f({text:"下载",type:"primary",eventName:fs("BulkAction")}),l()},o=(f,h)=>{f(h),l()},l=()=>{var d,p;const h=(d=t[e==null?void 0:e.id].events)==null?void 0:d.filter(v=>v.value.indexOf("BulkAction")==-1);(p=r.getFieldValue("bulkActionList"))==null||p.map(v=>{h.push({name:v.text+"事件",value:v.eventName})}),n({id:e==null?void 0:e.id,events:h})},s=f=>{var h;(h=a.current)==null||h.open(f)},{run:u}=t_((f,h)=>{c(f,h)},{wait:500}),c=(f,h)=>{typeof f=="string"?r.setFieldValue(["bulkActionList",h,"text"],f):r.setFieldValue(["bulkActionList",h],f);const d=r.getFieldValue(["bulkActionList",h,"eventName"]),p=t[e==null?void 0:e.id],v=HO(p.events);v.map(g=>(g.value===d&&(typeof f=="string"?g.name=f+"事件":g.name=f.text+"事件"),g)),n({id:e==null?void 0:e.id,events:v})};return A.jsxs(A.Fragment,{children:[A.jsx(Us.List,{name:["bulkActionList"],children:(f,{add:h,remove:d})=>A.jsxs(A.Fragment,{children:[f.map(({key:p,name:v,...g})=>A.jsxs(QD,{align:"baseline",children:[A.jsx(Us.Item,{...g,labelCol:{span:12},name:[v,"text"],label:"按钮",children:A.jsx(Oh,{placeholder:"请输入按钮名称",onChange:y=>u(y.target.value,v)})}),A.jsx(Us.Item,{name:[v,"eventName"],hidden:!0,children:A.jsx(Oh,{})}),A.jsx(Us.Item,{name:[v,"type"],hidden:!0,children:A.jsx(Oh,{})}),A.jsx(Nc,{onClick:()=>s(v)}),A.jsx(Si,{onClick:()=>o(d,v)})]},p)),A.jsx("div",{style:{padding:"0 10px 10px"},children:A.jsx(JD,{type:"primary",block:!0,ghost:!0,onClick:()=>i(h),icon:A.jsx(pr,{}),children:"新增"})})]})}),A.jsx(XD,{modalRef:a,update:c})]})}),cg=e_,r_={attrs:[{type:"Title",label:"操作栏"},{type:"function",render(r){return A.jsx(cg,{form:r},"ActionSetting")}},{type:"Title",label:"表格配置"},{type:"Input",label:"标题",name:["leftTitle"]},{type:"Switch",label:"显示边框",name:["bordered"]},{type:"Select",label:"表格尺寸",name:["size"],props:{options:[{label:"默认",value:"large"},{label:"中等",value:"middle"},{label:"紧凑",value:"small"}]}},{type:"Select",label:"单选/多选",name:["selectionType"],props:{options:[{label:"无",value:""},{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}]}},{type:"InputNumber",label:"滚动轴(x)",name:["scroll","x"],tooltip:"如果需要横向滚动，请设置x值，尽量比表格实际宽度大",props:{placeholder:"eg: 1000"}},{type:"InputNumber",label:"滚动轴(y)",name:["scroll","y"],tooltip:"如果需要纵向滚动，请设置y值来固定高度",props:{placeholder:"eg: 600"}},{type:"Select",label:"空值显示",name:["empty"],tooltip:"列返回空时，展示的内容",props:{options:[{label:"无",value:""},{label:"-",value:"-"},{label:"/",value:"/"}]}},{type:"Title",label:"列配置",key:"columnConfig"},{type:"Input",label:"rowKey",name:["rowKey"],tooltip:"建议把列表返回的唯一值设置为rowKey",props:{placeholder:"eg: id"}},{type:"function",key:"TableSetting",render(r){return A.jsx(zD,{form:r},"TableSetting")}},{type:"Title",label:"分页配置",key:"pageConfig"},{type:"Switch",label:"隐藏分页",name:["hidePager"]},{type:"Select",label:"显示位置",name:["pagination","position"],props:{mode:"multiple",options:[{label:"左上",value:"topLeft"},{label:"右上",value:"topRight"},{label:"左下",value:"bottomLeft"},{label:"右下",value:"bottomRight"}]}},{type:"InputNumber",label:"每页条数",name:["pagination","pageSize"]},{type:"Switch",label:"显示总条数",name:["pagination","showTotal"]},{type:"Switch",label:"显示切换器",name:["pagination","showSizeChanger"]},{type:"Switch",label:"显示跳转",name:["pagination","showQuickJumper"]},{type:"Title",label:"字段映射",key:"fieldmap"},{type:"Input",label:"页码",name:["field","pageNum"]},{type:"Input",label:"每页步长",name:["field","pageSize"]},{type:"Input",label:"总条数",name:["field","total"]}],config:{props:{rowKey:"id",size:"large",bordered:!0,selectionType:"",leftTitle:"查询列表",empty:"-",columns:[{title:"姓名",dataIndex:"name",key:"name",width:90,align:"center"},{title:"种类",dataIndex:"type",key:"type",width:80,align:"center"},{title:"头像",dataIndex:"avatar",key:"avatar",type:"image",width:90,align:"center"},{title:"分布区域",dataIndex:"area",key:"area",width:230},{title:"繁殖周期",dataIndex:"time",key:"time",render:`function render(text,record){
    return text + "个月"
}`,width:110},{title:"技能",dataIndex:"skill",key:"skill",type:"tag",width:200,align:"center"},{title:"售价",dataIndex:"sales",key:"sales",type:"money",width:90,align:"center"},{title:"状态",dataIndex:"status",key:"status",type:"status",width:90,align:"center",render:`function render(text,record){
    return {
      status: "processing",
      text: text
    }
}`},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",type:"date1",width:130,align:"center"},{title:"操作",key:"action",type:"action",dataIndex:"action",fixed:"right",width:220,align:"center",list:[{text:"详情",type:"link",eventName:"DynamicDetail"},{text:"编辑",type:"link",eventName:"DynamicEdit"},{text:"删除",type:"link",danger:!0,eventName:"DynamicDelete"}]}],hidePager:!1,pagination:{total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,position:["bottomRight"],pageSizeOptions:[10,20,50,100],showTotal:!0},field:{pageNum:"pageNum",pageSize:"pageSize",total:"total"}},style:{background:"#fff",padding:"0 20px",margin:"20px 0 0",border:"1px solid #e6e6e6",borderRadius:"3px"},events:[],api:{sourceType:"json",sourceField:"list",source:[{id:1001,name:"萤火虫",type:"昆虫",avatar:"https://marsview.cdn.bcebos.com/s1.png",time:10,skill:["飞","发光","御敌"],sales:9.9,status:"在售",createdAt:new Date().getTime(),area:"热带、亚热带和温带地区"}]}},events:[{value:"onCheckedChange",name:"单选/多选事件"},{value:"DynamicDetail",name:"点击查看事件"},{value:"DynamicEdit",name:"点击编辑事件"},{value:"DynamicDelete",name:"点击删除事件"}],methods:[{name:"search",title:"搜索"},{name:"reload",title:"刷新"},{name:"clearData",title:"清空列表"},{name:"开始Loading",title:"startLoading"},{name:"结束Loading",title:"stopLoading"},{name:"checkSelectedRow",title:"判断是否选中一条"},{name:"setSelectedRowKeys",title:"设置默认选中的Keys"},{name:"getSelectedRowKeys",title:"获取选中的Keys"},{name:"getSelectedRow",title:"获取选中的行数据"}]},n_=window.React.createContext,pe=n_(null),a_="_formWrap_sjtf9_1",i_="_searchBox_sjtf9_8",o_="_action_sjtf9_11",l_="_toggleAll_sjtf9_15",C0={formWrap:a_,searchBox:i_,action:o_,toggleAll:l_},s_=window.React,u_=window.React.forwardRef,c_=window.React.useEffect,f_=window.React.useImperativeHandle,h_=window.React.useRef,Fh=window.React.useState,Xs=window.antd.Button,A0=window.antd.Form,d_=window.antd.Space,p_=({id:r,type:e,config:t,elements:n,onSearch:a,onChange:i,onReset:o},l)=>{var L;const[s]=A0.useForm(),u=h_(null),[c,f]=Fh(!1),[h,d]=Fh(!1),[p,v]=Fh(!0),{addChildElements:g,updateToolbar:y,formData:m,setFormData:b}=Et(N=>({addChildElements:N.addChildElements,updateToolbar:N.updateToolbar,formData:N.page.formData,setFormData:N.setFormData}));c_(()=>{setTimeout(()=>{var N;((N=u.current)==null?void 0:N.offsetTop)>=32&&n.length>0?d(!0):d(!1)},500)},[n]);const[,x]=xr({accept:"MENU_ITEM",drop(N,R){if(R.didDrop())return;const{config:D,events:W,methods:V=[]}=mr[N.type+"Config"]||{};g({type:N.type,name:N.name,parentId:r,id:N.id,config:D,events:W,methods:V})},collect:N=>({isOver:N.isOver(),canDrop:N.canDrop()})}),w=()=>{const N=s.getFieldsValue();a&&a(oa(n,N))},S=()=>{s.resetFields();const N=s.getFieldsValue();o&&o(oa(n,N))},C=(N,R)=>{const D=oa(n,R);i==null||i(D),b({name:r,value:D})};f_(l,()=>({show(){v(!0)},hide(){v(!1)},reset(){s.resetFields()},submit(){s.submit()},init(N={}){const R=oa(n,N);s.setFieldsValue(R),b({name:r,value:R})},getFormData(N){var R;return N&&typeof N=="string"?(R=m[r])==null?void 0:R[N]:m[r]}}));const T=N=>{const R=s.getFieldsValue(),D=oa(n,R),W=t.events.find(V=>V.eventName===N);di(W==null?void 0:W.actions,D)},F=()=>{f(!c),y()},{submitText:I,resetText:M}=t.props.form||{},O=t.props.bulkActionList||[],k=xn;return p&&A.jsx(pe.Provider,{value:s,children:A.jsxs(A0,{form:s,layout:"inline",style:t.style,"data-id":r,"data-type":e,onValuesChange:C,children:[A.jsxs("div",{className:C0.formWrap,ref:x,style:c?{}:{height:32,overflow:"hidden"},children:[n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",children:"拖拽表单组件到这里"}),A.jsx("div",{ref:u})]}),A.jsxs(d_,{style:{alignItems:"baseline"},children:[I?A.jsx(Xs,{type:"primary",icon:A.jsx(YO,{}),onClick:w,children:I}):null,M?A.jsx(Xs,{type:"default",icon:A.jsx(UO,{}),onClick:S,children:M}):null,O.length>0&&A.jsx("div",{className:C0.action,children:(L=t.props.bulkActionList)==null?void 0:L.map((N,R)=>A.jsx(Xs,{type:N.type,danger:N.danger,icon:N.icon?s_.createElement(k[N.icon]):null,onClick:()=>T(N.eventName),children:N.text},`bulkAction${R}`))}),h&&A.jsx(Xs,{type:"link",icon:c?A.jsx(XO,{}):A.jsx(zO,{}),onClick:F,children:c?"收起":"展开"})]})]})})},v_=u_(p_),g_={attrs:[{type:"Title",label:"操作栏"},{type:"function",render(r){return A.jsx(cg,{form:r},"ActionSetting")}},{type:"Title",label:"按钮配置"},{type:"Input",label:"查询文本",name:["form","submitText"]},{type:"Input",label:"重置文本",name:["form","resetText"]}],config:{props:{form:{submitText:"查询",resetText:"重置"}},style:{background:"#fff",padding:"20px 10px",border:"1px solid #e6e6e6",borderRadius:"3px"},events:[],api:{}},events:[{value:"onSearch",name:"查询事件"},{value:"onReset",name:"重置事件"},{value:"onChange",name:"值变化事件"}],methods:[{name:"reset",title:"表单重置"},{name:"submit",title:"表单提交"},{name:"init",title:"表单初始化"},{name:"getFormData",title:"获取表单数据"}]},y_=window.antd.Flex,m_=window.React.forwardRef,x_=window.React.useImperativeHandle,b_=window.React.useState,w_=({id:r,type:e,config:t,elements:n},a)=>{const i=Et(u=>u.addChildElements),[o,l]=b_(!0),[,s]=xr({accept:"MENU_ITEM",drop(u,c){if(c.didDrop())return;const{config:f,events:h,methods:d=[]}=mr[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:r,id:u.id,config:f,events:h,methods:d})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return x_(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&A.jsx(y_,{style:t.style,...t.props,"data-id":r,"data-type":e,ref:s,children:n!=null&&n.length?A.jsx(br,{elements:n||[]}):A.jsx("div",{className:"slots",style:{lineHeight:"200px"},children:"拖拽组件到这里"})})},S_=m_(w_),C_={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Switch",label:"垂直布局",name:"vertical"},{type:"Select",label:"换行方式",name:"wrap",props:{options:[{value:"nowrap",label:"不换行"},{value:"wrap",label:"换行"},{value:"wrap-reverse",label:"逆换行"}]}},{type:"Select",label:"主轴对齐",name:"justify",props:{options:[{value:"flex-start",label:"左对齐"},{value:"flex-end",label:"右对齐"},{value:"center",label:"居中对齐"},{value:"space-between",label:"两端对齐"},{value:"space-around",label:"环绕对齐"},{value:"space-evenly",label:"均匀对齐"}]}},{type:"Select",label:"副轴对齐",name:"align",props:{options:[{value:"start",label:"起点对齐"},{value:"end",label:"终点对齐"},{value:"center",label:"居中对齐"},{value:"baseline",label:"文字基线对齐"},{value:"stretch",label:"拉伸对齐"}]}},{type:"Input",label:"元素间隙",name:"gap",props:{placeholder:"eg: 10px"}}],config:{props:{vertical:!1,wrap:"nowrap",justify:"center",align:"center",gap:20},style:{padding:"20px"},events:[],api:{},source:""},events:[]},E0=window.antd.Form,A_=window.React.forwardRef,E_=window.React.memo,T_=window.React.useImperativeHandle,I_=window.React.useState,M_=({id:r,type:e,config:t,elements:n,onFinish:a,onChange:i},o)=>{const[l]=E0.useForm(),{addChildElements:s,formData:u,setFormData:c}=Et(JS(g=>({addChildElements:g.addChildElements,formData:g.page.formData,setFormData:g.setFormData}))),[f,h]=I_(!0),[,d]=xr({accept:"MENU_ITEM",drop(g,y){if(y.didDrop())return;const{config:m,events:b,methods:x=[]}=mr[g.type+"Config"]||{};s({type:g.type,name:g.name,parentId:r,id:g.id,config:m,events:b,methods:x})},collect:g=>({isOver:g.isOver(),canDrop:g.canDrop()})}),p=g=>{a==null||a(oa(n,g))},v=(g,y)=>{const m=oa(n,y);i==null||i(m),c({name:r,value:m})};return T_(o,()=>({show(){h(!0)},hide(){h(!1)},reset(){l.resetFields()},submit(){l.submit()},async validate(){try{return await l.validateFields(),!0}catch(g){return console.error(g),!1}},init(g={}){const y=oa(n,g);l.setFieldsValue(y),c({name:r,value:y})},getFormData(g){var y;return g&&typeof g=="string"?(y=u[r])==null?void 0:y[g]:u[r]}})),f&&A.jsx(pe.Provider,{value:l,children:A.jsx("div",{ref:d,children:A.jsx(E0,{form:l,style:t.style,...t.props,"data-id":r,"data-type":e,onFinish:p,onValuesChange:v,children:n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽表单组件到这里"})})})})},O_=E_(A_(M_)),F_={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"字段",name:"name",props:{placeholder:"表单字段（默认可空）"}},{type:"Switch",label:"显示冒号",name:"colon"},{type:"Select",label:"标签对齐",name:"labelAlign",props:{options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]}},{type:"Switch",label:"禁用",name:["disabled"]},{type:"Select",label:"表单尺寸",name:"size",props:{options:[{label:"小号",value:"small"},{label:"中号",value:"middle"},{label:"大号",value:"large"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"Select",label:"表单布局",name:"layout",props:{options:[{label:"水平布局",value:"horizontal"},{label:"垂直布局",value:"vertical"},{label:"行内布局",value:"inline"}]}},{type:"InputNumber",label:"标签布局",name:["labelCol","span"],props:{placeholder:"栅栏数"}},{type:"InputNumber",label:"标签偏移",name:["labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["wrapperCol","span"],props:{placeholder:"栅栏数"}},{type:"InputNumber",label:"控件偏移",name:["wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"其他配置",key:"OtherConfig"},{type:"Switch",label:"报错聚焦",name:"scrollToFirstError"},{type:"Select",label:"表单形态",name:"variant",props:{options:[{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}}],config:{props:{colon:!0,labelAlign:"right",layout:"horizontal"},style:{padding:"20px 10px",backgroundColor:"#fff"},events:[],api:{}},events:[{value:"onReset",name:"重置事件"},{value:"onChange",name:"表单变化事件"},{value:"onFinish",name:"表单提交事件"}],methods:[{name:"reset",title:"表单重置"},{name:"submit",title:"表单提交"},{name:"validate",title:"表单校验"},{name:"init",title:"表单初始化"},{name:"getFormData",title:"获取表单数据"}]},k_=window.antd.Button,T0=window.antd.Card,P_=window.React.forwardRef,R_=window.React.useImperativeHandle,L_=window.React.useState,D_=({id:r,type:e,config:t,elements:n,onClick:a},i)=>{var f,h;const o=Et(d=>d.addChildElements),[l,s]=L_(!0),[,u]=xr({accept:"MENU_ITEM",drop(d,p){if(p.didDrop())return;const{config:v,events:g,methods:y=[]}=mr[d.type+"Config"]||{};o({type:d.type,name:d.name,parentId:r,id:d.id,config:v,events:g,methods:y})},collect:d=>({isOver:d.isOver(),canDrop:d.canDrop()})});R_(i,()=>({show(){s(!0)},hide(){s(!1)}}));const c=()=>{a&&a()};return l&&A.jsxs(T0,{style:t.style,...t.props,"data-id":r,"data-type":e,cover:A.jsx("img",{src:t.props.cover}),extra:(f=t.props.extra)!=null&&f.text?A.jsx(k_,{...t.props.extra,onClick:c,children:(h=t.props.extra)==null?void 0:h.text}):null,ref:u,children:[A.jsx(T0.Meta,{...t.props.meta}),n!=null&&n.length?A.jsx(br,{elements:n||[]}):A.jsx("div",{className:"slots",style:{lineHeight:"100px"},children:"拖拽组件到这里"})]})},__=P_(D_),B_={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"标题",name:"title"},{type:"Switch",label:"悬浮效果",name:"hoverable"},{type:"Switch",label:"显示边框",name:"bordered"},{type:"Select",label:"卡片尺寸",name:"size",props:{options:[{label:"默认",value:"default"},{label:"小",value:"small"}]}},{type:"Title",label:"按钮配置（右上角）",key:"btnConfig"},{type:"Input",label:"按钮名称",name:["extra","text"]},{type:"Select",label:"按钮类型",name:["extra","type"],props:{options:[{label:"默认",value:"default"},{label:"主要",value:"primary"},{label:"幽灵",value:"ghost"},{label:"链接",value:"link"},{label:"文本",value:"text"}]}},{type:"Switch",label:"显示危险",name:["extra","danger"]},{type:"Title",label:"封面配置",key:"coverConfig"},{type:"Input",label:"图片地址",name:"cover"},{type:"Title",label:"Meta配置",key:"metaConfig"},{type:"Input",label:"标题",name:["meta","title"]},{type:"Input",label:"描述",name:["meta","description"]}],config:{props:{title:{type:"static",value:"Mars搭建"},size:"default",bordered:!0,extra:{text:"更多",type:"link"},meta:{title:"零代码搭建平台",description:"全栈自研、零代码搭建、逻辑编排、权限控制"}},style:{}},events:[{value:"onClick",name:"点击更多事件"}]},N_=window.React.forwardRef,$_=window.React.useImperativeHandle,j_=window.React.useState,V_=({id:r,type:e,config:t,elements:n},a)=>{const i=Et(u=>u.addChildElements),[o,l]=j_(!0),[,s]=xr({accept:"MENU_ITEM",drop(u,c){if(c.didDrop())return;const{config:f,events:h,methods:d=[]}=mr[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:r,id:u.id,config:f,events:h,methods:d})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return $_(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&A.jsx("div",{style:t.style,...t.props,"data-id":r,"data-type":e,ref:s,children:n!=null&&n.length?A.jsx(br,{elements:n||[]}):A.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},H_=N_(V_),z_={attrs:[],config:{props:{},style:{padding:"20px"},events:[],api:{},source:""},events:[]},W_=window.antd.Form,G_=window.antd.Input,q_=window.React.forwardRef,Y_=window.React.useContext,I0=window.React.useEffect,U_=window.React.useImperativeHandle,M0=window.React.useState,X_=({id:r,type:e,config:t,onChange:n,onBlur:a},i)=>{const o=Y_(pe),[l,s]=M0(!0),[u,c]=M0(!1);I0(()=>{var v;const d=(v=t.props.formItem)==null?void 0:v.name,p=t.props.defaultValue;d&&!fe(p)&&(o==null||o.setFieldValue(d,p))},[t.props.defaultValue]),I0(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]);const f=d=>{n==null||n({[t.props.formItem.name]:d})},h=d=>{a==null||a({[t.props.formItem.name]:d})};return U_(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)}})),l&&A.jsx(W_.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(G_,{...t.props.formWrap,disabled:u,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:d=>f(d.target.value),onBlur:d=>h(d.target.value)})})},K_=q_(X_),Z_=window.React.memo,Q_=window.antd.Dropdown,Na=window.antd.Form,O0=window.antd.Input,F0=window.antd.InputNumber,J_=window.antd.Switch,tB=Z_(({form:r,labelSpan:e})=>{const t=[{key:"required",label:"必填校验"},{key:"length",label:"长度校验"},{key:"phone",label:"手机号校验"},{key:"email",label:"邮箱校验"},{key:"idCard",label:"身份证号码校验"},{key:"site",label:"网址校验"},{key:"word",label:"纯字母校验"},{key:"number",label:"纯数字校验"},{key:"chinese",label:"纯中文校验"},{key:"wordAndNumber",label:"字母和数字校验"},{key:"numberMoney",label:"金额校验(无小数)"},{key:"floatMoney",label:"金额校验(两位小数)"},{key:"pattern",label:"自定义正则"}];return A.jsx(A.Fragment,{children:A.jsx(Na.List,{name:["formItem","rules"],children:(n,{add:a,remove:i})=>A.jsxs(A.Fragment,{children:[n.map(({key:o,name:l})=>A.jsx(Na.Item,{noStyle:!0,children:A.jsxs("div",{style:{position:"relative",backgroundColor:"#f5f5f5",paddingBlock:10,marginBottom:10},children:[r.getFieldValue(["formItem","rules",l,"required"])&&A.jsx(Na.Item,{labelCol:{span:e||8},wrapperCol:{span:10},name:[l,"required"],label:"必填规则",children:A.jsx(J_,{})}),r.getFieldValue(["formItem","rules",l,"min"])&&A.jsxs(A.Fragment,{children:[A.jsx(Na.Item,{labelCol:{span:e||8},wrapperCol:{span:14},name:[l,"min"],label:"最小长度",children:A.jsx(F0,{placeholder:"最小长度"})}),A.jsx(Na.Item,{labelCol:{span:e||8},wrapperCol:{span:14},name:[l,"max"],label:"最大长度",children:A.jsx(F0,{placeholder:"最大长度"})})]}),r.getFieldValue(["formItem","rules",l,"key"])&&A.jsx(Na.Item,{labelCol:{span:e||8},wrapperCol:{span:14},name:[l,"pattern"],label:"校验规则",children:A.jsx(O0,{placeholder:"eg: ^[0-9]+$"})}),A.jsx(Na.Item,{labelCol:{span:e||8},wrapperCol:{span:14},name:[l,"message"],label:"错误提示",children:A.jsx(O0,{placeholder:"错误提示",style:{width:"100%"}})}),A.jsx(SS,{onClick:()=>i(l),style:{position:"absolute",top:10,right:8,color:"red"}})]})},"rules"+o)),A.jsx(Q_,{menu:{items:t,onClick:({key:o})=>{o==="required"?a({required:!0,message:"请输入内容"},n.length):o==="length"?a({min:1,max:20,message:"最小长度为1，最大长度为20"},n.length):o==="phone"?a({key:"phone",pattern:"^1[3456789]\\d{9}$",message:"请输入正确的手机号"},n.length):o==="email"?a({key:"email",pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+$",message:"请输入正确的邮箱"},n.length):o==="idCard"?a({key:"idCard",pattern:"^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号码"},n.length):o==="site"?a({key:"site",pattern:"^https?:\\/\\/.*(\\.).*$",message:"请输入正确的网址"},n.length):o==="word"?a({key:"word",pattern:"^[a-zA-Z]+$",message:"只能输入英文单词"},n.length):o==="number"?a({key:"number",pattern:"^[0-9]+$",message:"只能输入数字"},n.length):o==="chinese"?a({key:"chinese",pattern:"^[一-龥]+$",message:"只能输入中文"},n.length):o==="wordAndNumber"?a({key:"wordAndNumber",pattern:"^[a-zA-Z0-9]+$",message:"只能输入英文和数字"},n.length):o==="numberMoney"?a({key:"numberMoney",pattern:"^(0|[1-9]\\d+)$",message:"请输入正整数"},n.length):o==="floatMoney"?a({key:"floatMoney",pattern:"^(0|[1-9]\\d+(\\.\\d{2})?)$",message:"请输入正确的金额，保留2位小数"},n.length):o==="pattern"&&a({key:"pattern",pattern:"",message:"请输入"},n.length)}},children:A.jsxs("a",{onClick:o=>o.preventDefault(),style:{display:"block",textAlign:"center"},children:[A.jsx(pr,{})," 添加规则"]})})]})})})}),je=tB,eB={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Switch",label:"隐藏域",name:["formItem","hidden"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"默认提示"}},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"],props:{placeholder:"长度限制"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"显示字数",name:["formWrap","showCount"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"输入框",name:"input"},formWrap:{placeholder:"请输入文本",allowClear:!0},defaultValue:""},style:{}},events:[{value:"onChange",name:"onChange事件"},{value:"onBlur",name:"onBlur事件"}]},rB=window.antd.Form,nB=window.antd.Input,k0=window.React.useEffect,aB=window.React.useContext,P0=window.React.useState,iB=window.React.useImperativeHandle,oB=window.React.forwardRef,lB=({id:r,type:e,config:t,onChange:n},a)=>{const i=aB(pe),[o,l]=P0(!0),[s,u]=P0(!1);k0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;f&&!fe(h)&&(i==null||i.setFieldValue(f,h))},[t.props.defaultValue]),k0(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),iB(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{n&&n({[t.props.formItem.name]:f})};return o&&A.jsx(rB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(nB.TextArea,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f=>c(f.target.value)})})},sB=oB(lB),uB={attrs:[{type:"Title",label:"标签配置"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置"},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"]},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"自动适应",name:["formWrap","autoSize"]},{type:"Switch",label:"显示字数",name:["formWrap","showCount"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"多行输入框",name:"textarea"},formWrap:{placeholder:"请输入内容",allowClear:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},cB=window.antd.Form,fB=window.antd.InputNumber,R0=window.React.useEffect,hB=window.React.useContext,L0=window.React.useState,dB=window.React.useImperativeHandle,pB=window.React.forwardRef,vB=({id:r,type:e,config:t,onChange:n},a)=>{const i=hB(pe),[o,l]=L0(!0),[s,u]=L0(!1);R0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;f&&!fe(h)&&(i==null||i.setFieldValue(f,Number(h)))},[t.props.defaultValue]),R0(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),dB(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{n==null||n({[t.props.formItem.name]:f||""})};return o&&A.jsx(cB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(fB,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c})})},gB=pB(vB),yB={attrs:[{type:"Title",label:"标签配置"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置"},{type:"Input",label:"占位提示",name:["formWrap","placeholder"]},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"]},{type:"InputNumber",label:"最小长度",name:["formWrap","minLength"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"数字框",name:"number"},formWrap:{placeholder:"请输入数字框"}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},mB=window.antd.Form,xB=window.antd.DatePicker,D0=window.React.useEffect,bB=window.React.useContext,_0=window.React.useState,wB=window.React.useImperativeHandle,SB=window.React.forwardRef,CB=({id:r,type:e,config:t,onChange:n},a)=>{const i=bB(pe),[o,l]=_0(!0),[s,u]=_0(!1);D0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;if(f&&!fe(h)){const p=tF(h);i==null||i.setFieldValue(f,p)}},[t.props.defaultValue]),D0(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),wB(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{n==null||n({[t.props.formItem.name]:f.format(t.props.formWrap.format)})};return o&&A.jsx(mB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(xB,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c})})},AB=SB(CB),EB={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Select",label:"默认值",name:["defaultValue"],props:{allowClear:!0,options:[{value:"today",label:"今天"},{value:"yestoday",label:"昨天"},{value:"last7",label:"一周前"},{value:"last30",label:"一个月前"},{value:"last90",label:"三个月前"}]}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"日期类型",name:["formWrap","picker"],props:{options:[{value:"date",label:"日期"},{value:"year",label:"年份"},{value:"quarter",label:"季度"},{value:"month",label:"月份"},{value:"week",label:"周"},{value:"time",label:"时间"}]}},{type:"Select",label:"日期格式",name:["formWrap","format"],props:{options:[{value:"YYYY-MM-DD",label:"年-月-日"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY",label:"年"},{value:"YYYY-MM",label:"年-月"},{value:"YYYY-qQ",label:"季度"},{value:"YYYY-wo",label:"周"},{value:"HH:mm:ss",label:"24时制 时:分:秒"},{value:"hh:mm:ss",label:"12时制 时:分:秒"},{value:"h:mm A",label:"时:分 上/下午"}]}},{type:"Switch",label:"快捷日期",name:["formWrap","showNow"]},{type:"Switch",label:"显示时间",name:["formWrap","showTime"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"显示清除",name:["formWrap","allowClear"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"日期",name:"datepicker"},formWrap:{placeholder:"请选择",allowClear:!0,showNow:!0,picker:"date",format:"YYYY-MM-DD"}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},TB=window.antd.Form,IB=window.antd.DatePicker,B0=window.React.useEffect,MB=window.React.useContext,N0=window.React.useState,OB=window.React.useImperativeHandle,FB=window.React.forwardRef,kB=({id:r,type:e,config:t,onChange:n},a)=>{const{RangePicker:i}=IB,o=MB(pe),[l,s]=N0(!0),[u,c]=N0(!1);B0(()=>{var p;const h=(p=t.props.formItem)==null?void 0:p.name,d=t.props.defaultValue;if(h&&!fe(d)){const v=eF(d);o==null||o.setFieldValue(h,v)}},[t.props.defaultValue]),B0(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),OB(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)}}));const f=h=>{const d={},{startField:p,endField:v,formItem:{name:g},formWrap:{format:y}}=t.props,[m,b]=(h==null?void 0:h.map(x=>x==null?void 0:x.format(y)))||[void 0,void 0];p&&v?(d[p]=m,d[v]=b,delete d[g]):d[g]=[m,b],n==null||n(d)};return l&&A.jsx(TB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(i,{...t.props.formWrap,disabled:u,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f})})},PB=FB(kB),RB={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Select",label:"默认值",name:["defaultValue"],props:{allowClear:!0,options:[{value:"today",label:"今天"},{value:"curWeek",label:"本周"},{value:"curMonth",label:"本月"},{value:"curQuarter",label:"本季度"},{value:"curYear",label:"本年"},{value:"yestoday",label:"昨天"},{value:"lastWeek",label:"最近一周"},{value:"lastMonth",label:"最近一月"},{value:"last3Month",label:"最近三月"},{value:"lastYear",label:"最近一年"}]}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"字段分解",key:"FieldExport"},{type:"Input",label:"开始字段",name:["startField"],tooltip:"实际开发中，接口需要独立的开始日期字段，并不需要数组结构",props:{placeholder:"请输入开始字段"}},{type:"Input",label:"结束字段",name:["endField"],tooltip:"实际开发中，接口需要独立的结束日期字段，并不需要数组结构",props:{placeholder:"请输入结束字段"}},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"日期类型",name:["formWrap","picker"],props:{options:[{value:"date",label:"日期"},{value:"year",label:"年份"},{value:"quarter",label:"季度"},{value:"month",label:"月份"},{value:"week",label:"周"},{value:"time",label:"时间"}]}},{type:"Select",label:"日期格式",name:["formWrap","format"],props:{options:[{value:"YYYY-MM-DD",label:"年-月-日"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY",label:"年"},{value:"YYYY-MM",label:"年-月"},{value:"YYYY-qQ",label:"季度"},{value:"YYYY-wo",label:"周"},{value:"HH:mm:ss",label:"24时制 时:分:秒"},{value:"hh:mm:ss",label:"12时制 时:分:秒"},{value:"h:mm A",label:"时:分 上/下午"}]}},{type:"Switch",label:"快捷日期",name:["formWrap","showNow"]},{type:"Switch",label:"显示时间",name:["formWrap","showTime"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"显示清除",name:["formWrap","allowClear"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"日期",name:"datepickerrange"},formWrap:{placeholder:["开始日期","结束日期"],allowClear:!0,picker:"date",format:"YYYY-MM-DD"}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},LB=window.antd.Form,DB=window.antd.Radio,_B=window.React.forwardRef,BB=window.React.useContext,kh=window.React.useEffect,NB=window.React.useImperativeHandle,Ph=window.React.useState,$B=({id:r,type:e,config:t,onChange:n},a)=>{var v;const[i,o]=Ph([]),[l,s]=Ph(!0),[u,c]=Ph(!1),f=BB(pe),h=Et(g=>g.page.variableData);kh(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!fe(y)&&(f==null||f.setFieldValue(g,y))},[t.props.defaultValue]),kh(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),kh(()=>{d({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const d=g=>{Fe(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[radio]","data数据格式错误，请检查"),o([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Xr(x)?x:"-",value:Xr(w)?w:""}}),o(m)}})};NB(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)},update:g=>{d(g)}}));const p=g=>{n==null||n({[t.props.formItem.name]:g})};return l&&A.jsx(LB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(DB.Group,{...t.props.formWrap,disabled:u,options:i,style:t.style,onChange:g=>p(g.target.value)})})},jB=_B($B),VB={attrs:[{type:"Title",label:"标签配置",key:"title"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Select",label:"按钮类型",name:["formWrap","optionType"],props:{options:[{value:"default",label:"默认"},{value:"button",label:"按钮"}]}},{type:"Select",label:"按钮样式",name:["formWrap","buttonStyle"],tooltip:"指定按钮类型为按钮后，才会生效",props:{options:[{value:"outline",label:"虚线"},{value:"solid",label:"实线"}]}},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"单选",name:"radio"},formWrap:{optionType:"default",buttonStyle:"solid"},field:{label:"label",value:"value"}},style:{},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},HB=window.antd.Form,zB=window.antd.Select,WB=window.React.forwardRef,GB=window.React.useContext,Rh=window.React.useEffect,qB=window.React.useImperativeHandle,Lh=window.React.useState,YB=({id:r,type:e,config:t,onChange:n},a)=>{var v;const i=GB(pe),[o,l]=Lh([]),[s,u]=Lh(!0),[c,f]=Lh(!1),h=Et(g=>g.page.variableData);Rh(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!fe(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),Rh(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Rh(()=>{d({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const d=g=>{Fe(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[select]","data数据格式错误，请检查"),l([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Xr(x)?x:"-",value:Xr(w)?w:""}}),l(m)}})};qB(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){f(!1)},disable(){f(!0)},update:g=>{d(g)}}));const p=g=>{n&&n({[t.props.formItem.name]:g})};return s&&A.jsx(HB.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(zB,{...t.props.formWrap,disabled:c,variant:t.props.formWrap.variant||void 0,options:o,style:t.style,onChange:g=>p(g)})})},UB=WB(YB),XB={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"可检索",name:["formWrap","showSearch"]},{type:"Select",label:"选项模式",name:["formWrap","mode"],props:{options:[{value:"",label:"单选模式"},{value:"multiple",label:"多选模式"},{value:"tags",label:"标签模式"}]}},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"]},{type:"Input",label:"默认提示",name:["formWrap","placeholder"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Switch",label:"包含Label",name:["formWrap","labelInValue"],tooltip:"提交时，会把label包装到value中"},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"下拉框",name:"select"},formWrap:{placeholder:"请选择数据",allowClear:!0,mode:""},field:{label:"label",value:"value"}},style:{minWidth:120},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},KB=window.antd.Form,ZB=window.antd.Switch,$0=window.React.useEffect,QB=window.React.useContext,j0=window.React.useState,JB=window.React.useImperativeHandle,tN=window.React.forwardRef,eN=({id:r,type:e,config:t,onChange:n},a)=>{const i=QB(pe),[o,l]=j0(!0),[s,u]=j0(!1);$0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;f&&!fe(h)&&(i==null||i.setFieldValue(f,h))},[t.props.defaultValue]),$0(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),JB(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{n&&n({[t.props.formItem.name]:f})};return o&&A.jsx(KB.Item,{...t.props.formItem,"data-id":r,"data-type":e,valuePropName:"checked",children:A.jsx(ZB,{...t.props.formWrap,disabled:s,style:t.style,onChange:c})})},rN=tN(eN),nN={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Switch",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"开启文案",name:["formWrap","checkedChildren"]},{type:"Input",label:"关闭文案",name:["formWrap","unCheckedChildren"]},{type:"Switch",label:"加载中",name:["formWrap","loading"]}],config:{props:{formItem:{label:"开关",name:"switch"},formWrap:{}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},aN=window.antd.Form,iN=window.antd.Button,oN=window.antd.Upload,lN=window.React.useEffect,ic=window.React.useState,sN=window.React.useImperativeHandle,uN=window.React.forwardRef,cN=({id:r,type:e,config:t},n)=>{const[a,i]=ic(!0),[o,l]=ic(!1);return sN(n,()=>({show(){i(!0)},hide(){i(!1)},enable(){l(!1)},disable(){l(!0)}})),a&&A.jsx(aN.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(fN,{config:t,disabled:o})})},fN=({config:r,value:e,disabled:t,onChange:n},a)=>{const[i,o]=ic([]),[l,s]=ic(!1);lN(()=>{var d,p;if(typeof e=="string")o([{name:(p=(d=e.split("/").pop())==null?void 0:d.split("."))==null?void 0:p[0],url:e,status:"done"}]);else if(Array.isArray(e))if(r.props.structure==="url"){const v=e.map(g=>({name:g.split("/").pop().split(".")[0],url:g,status:"done"}));o(v)}else o(e);else o([])},[e]);const u=d=>r.props.formWrap.accept.includes(d.type)?d.size>r.props.formWrap.limitSize*1024?(qr.error("图片超出最大限制"),!1):!0:(qr.error("不支持该文件格式，请重新选择"),!1),c=d=>{const p=(i||[]).filter(v=>v.url!==d.url);o(p),r.props.formWrap.maxCount===1?n(null):r.props.structure==="url"?n(p.map(v=>v.url)):n(p)},f=d=>{s(!0)},h=()=>{const{listType:d,maxCount:p}=r.props.formWrap,v=A.jsxs("div",{children:[l?A.jsx(WO,{}):A.jsx(pr,{}),A.jsx("div",{style:{marginTop:8},children:r.props.text})]});return["text","picture"].includes(d)?i.length>=p?null:A.jsx(iN,{icon:A.jsx(KO,{}),children:r.props.text}):i.length>=p?null:v};return A.jsx(oN,{...r.props.formWrap,disabled:t,fileList:i,style:r.style,beforeUpload:u,onRemove:c,customRequest:f,children:h()})},hN=uN(cN),dN={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"上传配置",key:"title2"},{type:"Select",label:"文件类型",name:["formWrap","accept"],props:{mode:"multiple",options:[{value:"image/jpeg",label:"image/jpeg"},{value:"image/png",label:"image/png"},{value:"image/gif",label:"image/gif"},{value:"video/mp4",label:"video/mp4"},{value:"text/csv",label:"text/csv"},{value:"text/html",label:"text/html"},{value:"application/zip",label:"application/zip"},{value:"application/pdf",label:"application/pdf"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}]}},{type:"InputNumber",label:"文件大小",name:["formWrap","limitSize"],props:{placeholder:"单位：K"}},{type:"Select",label:"列表类型",name:["formWrap","listType"],props:{options:[{value:"text",label:"text"},{value:"picture",label:"picture"},{value:"picture-card",label:"picture-card"},{value:"picture-circle",label:"picture-circle"}]}},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"InputNumber",label:"最大个数",name:["formWrap","maxCount"]},{type:"Switch",label:"上传列表",name:["formWrap","showUploadList"]},{type:"Input",label:"显示文本",name:["text"]},{type:"Select",label:"上传结构",name:"structure",props:{options:[{value:"url",label:"文件地址"},{value:"object",label:"文件对象"}]}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"上传",name:"upload"},formWrap:{accept:["image/jpeg","image/png"],listType:"picture-card",maxCount:1,limitSize:1024,showUploadList:!0},text:"Upload",structure:"url"},style:{},events:[],api:{},source:[]},events:[{value:"handleClick",name:"上传事件"}]},pN=window.antd.Form,vN=window.antd.Image,gN=window.React.forwardRef,yN=window.React.useContext,mN=window.React.useEffect,xN=window.React.useImperativeHandle,bN=window.React.useState,V0=window.dayjs,wN=({id:r,type:e,config:t},n)=>{const a=yN(pe),[i,o]=bN(!0);return mN(()=>{var u;const l=(u=t.props.formItem)==null?void 0:u.name,s=t.props.defaultValue;l&&!fe(s)&&(a==null||a.setFieldValue(l,s))},[t.props.defaultValue]),xN(n,()=>({show(){o(!0)},hide(){o(!1)}})),i&&A.jsx(pN.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(SN,{...t.props.formWrap,name:t.props.formItem.name,style:t.style})})},SN=r=>{const e=r.value||"";let t=e;if(fe(e))return A.jsx("span",{style:r.style,children:`\${${r.name}}`});if(r.showType==="text"&&(r.dateType&&(t=V0(e).format(r.dateType)),r.numberType&&(t=pn(e,r.numberType)),e!=null&&e.format&&(t=V0(e).format())),r.script)try{t=new Function("value",`return (${r.script})(value);`)(t)}catch(n){console.error("脚本解析失败",n),qr.error(JSON.stringify(n))}if(t=t==null?void 0:t.toString(),r.showType==="text")return A.jsx("span",{style:r.style,children:t});if(r.showType==="href")return A.jsx("a",{href:t,target:"_blank",style:r.style,children:t});if(r.showType==="image")return A.jsx(vN,{src:t,style:r.style})},CN=gN(wN),Ri=window.antd.Form,Ae=window.antd.Select,AN=window.React.useState,EN=()=>{const[r,e]=AN("text"),t=n=>{e(n)};return A.jsxs(A.Fragment,{children:[A.jsx(Ri.Item,{label:"空值展示",name:["formWrap","emptyType"],children:A.jsxs(Ae,{children:[A.jsx(Ae.Option,{value:"",children:"默认不显示"}),A.jsx(Ae.Option,{value:"-",children:"-"}),A.jsx(Ae.Option,{value:"/",children:"/"}),A.jsx(Ae.Option,{value:"0",children:"0"})]})}),A.jsx(Ri.Item,{label:"展示类型",name:["formWrap","showType"],children:A.jsxs(Ae,{onChange:t,children:[A.jsx(Ae.Option,{value:"text",children:"文本"}),A.jsx(Ae.Option,{value:"href",children:"链接"}),A.jsx(Ae.Option,{value:"image",children:"图片"})]})}),r==="text"&&A.jsxs(A.Fragment,{children:[A.jsx(Ri.Item,{label:"日期格式",name:["formWrap","dateType"],children:A.jsxs(Ae,{children:[A.jsx(Ae.Option,{value:"",children:"无"}),A.jsx(Ae.Option,{value:"YYYY-MM-DD HH:mm:ss",children:"年-月-日 时:分:秒"}),A.jsx(Ae.Option,{value:"YYYY-MM-DD",children:"年-月-日"}),A.jsx(Ae.Option,{value:"HH:mm:ss",children:"时:分:秒"})]})}),A.jsx(Ri.Item,{label:"数字格式",name:["formWrap","numberType"],children:A.jsxs(Ae,{children:[A.jsx(Ae.Option,{value:"",children:"无"}),A.jsx(Ae.Option,{value:"currency",children:"金额千分位"}),A.jsx(Ae.Option,{value:"decimal",children:"数字千分位"}),A.jsx(Ae.Option,{value:"percent",children:"百分比"})]})})]}),A.jsx(Ri.Item,{label:"自定义",tooltip:"通过编程的方式，实现自定义渲染。"}),A.jsx(Ri.Item,{name:["formWrap","script"],noStyle:!0,children:A.jsx(Rl,{})})]})},TN=EN,IN={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"静态项配置",key:"formWrap"},{type:"function",render:r=>(r.setFieldValue(["formWrap","script"],`function render(value){
    return value;
}`),A.jsx(TN,{},"StaticSetting"))}],config:{props:{formItem:{label:"展示文本",name:"label"},formWrap:{emptyType:"-",showType:"text",dateType:"",numberType:"",script:""},defaultValue:""},style:{height:"100px"}},events:[],methods:[{name:"update",title:"更新数据"}]},MN=window.antd.Form,ON=window.React.forwardRef,FN=window.React.useContext,kN=window.React.useEffect,PN=window.React.useImperativeHandle,RN=window.React.useState,LN=({id:r,type:e,config:t,elements:n},a)=>{const i=Et(f=>f.addChildElements),o=FN(pe),[l,s]=RN(!0);kN(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;f&&!fe(h)&&(o==null||o.setFieldValue(f,h))},[t.props.defaultValue]);const[,u]=xr({accept:"MENU_ITEM",drop(f,h){if(h.didDrop())return;const{config:d,events:p,methods:v=[]}=mr[f.type+"Config"]||{};i({type:f.type,name:f.name,parentId:r,id:f.id,config:d,events:p,methods:v})},collect:f=>({isOver:f.isOver(),canDrop:f.canDrop()})});PN(a,()=>({show(){s(!0)},hide(){s(!1)}}));const c=t.props.formItem;return l&&A.jsx(MN.Item,{...c,name:c.name||void 0,"data-id":r,"data-type":e,children:A.jsx("span",{ref:u,style:t.style,children:n!=null&&n.length?A.jsx(br,{elements:n||[]}):A.jsx("div",{className:"slots",style:{height:80,lineHeight:"80px"},children:"拖拽组件到这里"})})})},DN=ON(LN),_N={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}}],config:{props:{formItem:{label:"表单项"},formWrap:{},defaultValue:""},style:{}},events:[]},BN=window.antd.Form,NN=window.antd.Checkbox,$N=window.React.forwardRef,jN=window.React.useContext,Dh=window.React.useEffect,VN=window.React.useImperativeHandle,_h=window.React.useState,HN=({id:r,type:e,config:t,onChange:n},a)=>{var v;const[i,o]=_h([]),[l,s]=_h(!0),[u,c]=_h(!1),f=jN(pe),h=Et(g=>g.page.variableData);Dh(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue||[];g&&!fe(y)&&(f==null||f.setFieldValue(g,y))},[t.props.defaultValue]),Dh(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Dh(()=>{d({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const d=g=>{Fe(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[checkbox]","data数据格式错误，请检查"),o([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Xr(x)?x:"-",value:Xr(w)?w:""}}),o(m)}})};VN(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)},update:g=>{d(g)}}));const p=g=>{n==null||n({[t.props.formItem.name]:g})};return l&&A.jsx(BN.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(NN.Group,{...t.props.formWrap,disabled:u,options:i,style:t.style,onChange:g=>p(g)})})},zN=$N(HN),WN={attrs:[{type:"Title",label:"标签配置",key:"title"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],tooltip:"多选以逗号分隔，如：1,2"},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"多选",name:"checkbox"},formWrap:{},field:{label:"label",value:"value"}},style:{},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},GN=window.antd.Form,qN=window.antd.TimePicker,H0=window.React.useEffect,YN=window.React.useContext,z0=window.React.useState,UN=window.React.useImperativeHandle,XN=window.React.forwardRef,KN=window.dayjs,ZN=({id:r,type:e,config:t,onChange:n},a)=>{const i=YN(pe),[o,l]=z0(!0),[s,u]=z0(t.props.formWrap.disabled);H0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;if(f&&!fe(h)){const p=KN(h,"HH:mm:ss");p.isValid()&&(i==null||i.setFieldValue(f,p))}},[t.props.defaultValue]),H0(()=>{u(t.props.formWrap.disabled)},[t.props.formWrap.disabled]),UN(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{n==null||n({[t.props.formItem.name]:f.format(t.props.formWrap.format||"HH:mm:ss")})};return o&&A.jsx(GN.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(qN,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c})})},QN=XN(ZN),JN={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"eg: 15:36:00"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"展示格式",name:["formWrap","format"],props:{options:[{value:"HH:mm:ss",label:"时:分:秒"},{value:"HH:mm",label:"时:分"},{value:"HHmmss",label:"时分秒"},{value:"HHmm",label:"时分"},{value:"HH",label:"时"},{value:"mm",label:"分"},{value:"ss",label:"秒"}]}},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"输入默认提示"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"滚动值",tooltip:"在滚动时改变选择值",name:["formWrap","changeOnScroll"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"只读模式",name:["formWrap","inputReadOnly"]},{type:"InputNumber",label:"小时步长",name:["formWrap","hourStep"],tooltip:"小时选项间隔"},{type:"InputNumber",label:"分钟步长",name:["formWrap","minuteStep"],tooltip:"分钟选项间隔"},{type:"InputNumber",label:"秒步长",name:["formWrap","secondStep"],tooltip:"秒选项间隔"},{type:"Switch",label:"显示确认",name:["formWrap","needConfirm"],tooltip:"是否需要确认按钮，为 false 时失去焦点即代表选择"},{type:"Switch",label:"显示此刻",name:["formWrap","showNow"],tooltip:"面板是否显示“此刻”按钮"},{type:"Switch",label:"12时制",name:["formWrap","use12Hours"],tooltip:"使用 12 小时制，为 true 时 format 默认为 h:mm:ss a"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"时间",name:"timepicker"},formWrap:{placeholder:"请选择",allowClear:!0,format:"HH:mm:ss",changeOnScroll:!1,hourStep:1,minuteStep:1,secondStep:1,showNow:!0,use12Hours:!1,needConfirm:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},t$=window.antd.Form,e$=window.antd.TimePicker,W0=window.React.useEffect,r$=window.React.useContext,G0=window.React.useState,n$=window.React.useImperativeHandle,a$=window.React.forwardRef,i$=window.dayjs,o$=({id:r,type:e,config:t,onChange:n},a)=>{const i=r$(pe),[o,l]=G0(!0),[s,u]=G0(t.props.formWrap.disabled);W0(()=>{var d;const f=(d=t.props.formItem)==null?void 0:d.name,h=t.props.defaultValue;if(f&&!fe(h)){const p=t.props.formWrap.format||"HH:mm:ss",v=h.split(",").map(g=>i$(g,p));i==null||i.setFieldValue(f,v)}},[t.props.defaultValue]),W0(()=>{u(t.props.formWrap.disabled)},[t.props.formWrap.disabled]),n$(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const c=f=>{const h={},{startField:d,endField:p,formItem:{name:v},formWrap:{format:g}}=t.props,[y,m]=f.map(b=>b==null?void 0:b.format(g));d&&p?(h[d]=y,h[p]=m,delete h[v]):h[v]=[y,m],n==null||n(h)};return o&&A.jsx(t$.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(e$.RangePicker,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c})})},l$=a$(o$),s$={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],tooltip:"多个值以逗号分隔",props:{placeholder:"eg: 10:36:00,12:20:00"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"字段分解",key:"FieldExport"},{type:"Input",label:"开始字段",name:["startField"],tooltip:"实际开发中，接口需要独立的开始时间字段，并不需要数组结构",props:{placeholder:"请输入开始字段"}},{type:"Input",label:"结束字段",name:["endField"],tooltip:"实际开发中，接口需要独立的结束时间字段，并不需要数组结构",props:{placeholder:"请输入结束字段"}},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"展示格式",name:["formWrap","format"],props:{options:[{value:"HH:mm:ss",label:"时:分:秒"},{value:"HH:mm",label:"时:分"},{value:"HHmmss",label:"时分秒"},{value:"HHmm",label:"时分"},{value:"HH",label:"时"},{value:"mm",label:"分"},{value:"ss",label:"秒"}]}},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"输入默认提示"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"滚动值",tooltip:"在滚动时改变选择值",name:["formWrap","changeOnScroll"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"只读模式",name:["formWrap","inputReadOnly"]},{type:"InputNumber",label:"小时步长",name:["formWrap","hourStep"],tooltip:"小时选项间隔"},{type:"InputNumber",label:"分钟步长",name:["formWrap","minuteStep"],tooltip:"分钟选项间隔"},{type:"InputNumber",label:"秒步长",name:["formWrap","secondStep"],tooltip:"秒选项间隔"},{type:"Switch",label:"显示确认",name:["formWrap","needConfirm"],tooltip:"是否需要确认按钮，为 false 时失去焦点即代表选择"},{type:"Switch",label:"显示此刻",name:["formWrap","showNow"],tooltip:"面板是否显示“此刻”按钮"},{type:"Switch",label:"12时制",name:["formWrap","use12Hours"],tooltip:"使用 12 小时制，为 true 时 format 默认为 h:mm:ss a"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"时间",name:"timepickerrange"},formWrap:{placeholder:"请选择",allowClear:!0,format:"HH:mm:ss",changeOnScroll:!1,hourStep:1,minuteStep:1,secondStep:1,showNow:!0,use12Hours:!1,needConfirm:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},u$=window.antd.Form,c$=window.antd.Segmented,f$=window.React.forwardRef,h$=window.React.useContext,Bh=window.React.useEffect,d$=window.React.useImperativeHandle,Nh=window.React.useState,p$=({id:r,type:e,config:t,onChange:n},a)=>{var v,g,y;const[i,o]=Nh([]),[l,s]=Nh(!0),[u,c]=Nh(!1),f=h$(pe),h=Et(m=>m.page.variableData);Bh(()=>{var x;const m=(x=t.props.formItem)==null?void 0:x.name,b=t.props.defaultValue;m&&!fe(b)&&(f==null||f.setFieldValue(m,b))},[t.props.defaultValue]),Bh(()=>{var m;c(((m=t.props.formWrap)==null?void 0:m.disabled)||!1)},[(v=t.props.formWrap)==null?void 0:v.disabled]),Bh(()=>{d({})},[t.api,((g=t.api)==null?void 0:g.sourceType)=="variable"?h:""]);const d=m=>{Fe(t.api,m).then(b=>{(b==null?void 0:b.ret)===0&&(Array.isArray(b.data)?o(b.data):(console.error("[segmentd]","data数据格式错误，请检查"),o([])))})};d$(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)},update:m=>{d(m)}}));const p=m=>{n&&n({[t.props.formItem.name]:m})};return l&&A.jsx(u$.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(c$,{disabled:u,block:(y=t.props.formWrap)==null?void 0:y.block,options:i,style:t.style,onChange:p})})},v$=f$(p$),g$={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"自适应",name:["formWrap","block"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"分段控制器",name:"segmented"},defaultValue:"每周",formWrap:{}},style:{},api:{sourceType:"json",source:["每天","每周","每月","每年"]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},y$=window.antd.Form,m$=window.antd.Cascader,x$=window.React.forwardRef,b$=window.React.useContext,$h=window.React.useEffect,w$=window.React.useImperativeHandle,jh=window.React.useState,S$=({id:r,type:e,config:t,onChange:n},a)=>{var v;const i=b$(pe),[o,l]=jh([]),[s,u]=jh(!0),[c,f]=jh(!1),h=Et(g=>g.page.variableData);$h(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!fe(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),$h(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),$h(()=>{d({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const d=g=>{Fe(t.api,g).then(y=>{(y==null?void 0:y.ret)===0&&(Array.isArray(y.data)?l(y.data):(console.error("[select]","data数据格式错误，请检查"),l([])))})};w$(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){f(!1)},disable(){f(!0)},update:g=>{d(g)}}));const p=g=>{n&&n({[t.props.formItem.name]:g})};return s&&A.jsx(y$.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(m$,{...t.props.formWrap,disabled:c,variant:t.props.formWrap.variant||void 0,options:o,style:{...t.style},onChange:g=>p(g)})})},C$=x$(S$),Vh=window.antd.Cascader,A$={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持多选",name:["formWrap","multiple"]},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"默认提示",name:["formWrap","placeholder"]},{type:"Select",label:"回填方式",name:["formWrap","showCheckedStrategy"],tooltip:"只有多选模式下生效",props:{options:[{value:Vh.SHOW_CHILD,label:"只显示子节点"},{value:Vh.SHOW_PARENT,label:"只显示父节点"}]}},{type:"Select",label:"预设位置",name:["formWrap","placement"],props:{options:[{value:"bottomLeft",label:"bottomLeft"},{value:"bottomRight",label:"bottomRight"},{value:"topLeft",label:"topLeft"},{value:"topRight",label:"topRight"}]}},{type:"Switch",label:"显示搜索",name:["formWrap","showSearch"]},{type:"Select",label:"展开方式",name:["formWrap","expandTrigger"],tooltip:"子菜单的展开方式",props:{options:[{value:"click",label:"点击展开"},{value:"hover",label:"悬浮展开"}]}},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"],tooltip:"最多显示几个Tag，超出会折叠",props:{placeholder:"输入数字"}},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["formWrap","fieldNames","label"]},{type:"Input",label:"value",name:["formWrap","fieldNames","value"]},{type:"Input",label:"children",name:["formWrap","fieldNames","children"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"级联选择",name:"cascader"},formWrap:{placeholder:"请选择",allowClear:!0,showCheckedStrategy:Vh.SHOW_PARENT,showSearch:!1,placement:"bottomLeft",fieldNames:{label:"label",value:"value",children:"children"}}},style:{},api:{sourceType:"json",source:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing",children:[{value:"zhonghuamen",label:"Zhong Hua Men"}]}]}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},E$=window.antd.Form,T$=window.antd.Slider,I$=window.React.forwardRef,M$=window.React.useContext,q0=window.React.useEffect,O$=window.React.useImperativeHandle,Y0=window.React.useState,F$=({id:r,type:e,config:t,onChange:n,onBlur:a},i)=>{const o=M$(pe),[l,s]=Y0(!0),[u,c]=Y0(!1);q0(()=>{var p;const h=(p=t.props.formItem)==null?void 0:p.name,d=t.props.defaultValue;h&&!fe(d)&&(o==null||o.setFieldValue(h,d))},[t.props.defaultValue]),q0(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]);const f=h=>{n==null||n({[t.props.formItem.name]:h})};return O$(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)}})),l&&A.jsx(E$.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(T$,{...t.props.formWrap,disabled:u,style:t.style,onChange:h=>f(h)})})},k$=I$(F$),P$={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"InputNumber",label:"最小值",name:["formWrap","min"]},{type:"InputNumber",label:"最大值",name:["formWrap","max"]},{type:"InputNumber",label:"步长",name:["formWrap","step"]},{type:"Switch",label:"双滑块",name:["formWrap","range"]},{type:"Switch",label:"反向坐标",name:["formWrap","reverse"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"方向",name:["formWrap","vertical"],tooltip:"默认水平方向"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{defaultValue:5,formItem:{label:"滑动条",name:"slider"},formWrap:{min:0,max:10,step:1,range:!1,reverse:!1,vertical:!1}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},R$=window.antd.Form,L$=window.antd.TreeSelect,D$=window.React.forwardRef,_$=window.React.useContext,Hh=window.React.useEffect,B$=window.React.useImperativeHandle,zh=window.React.useState,N$=({id:r,type:e,config:t,onChange:n},a)=>{var v;const i=_$(pe),[o,l]=zh([]),[s,u]=zh(!0),[c,f]=zh(!1),h=Et(g=>g.page.variableData);Hh(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!fe(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),Hh(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Hh(()=>{d({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const d=g=>{Fe(t.api,g).then(y=>{(y==null?void 0:y.ret)===0&&(Array.isArray(y.data)?l(y.data):(console.error("[TreeSelect]","data数据格式错误，请检查"),l([])))})};B$(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){f(!1)},disable(){f(!0)},update:g=>{d(g)}}));const p=g=>{n&&n({[t.props.formItem.name]:g})};return s&&A.jsx(R$.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(L$,{...t.props.formWrap,disabled:c,variant:t.props.formWrap.variant||void 0,treeData:o,style:t.style,onChange:g=>p(g)})})},$$=D$(N$),Wh=window.antd.TreeSelect,j$={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Switch",label:"labelInValue",name:["formWrap","labelInValue"]},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"]},{type:"Switch",label:"支持多选",name:["formWrap","multiple"]},{type:"Switch",label:"默认提示",name:["formWrap","placeholder"]},{type:"Select",label:"弹出位置",name:["formWrap","placement"],props:{options:[{value:"bottomLeft",label:"bottomLeft"},{value:"bottomRight",label:"bottomRight"},{value:"topLeft",label:"topLeft"},{value:"topRight",label:"topRight"}]}},{type:"Select",label:"节点回填",name:["formWrap","showCheckedStrategy"],tooltip:"节点为复选框时生效。",props:{options:[{value:Wh.SHOW_ALL,label:"显示所有"},{value:Wh.SHOW_PARENT,label:"显示父节点"},{value:Wh.SHOW_CHILD,label:"显示子节点"}]}},{type:"Switch",label:"支持搜索",name:["formWrap","showSearch"]},{type:"Switch",label:"显示复选框",name:["formWrap","treeCheckable"]},{type:"Switch",label:"父子联动",name:["formWrap","treeCheckStrictly"]},{type:"Switch",label:"简单格式",name:["formWrap","treeDataSimpleMode"],tooltip:'简单格式的 treeData，[{id:1, pId:0, value:1,title:"test"]'},{type:"Switch",label:"展开所有",name:["formWrap","treeDefaultExpandAll"]},{type:"Switch",label:"展示线条",name:["formWrap","treeLine"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["formWrap","fieldNames","label"]},{type:"Input",label:"value",name:["formWrap","fieldNames","value"]},{type:"Input",label:"value",name:["formWrap","fieldNames","children"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"树选择",name:"treeSelect"},formWrap:{allowClear:!0,fieldNames:{label:"title",value:"value",children:"children"},labelInValue:!1,multiple:!1,placement:"bottomLeft"}},style:{minWidth:120},api:{sourceType:"json",source:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:A.jsx("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},V$=window.React.forwardRef,H$=window.React.useContext,z$=window.React.useEffect,W$=window.React.useImperativeHandle,G$=window.React.useState,U0=window.antd.Form,X0=window.antd.Space,q$=window.antd.Button,Y$=({id:r,type:e,config:t,elements:n},a)=>{const[i,o]=G$(!0),l=H$(pe);return z$(()=>{l==null||l.setFieldValue(t.props.formItem.name,[{}])},[]),W$(a,()=>({show(){o(!0)},hide(){o(!1)}})),i&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(U0.List,{...t.props.formItem,children:(s,{add:u,remove:c})=>A.jsxs(A.Fragment,{children:[s.map(({key:f,name:h,...d})=>A.jsxs(X0,{style:{display:"flex",width:"100%",marginBottom:8,padding:"0 10px"},align:"baseline",children:[A.jsx(X0,{align:"baseline",direction:t.props.formItem.direction,children:n!=null&&n.length?n==null?void 0:n.map(p=>A.jsx(rg,{item:{...p,name:h}},p.id)):A.jsx("div",{className:"slots",style:{width:300,height:100,lineHeight:"100px"},children:"拖拽组件到这里"})},f),A.jsx(pr,{onClick:()=>u({title:"-",dataIndex:h+1},h+1)}),A.jsx(Si,{onClick:()=>c(h)})]},f)),A.jsx(U0.Item,{children:A.jsx(q$,{type:"dashed",onClick:()=>u(),block:!0,icon:A.jsx(pr,{}),children:"新增一条"})})]})})})},U$=V$(Y$),X$={attrs:[{type:"Title",label:"表单配置",key:"formWrap"},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}}],config:{props:{formItem:{name:"formList",direction:"horizontal"}},style:{}},events:[]},K$=window.React.forwardRef,Z$=window.React.useContext,Q$=window.React.useEffect,J$=window.React.useImperativeHandle,K0=window.React.useMemo,mC=window.React.useState,t5=window.React.memo,e5=window.antd.Table,ji=window.antd.Form,r5=window.antd.Input,n5=window.antd.InputNumber,a5=window.antd.Select,i5=window.antd.DatePicker,o5=window.antd.Switch,l5=window.antd.Space,s5=window.antd.Button,u5=window.dayjs;function c5({id:r,type:e,config:t},n){const[a,i]=mC(!0),o=Z$(pe);return J$(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx(ji.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(f5,{config:t,form:o})})}function f5({config:r,form:e}){var u,c,f,h,d;const[t,n]=mC([]),a=Et(p=>p.updateToolbar),i=K0(()=>{var v;const p={key:Wa("key")};return(v=r.props.formWrap)==null||v.columns.map(g=>{Xr(g.defaultValue)&&(g.type==="date"?typeof g.defaultValue=="string"?p[g.dataIndex]=u5(g.defaultValue):p[g.dataIndex]=g.defaultValue:g.type==="select"?g.dataSource==="static"?p[g.dataIndex]=g.dataType==="text"?g.defaultValue:Number(g.defaultValue):p[g.dataIndex]=fi(g.options.value):p[g.dataIndex]=g.defaultValue)}),p},[(u=r.props.formWrap)==null?void 0:u.columns]);Q$(()=>{const p=e==null?void 0:e.getFieldValue(r.props.formItem.name);if(p)p.length!==t.length&&n(()=>[...p.map(v=>({...i,key:v.id||Wa("key")}))]);else{const v={...i,key:Wa("key")};e==null||e.setFieldValue(r.props.formItem.name,[v]),n(()=>[v])}},[e==null?void 0:e.getFieldValue((c=r.props.formItem)==null?void 0:c.name)]);const o=p=>{var g;if(!r.props.formItem.name)return qr.error("请配置name字段");const v=((g=e==null?void 0:e.getFieldsValue())==null?void 0:g[r.props.formItem.name])||[];v.splice(p+1,0,{...i,key:Wa("key")}),e==null||e.setFieldValue(r.props.formItem.name,[...v]),n(()=>[...v.map(y=>({...y,key:y.key||y.id||Wa("key")}))]),a()},l=p=>{var g;const v=((g=e==null?void 0:e.getFieldsValue())==null?void 0:g[r.props.formItem.name])||[];v.splice(p,1),e==null||e.setFieldValue(r.props.formItem.name,[...v]),n(()=>[...v]),a()},s=K0(()=>{var p;return{...r.props.formWrap,rowKey:"key",columns:(p=r.props.formWrap)==null?void 0:p.columns.map((v,g)=>{var m,b;const y=[];return(b=(m=v.formItem)==null?void 0:m.rules)==null||b.map(x=>{const w={...x};x.pattern&&(w.pattern=new RegExp(x.pattern)),y.push(w)}),{...v,key:v.dataIndex||g,render(x,w,S){if(v.type==="label")return x;if(v.type==="text")return A.jsx(ji.Item,{style:{margin:0},name:[r.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:A.jsx(r5,{placeholder:v.placeholder,style:{width:"100%"}})});if(v.type==="number")return A.jsx(ji.Item,{style:{margin:0},name:[r.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:A.jsx(n5,{placeholder:v.placeholder,style:{width:"100%"}})});if(v.type==="select"){let C=[];return v.dataSource==="dynamic"?(C=fi(v.options.value)||[],Array.isArray(C)&&v.field.label&&v.field.value&&(C=C.map(T=>({label:T[v.field.label],value:T[v.field.value]})))):C=v.options||[],A.jsx(ji.Item,{style:{margin:0},name:[r.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:A.jsx(a5,{placeholder:v.placeholder,options:C||[],mode:v.mode,style:{width:"100%"}})})}if(v.type==="date")return A.jsx(ji.Item,{style:{margin:0},name:[r.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:A.jsx(i5,{placeholder:v.placeholder,format:v.format,style:{width:"100%"}})});if(v.type==="switch")return A.jsx(ji.Item,{style:{margin:0},name:[r.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:A.jsx(o5,{})})}}}).concat([{title:"操作",key:"action",align:"center",render(v,g,y){return A.jsxs(l5,{children:[A.jsx("a",{onClick:()=>o(y),children:"添加"}),A.jsx("a",{onClick:()=>l(y),children:"删除"})]})}}]),dataSource:t}},[t,(f=r.props.formWrap)==null?void 0:f.columns]);return A.jsxs(A.Fragment,{children:[A.jsx(e5,{...s,pagination:!1,scroll:{x:(h=s.scroll)==null?void 0:h.x,y:(d=s.scroll)==null?void 0:d.y}}),A.jsx(s5,{type:"dashed",block:!0,icon:A.jsx(pr,{}),style:{marginTop:10},onClick:()=>o(t.length),children:"增加一行"})]})}const h5=t5(K$(c5)),Yn=window.antd.Input,d5=window.antd.Modal,ae=window.antd.Form,Li=window.antd.Col,Gh=window.antd.Row,In=window.antd.Select,Z0=window.antd.Switch,p5=window.antd.Button,Q0=window.antd.Card,J0=window.antd.InputNumber,qe=window.antd.Radio,v5=window.antd.Space,g5=window.antd.DatePicker,y5=window.React.useImperativeHandle,tx=window.React.useState,m5=window.React.memo,x5=window.dayjs,b5=m5(r=>{const[e,t]=tx(!1),[n,a]=tx(0),[i]=ae.useForm(),{selectedElement:o,elementsMap:l,editTableProps:s}=Et(f=>({selectedElement:f.selectedElement,elementsMap:f.page.elementsMap,editTableProps:f.editTableProps}));y5(r.columnRef,()=>({open(f){const h=l[o==null?void 0:o.id],{defaultValue:d,...p}=h.config.props.formWrap.columns[f];i.resetFields(),i.setFieldsValue({align:"center",fixed:"",type:"text",mode:"",dataSource:"static",dataType:"number",defaultValue:d,...p}),p.type==="date"&&d&&i.setFieldsValue({defaultValue:typeof d=="string"?x5(d):d}),a(f),t(!0)}}));const u=()=>{i.validateFields().then(()=>{const f=i.getFieldsValue();f.dataType==="number"&&Array.isArray(f.options)&&f.options.map(h=>{h.value=isNaN(h.value)?h.value:Number(h.value)}),s({id:o==null?void 0:o.id,type:"formTable",index:n,props:{...f,key:f.dataIndex||n}}),r.update(f,n),t(!1)})},c=()=>{t(!1)};return A.jsx(d5,{title:"列设置",open:e,onOk:u,onCancel:c,width:800,children:A.jsxs(ae,{form:i,labelCol:{span:8},wrapperCol:{span:16},children:[A.jsxs(Q0,{title:"基础配置",size:"small",children:[A.jsxs(Gh,{children:[A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入列名"}],children:A.jsx(Yn,{})})}),A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"字段",name:"dataIndex",rules:[{required:!0,message:"请输入字段名称"}],children:A.jsx(Yn,{})})})]}),A.jsxs(Gh,{children:[A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"宽度",name:"width",children:A.jsx(J0,{placeholder:"eg: 100"})})}),A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"对齐",name:"align",children:A.jsxs(qe.Group,{buttonStyle:"solid",children:[A.jsx(qe.Button,{value:"left",children:"居左"}),A.jsx(qe.Button,{value:"center",children:"居中"}),A.jsx(qe.Button,{value:"right",children:"居右"})]})})})]}),A.jsxs(Gh,{children:[A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"固定",name:"fixed",children:A.jsxs(qe.Group,{buttonStyle:"solid",children:[A.jsx(qe.Button,{value:"",children:"默认"}),A.jsx(qe.Button,{value:"left",children:"居左"}),A.jsx(qe.Button,{value:"right",children:"居右"})]})})}),A.jsx(Li,{span:12,children:A.jsx(ae.Item,{label:"列类型",name:"type",children:A.jsxs(In,{children:[A.jsx(In.Option,{value:"label",children:"静态文本"}),A.jsx(In.Option,{value:"text",children:"文本输入框"}),A.jsx(In.Option,{value:"number",children:"数字输入框"}),A.jsx(In.Option,{value:"date",children:"日期选择框"}),A.jsx(In.Option,{value:"select",children:"下拉选择框"}),A.jsx(In.Option,{value:"switch",children:"开关选择"})]})})})]})]}),A.jsx(ae.Item,{noStyle:!0,shouldUpdate:!0,children:f=>{const h=f.getFieldValue("type");return h!=="label"&&A.jsxs(Q0,{title:"表单配置",style:{marginTop:20},size:"small",children:[A.jsxs(ae.Item,{label:"默认值",name:"defaultValue",labelCol:{span:4},children:[(h==="text"||h==="select")&&A.jsx(Yn,{placeholder:"请输入默认值"}),h==="number"&&A.jsx(J0,{placeholder:"请输入默认值",style:{width:"100%"}}),h==="date"&&A.jsx(g5,{placeholder:"请选择日期",format:"YYYY-MM-DD"}),h==="switch"&&A.jsx(Z0,{})]}),h!=="switch"&&A.jsx(ae.Item,{label:"提示信息",name:"placeholder",labelCol:{span:4},children:A.jsx(Yn,{placeholder:"请输入提示信息"})}),h==="select"?A.jsxs(A.Fragment,{children:[A.jsx(ae.Item,{label:"包含Label",name:["labelInValue"],labelCol:{span:4},tooltip:"提交时，选中的值包含Label和value",children:A.jsx(Z0,{})}),A.jsx(ae.Item,{label:"选项模式",name:"mode",labelCol:{span:4},children:A.jsxs(qe.Group,{buttonStyle:"solid",children:[A.jsx(qe.Button,{value:"",children:"单选"}),A.jsx(qe.Button,{value:"multiple",children:"多选"}),A.jsx(qe.Button,{value:"tags",children:"标签"})]})}),A.jsx(ae.Item,{label:"数据源类型",name:"dataSource",labelCol:{span:4},tooltip:"下拉框的数据来源，静态数据需要手动添加，动态数据可以选择绑定变量。",children:A.jsxs(qe.Group,{buttonStyle:"solid",children:[A.jsx(qe.Button,{value:"static",children:"静态数据"}),A.jsx(qe.Button,{value:"dynamic",children:"动态数据"})]})}),A.jsx(ae.Item,{name:["dataType"],label:"数据类型",labelCol:{span:4},tooltip:"下拉选项值(value)对应的类型，当前可选：文本和数字",children:A.jsx(In,{placeholder:"请选择数据类型",options:[{label:"数字",value:"number"},{label:"文本",value:"text"}]})}),A.jsx(ae.Item,{noStyle:!0,shouldUpdate:!0,children:d=>d.getFieldValue("dataSource")==="static"?A.jsx(ae.Item,{label:"选项",labelCol:{span:4},children:A.jsx(ae.List,{name:["options"],children:(v,{add:g,remove:y})=>A.jsxs(A.Fragment,{children:[v.map(({key:m,name:b,...x})=>A.jsxs(v5,{style:{display:"flex"},align:"baseline",children:[A.jsx(ae.Item,{...x,wrapperCol:{span:22},name:[b,"label"],children:A.jsx(Yn,{placeholder:"请输入显示的文本"})}),A.jsx(ae.Item,{...x,wrapperCol:{span:22},name:[b,"value"],shouldUpdate:!0,children:A.jsx(Yn,{placeholder:"请输入对应的值"})}),A.jsx(pr,{onClick:()=>g({label:"",value:""},b+1)}),A.jsx(Si,{onClick:()=>y(b)})]},m)),A.jsx(p5,{block:!0,type:"primary",onClick:()=>g({label:"",value:""}),children:"增加一行"})]})})}):A.jsxs(A.Fragment,{children:[A.jsx(ae.Item,{name:["options"],label:"选项",labelCol:{span:4},children:A.jsx(Zu,{readOnly:!0,placeholder:"请选择一个动态变量"})}),A.jsx(ae.Item,{label:"字段映射(label)",name:["field","label"],labelCol:{span:4},extra:"变量返回的数据可能不是[{label:'',value:''}]结构，因此需要做映射。",children:A.jsx(Yn,{placeholder:"请输入变量中对应的label字段"})}),A.jsx(ae.Item,{label:"字段映射(value)",name:["field","value"],labelCol:{span:4},children:A.jsx(Yn,{placeholder:"请输入变量中对应的value字段"})})]})})]}):null,h==="date"&&A.jsx(ae.Item,{label:"日期格式",name:"format",labelCol:{span:4},children:A.jsx(In,{options:[{label:"年-月-日",value:"YYYY-MM-DD"},{label:"年-月-日 23:59:59",value:"YYYY-MM-DD 23:59:59"}]})}),A.jsx(ae.Item,{labelCol:{span:4},label:"表单验证",children:A.jsx(je,{form:f,labelSpan:5},"rule-list")})]})}})]})})}),qh=window.antd.Form,ex=window.antd.Input,w5=window.antd.Space,S5=window.React.memo,C5=window.React.useRef,A5=S5(({form:r})=>{const e=C5(),t=a=>{var i;(i=e.current)==null||i.open(a)},n=(a,i)=>{r.setFieldValue(["formWrap","columns",i],a)};return A.jsxs(A.Fragment,{children:[A.jsx(qh.List,{name:["formWrap","columns"],children:(a,{add:i,remove:o})=>A.jsx(A.Fragment,{children:a.map(({key:l,name:s,...u})=>A.jsxs(w5,{style:{display:"flex",marginBottom:8,padding:"0 10px"},align:"baseline",children:[A.jsx(qh.Item,{...u,wrapperCol:{span:22},name:[s,"title"],children:A.jsx(ex,{placeholder:"列名称"})}),A.jsx(qh.Item,{...u,wrapperCol:{span:22},name:[s,"dataIndex"],children:A.jsx(ex,{placeholder:"列字段",style:{width:"100%"}})}),A.jsx(Nc,{onClick:()=>t(s)}),A.jsx(pr,{onClick:()=>i({title:`列${s+2}`,dataIndex:`Col-${s+2}`,type:"text"},s+1)}),A.jsx(Si,{onClick:()=>o(s)})]},l))})}),A.jsx(b5,{columnRef:e,update:n})]})}),E5=A5,T5={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表格配置"},{type:"Switch",label:"显示边框",name:["formWrap","bordered"]},{type:"Select",label:"表格尺寸",name:["formWrap","size"],props:{options:[{label:"默认",value:"large"},{label:"中等",value:"middle"},{label:"紧凑",value:"small"}]}},{type:"InputNumber",label:"滚动轴(x)",name:["formWrap","scroll","x"],tooltip:"如果需要横向滚动，请设置x值，尽量比表格实际宽度大",props:{placeholder:"eg: 1000"}},{type:"InputNumber",label:"滚动轴(y)",name:["formWrap","scroll","y"],tooltip:"如果需要纵向滚动，请设置y值来固定高度",props:{placeholder:"eg: 600"}},{type:"Title",label:"列配置",key:"columnConfig"},{type:"function",key:"TableSetting",render(r){return A.jsx(E5,{form:r},"TableSetting")}}],config:{props:{formItem:{label:"编辑用户",name:"userData"},formWrap:{field:"data",size:"large",bordered:!0,columns:[{title:"姓名",dataIndex:"name",key:"name",align:"center",type:"text",defaultValue:"",placeholder:"请输入姓名"},{title:"年级",dataIndex:"grade",key:"grade",align:"center",type:"select",options:[{label:"一年级",value:1},{label:"二年级",value:2},{label:"三年级",value:3}],dataSource:"static",defaultValue:3,placeholder:"请选择年级"},{title:"分数",dataIndex:"score",key:"score",align:"center",type:"number",defaultValue:"",placeholder:"请输入分数"},{title:"出生日期",dataIndex:"birthday",key:"birthday",type:"date",align:"center",format:"YYYY-MM-DD",defaultValue:"2020-08-08",placeholder:"请选择日期"},{title:"共青团员",dataIndex:"isMember",key:"isMember",align:"center",type:"switch",defaultValue:!0}]}},style:{},events:[],api:{sourceType:"json",sourceField:"list",source:[]}},events:[],methods:[]};function I5(){this.__data__=[],this.size=0}var M5=I5;function O5(r,e){return r===e||r!==r&&e!==e}var xC=O5,F5=xC;function k5(r,e){for(var t=r.length;t--;)if(F5(r[t][0],e))return t;return-1}var Qc=k5,P5=Qc,R5=Array.prototype,L5=R5.splice;function D5(r){var e=this.__data__,t=P5(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():L5.call(e,t,1),--this.size,!0}var _5=D5,B5=Qc;function N5(r){var e=this.__data__,t=B5(e,r);return t<0?void 0:e[t][1]}var $5=N5,j5=Qc;function V5(r){return j5(this.__data__,r)>-1}var H5=V5,z5=Qc;function W5(r,e){var t=this.__data__,n=z5(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}var G5=W5,q5=M5,Y5=_5,U5=$5,X5=H5,K5=G5;function To(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}To.prototype.clear=q5;To.prototype.delete=Y5;To.prototype.get=U5;To.prototype.has=X5;To.prototype.set=K5;var Jc=To,Z5=Jc;function Q5(){this.__data__=new Z5,this.size=0}var J5=Q5;function tj(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}var ej=tj;function rj(r){return this.__data__.get(r)}var nj=rj;function aj(r){return this.__data__.has(r)}var ij=aj,oj=typeof nr=="object"&&nr&&nr.Object===Object&&nr,bC=oj,lj=bC,sj=typeof self=="object"&&self&&self.Object===Object&&self,uj=lj||sj||Function("return this")(),zn=uj,cj=zn,fj=cj.Symbol,fg=fj,rx=fg,wC=Object.prototype,hj=wC.hasOwnProperty,dj=wC.toString,qo=rx?rx.toStringTag:void 0;function pj(r){var e=hj.call(r,qo),t=r[qo];try{r[qo]=void 0;var n=!0}catch{}var a=dj.call(r);return n&&(e?r[qo]=t:delete r[qo]),a}var vj=pj,gj=Object.prototype,yj=gj.toString;function mj(r){return yj.call(r)}var xj=mj,nx=fg,bj=vj,wj=xj,Sj="[object Null]",Cj="[object Undefined]",ax=nx?nx.toStringTag:void 0;function Aj(r){return r==null?r===void 0?Cj:Sj:ax&&ax in Object(r)?bj(r):wj(r)}var tf=Aj;function Ej(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var SC=Ej,Tj=tf,Ij=SC,Mj="[object AsyncFunction]",Oj="[object Function]",Fj="[object GeneratorFunction]",kj="[object Proxy]";function Pj(r){if(!Ij(r))return!1;var e=Tj(r);return e==Oj||e==Fj||e==Mj||e==kj}var CC=Pj,Rj=zn,Lj=Rj["__core-js_shared__"],Dj=Lj,Yh=Dj,ix=function(){var r=/[^.]+$/.exec(Yh&&Yh.keys&&Yh.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function _j(r){return!!ix&&ix in r}var Bj=_j,Nj=Function.prototype,$j=Nj.toString;function jj(r){if(r!=null){try{return $j.call(r)}catch{}try{return r+""}catch{}}return""}var AC=jj,Vj=CC,Hj=Bj,zj=SC,Wj=AC,Gj=/[\\^$.*+?()[\]{}|]/g,qj=/^\[object .+?Constructor\]$/,Yj=Function.prototype,Uj=Object.prototype,Xj=Yj.toString,Kj=Uj.hasOwnProperty,Zj=RegExp("^"+Xj.call(Kj).replace(Gj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qj(r){if(!zj(r)||Hj(r))return!1;var e=Vj(r)?Zj:qj;return e.test(Wj(r))}var Jj=Qj;function t3(r,e){return r==null?void 0:r[e]}var e3=t3,r3=Jj,n3=e3;function a3(r,e){var t=n3(r,e);return r3(t)?t:void 0}var Io=a3,i3=Io,o3=zn,l3=i3(o3,"Map"),hg=l3,s3=Io,u3=s3(Object,"create"),ef=u3,ox=ef;function c3(){this.__data__=ox?ox(null):{},this.size=0}var f3=c3;function h3(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var d3=h3,p3=ef,v3="__lodash_hash_undefined__",g3=Object.prototype,y3=g3.hasOwnProperty;function m3(r){var e=this.__data__;if(p3){var t=e[r];return t===v3?void 0:t}return y3.call(e,r)?e[r]:void 0}var x3=m3,b3=ef,w3=Object.prototype,S3=w3.hasOwnProperty;function C3(r){var e=this.__data__;return b3?e[r]!==void 0:S3.call(e,r)}var A3=C3,E3=ef,T3="__lodash_hash_undefined__";function I3(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=E3&&e===void 0?T3:e,this}var M3=I3,O3=f3,F3=d3,k3=x3,P3=A3,R3=M3;function Mo(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Mo.prototype.clear=O3;Mo.prototype.delete=F3;Mo.prototype.get=k3;Mo.prototype.has=P3;Mo.prototype.set=R3;var L3=Mo,lx=L3,D3=Jc,_3=hg;function B3(){this.size=0,this.__data__={hash:new lx,map:new(_3||D3),string:new lx}}var N3=B3;function $3(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var j3=$3,V3=j3;function H3(r,e){var t=r.__data__;return V3(e)?t[typeof e=="string"?"string":"hash"]:t.map}var rf=H3,z3=rf;function W3(r){var e=z3(this,r).delete(r);return this.size-=e?1:0,e}var G3=W3,q3=rf;function Y3(r){return q3(this,r).get(r)}var U3=Y3,X3=rf;function K3(r){return X3(this,r).has(r)}var Z3=K3,Q3=rf;function J3(r,e){var t=Q3(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}var tV=J3,eV=N3,rV=G3,nV=U3,aV=Z3,iV=tV;function Oo(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Oo.prototype.clear=eV;Oo.prototype.delete=rV;Oo.prototype.get=nV;Oo.prototype.has=aV;Oo.prototype.set=iV;var EC=Oo,oV=Jc,lV=hg,sV=EC,uV=200;function cV(r,e){var t=this.__data__;if(t instanceof oV){var n=t.__data__;if(!lV||n.length<uV-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new sV(n)}return t.set(r,e),this.size=t.size,this}var fV=cV,hV=Jc,dV=J5,pV=ej,vV=nj,gV=ij,yV=fV;function Fo(r){var e=this.__data__=new hV(r);this.size=e.size}Fo.prototype.clear=dV;Fo.prototype.delete=pV;Fo.prototype.get=vV;Fo.prototype.has=gV;Fo.prototype.set=yV;var mV=Fo,xV="__lodash_hash_undefined__";function bV(r){return this.__data__.set(r,xV),this}var wV=bV;function SV(r){return this.__data__.has(r)}var CV=SV,AV=EC,EV=wV,TV=CV;function oc(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new AV;++e<t;)this.add(r[e])}oc.prototype.add=oc.prototype.push=EV;oc.prototype.has=TV;var IV=oc;function MV(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}var OV=MV;function FV(r,e){return r.has(e)}var kV=FV,PV=IV,RV=OV,LV=kV,DV=1,_V=2;function BV(r,e,t,n,a,i){var o=t&DV,l=r.length,s=e.length;if(l!=s&&!(o&&s>l))return!1;var u=i.get(r),c=i.get(e);if(u&&c)return u==e&&c==r;var f=-1,h=!0,d=t&_V?new PV:void 0;for(i.set(r,e),i.set(e,r);++f<l;){var p=r[f],v=e[f];if(n)var g=o?n(v,p,f,e,r,i):n(p,v,f,r,e,i);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!RV(e,function(y,m){if(!LV(d,m)&&(p===y||a(p,y,t,n,i)))return d.push(m)})){h=!1;break}}else if(!(p===v||a(p,v,t,n,i))){h=!1;break}}return i.delete(r),i.delete(e),h}var TC=BV,NV=zn,$V=NV.Uint8Array,jV=$V;function VV(r){var e=-1,t=Array(r.size);return r.forEach(function(n,a){t[++e]=[a,n]}),t}var HV=VV;function zV(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var WV=zV,sx=fg,ux=jV,GV=xC,qV=TC,YV=HV,UV=WV,XV=1,KV=2,ZV="[object Boolean]",QV="[object Date]",JV="[object Error]",t4="[object Map]",e4="[object Number]",r4="[object RegExp]",n4="[object Set]",a4="[object String]",i4="[object Symbol]",o4="[object ArrayBuffer]",l4="[object DataView]",cx=sx?sx.prototype:void 0,Uh=cx?cx.valueOf:void 0;function s4(r,e,t,n,a,i,o){switch(t){case l4:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case o4:return!(r.byteLength!=e.byteLength||!i(new ux(r),new ux(e)));case ZV:case QV:case e4:return GV(+r,+e);case JV:return r.name==e.name&&r.message==e.message;case r4:case a4:return r==e+"";case t4:var l=YV;case n4:var s=n&XV;if(l||(l=UV),r.size!=e.size&&!s)return!1;var u=o.get(r);if(u)return u==e;n|=KV,o.set(r,e);var c=qV(l(r),l(e),n,a,i,o);return o.delete(r),c;case i4:if(Uh)return Uh.call(r)==Uh.call(e)}return!1}var u4=s4;function c4(r,e){for(var t=-1,n=e.length,a=r.length;++t<n;)r[a+t]=e[t];return r}var f4=c4,h4=Array.isArray,dg=h4,d4=f4,p4=dg;function v4(r,e,t){var n=e(r);return p4(r)?n:d4(n,t(r))}var g4=v4;function y4(r,e){for(var t=-1,n=r==null?0:r.length,a=0,i=[];++t<n;){var o=r[t];e(o,t,r)&&(i[a++]=o)}return i}var m4=y4;function x4(){return[]}var b4=x4,w4=m4,S4=b4,C4=Object.prototype,A4=C4.propertyIsEnumerable,fx=Object.getOwnPropertySymbols,E4=fx?function(r){return r==null?[]:(r=Object(r),w4(fx(r),function(e){return A4.call(r,e)}))}:S4,T4=E4;function I4(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var M4=I4;function O4(r){return r!=null&&typeof r=="object"}var nf=O4,F4=tf,k4=nf,P4="[object Arguments]";function R4(r){return k4(r)&&F4(r)==P4}var L4=R4,hx=L4,D4=nf,IC=Object.prototype,_4=IC.hasOwnProperty,B4=IC.propertyIsEnumerable,N4=hx(function(){return arguments}())?hx:function(r){return D4(r)&&_4.call(r,"callee")&&!B4.call(r,"callee")},$4=N4,lc={exports:{}};function j4(){return!1}var V4=j4;lc.exports;(function(r,e){var t=zn,n=V4,a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,o=i&&i.exports===a,l=o?t.Buffer:void 0,s=l?l.isBuffer:void 0,u=s||n;r.exports=u})(lc,lc.exports);var MC=lc.exports,H4=9007199254740991,z4=/^(?:0|[1-9]\d*)$/;function W4(r,e){var t=typeof r;return e=e??H4,!!e&&(t=="number"||t!="symbol"&&z4.test(r))&&r>-1&&r%1==0&&r<e}var G4=W4,q4=9007199254740991;function Y4(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=q4}var OC=Y4,U4=tf,X4=OC,K4=nf,Z4="[object Arguments]",Q4="[object Array]",J4="[object Boolean]",tH="[object Date]",eH="[object Error]",rH="[object Function]",nH="[object Map]",aH="[object Number]",iH="[object Object]",oH="[object RegExp]",lH="[object Set]",sH="[object String]",uH="[object WeakMap]",cH="[object ArrayBuffer]",fH="[object DataView]",hH="[object Float32Array]",dH="[object Float64Array]",pH="[object Int8Array]",vH="[object Int16Array]",gH="[object Int32Array]",yH="[object Uint8Array]",mH="[object Uint8ClampedArray]",xH="[object Uint16Array]",bH="[object Uint32Array]",ie={};ie[hH]=ie[dH]=ie[pH]=ie[vH]=ie[gH]=ie[yH]=ie[mH]=ie[xH]=ie[bH]=!0;ie[Z4]=ie[Q4]=ie[cH]=ie[J4]=ie[fH]=ie[tH]=ie[eH]=ie[rH]=ie[nH]=ie[aH]=ie[iH]=ie[oH]=ie[lH]=ie[sH]=ie[uH]=!1;function wH(r){return K4(r)&&X4(r.length)&&!!ie[U4(r)]}var SH=wH;function CH(r){return function(e){return r(e)}}var AH=CH,sc={exports:{}};sc.exports;(function(r,e){var t=bC,n=e&&!e.nodeType&&e,a=n&&!0&&r&&!r.nodeType&&r,i=a&&a.exports===n,o=i&&t.process,l=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();r.exports=l})(sc,sc.exports);var EH=sc.exports,TH=SH,IH=AH,dx=EH,px=dx&&dx.isTypedArray,MH=px?IH(px):TH,FC=MH,OH=M4,FH=$4,kH=dg,PH=MC,RH=G4,LH=FC,DH=Object.prototype,_H=DH.hasOwnProperty;function BH(r,e){var t=kH(r),n=!t&&FH(r),a=!t&&!n&&PH(r),i=!t&&!n&&!a&&LH(r),o=t||n||a||i,l=o?OH(r.length,String):[],s=l.length;for(var u in r)(e||_H.call(r,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||RH(u,s)))&&l.push(u);return l}var NH=BH,$H=Object.prototype;function jH(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||$H;return r===t}var VH=jH;function HH(r,e){return function(t){return r(e(t))}}var zH=HH,WH=zH,GH=WH(Object.keys,Object),qH=GH,YH=VH,UH=qH,XH=Object.prototype,KH=XH.hasOwnProperty;function ZH(r){if(!YH(r))return UH(r);var e=[];for(var t in Object(r))KH.call(r,t)&&t!="constructor"&&e.push(t);return e}var QH=ZH,JH=CC,tz=OC;function ez(r){return r!=null&&tz(r.length)&&!JH(r)}var rz=ez,nz=NH,az=QH,iz=rz;function oz(r){return iz(r)?nz(r):az(r)}var lz=oz,sz=g4,uz=T4,cz=lz;function fz(r){return sz(r,cz,uz)}var hz=fz,vx=hz,dz=1,pz=Object.prototype,vz=pz.hasOwnProperty;function gz(r,e,t,n,a,i){var o=t&dz,l=vx(r),s=l.length,u=vx(e),c=u.length;if(s!=c&&!o)return!1;for(var f=s;f--;){var h=l[f];if(!(o?h in e:vz.call(e,h)))return!1}var d=i.get(r),p=i.get(e);if(d&&p)return d==e&&p==r;var v=!0;i.set(r,e),i.set(e,r);for(var g=o;++f<s;){h=l[f];var y=r[h],m=e[h];if(n)var b=o?n(m,y,h,e,r,i):n(y,m,h,r,e,i);if(!(b===void 0?y===m||a(y,m,t,n,i):b)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var x=r.constructor,w=e.constructor;x!=w&&"constructor"in r&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(r),i.delete(e),v}var yz=gz,mz=Io,xz=zn,bz=mz(xz,"DataView"),wz=bz,Sz=Io,Cz=zn,Az=Sz(Cz,"Promise"),Ez=Az,Tz=Io,Iz=zn,Mz=Tz(Iz,"Set"),Oz=Mz,Fz=Io,kz=zn,Pz=Fz(kz,"WeakMap"),Rz=Pz,Np=wz,$p=hg,jp=Ez,Vp=Oz,Hp=Rz,kC=tf,ko=AC,gx="[object Map]",Lz="[object Object]",yx="[object Promise]",mx="[object Set]",xx="[object WeakMap]",bx="[object DataView]",Dz=ko(Np),_z=ko($p),Bz=ko(jp),Nz=ko(Vp),$z=ko(Hp),Va=kC;(Np&&Va(new Np(new ArrayBuffer(1)))!=bx||$p&&Va(new $p)!=gx||jp&&Va(jp.resolve())!=yx||Vp&&Va(new Vp)!=mx||Hp&&Va(new Hp)!=xx)&&(Va=function(r){var e=kC(r),t=e==Lz?r.constructor:void 0,n=t?ko(t):"";if(n)switch(n){case Dz:return bx;case _z:return gx;case Bz:return yx;case Nz:return mx;case $z:return xx}return e});var jz=Va,Xh=mV,Vz=TC,Hz=u4,zz=yz,wx=jz,Sx=dg,Cx=MC,Wz=FC,Gz=1,Ax="[object Arguments]",Ex="[object Array]",Ks="[object Object]",qz=Object.prototype,Tx=qz.hasOwnProperty;function Yz(r,e,t,n,a,i){var o=Sx(r),l=Sx(e),s=o?Ex:wx(r),u=l?Ex:wx(e);s=s==Ax?Ks:s,u=u==Ax?Ks:u;var c=s==Ks,f=u==Ks,h=s==u;if(h&&Cx(r)){if(!Cx(e))return!1;o=!0,c=!1}if(h&&!c)return i||(i=new Xh),o||Wz(r)?Vz(r,e,t,n,a,i):Hz(r,e,s,t,n,a,i);if(!(t&Gz)){var d=c&&Tx.call(r,"__wrapped__"),p=f&&Tx.call(e,"__wrapped__");if(d||p){var v=d?r.value():r,g=p?e.value():e;return i||(i=new Xh),a(v,g,t,n,i)}}return h?(i||(i=new Xh),zz(r,e,t,n,a,i)):!1}var Uz=Yz,Xz=Uz,Ix=nf;function PC(r,e,t,n,a){return r===e?!0:r==null||e==null||!Ix(r)&&!Ix(e)?r!==r&&e!==e:Xz(r,e,t,n,PC,a)}var Kz=PC,Zz=Kz;function Qz(r,e){return Zz(r,e)}var Jz=Qz,RC={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,e){(function(n,a){r.exports=a()})(typeof self<"u"?self:nr,function(){return function(t){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=n,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(17),o=a(18),l=a(19),s=a(45),u=a(46),c=a(47),f=a(48),h=a(49),d=a(12),p=a(32),v=a(33),g=a(31),y=a(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:f.default,Scroll:s.default,Block:c.default,Inline:u.default,Text:h.default,Attributor:{Attribute:d.default,Class:p.default,Style:v.default,Store:g.default}};n.default=m},function(t,n,a){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var b in m)m.hasOwnProperty(b)&&(y[b]=m[b])};return function(y,m){g(y,m);function b(){this.constructor=y}y.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){i(y,g);function y(m){var b=this;return m="[Parchment] "+m,b=g.call(this,m)||this,b.message=m,b.name=b.constructor.name,b}return y}(Error);n.ParchmentError=o;var l={},s={},u={},c={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function h(g,y){var m=p(g);if(m==null)throw new o("Unable to create "+g+" blot");var b=m,x=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:b.create(y);return new b(x,y)}n.create=h;function d(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?d(g.parentNode,y):null}n.find=d;function p(g,y){y===void 0&&(y=f.ANY);var m;if(typeof g=="string")m=c[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?m=c.block:g&f.LEVEL&f.INLINE&&(m=c.inline);else if(g instanceof HTMLElement){var b=(g.getAttribute("class")||"").split(/\s+/);for(var x in b)if(m=s[b[x]],m)break;m=m||u[g.tagName]}return m==null?null:y&f.LEVEL&m.scope&&y&f.TYPE&m.scope?m:null}n.query=p;function v(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(x){return v(x)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")l[m.keyName]=m;else if(m.className!=null&&(s[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(x){return x.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var b=Array.isArray(m.tagName)?m.tagName:[m.tagName];b.forEach(function(x){(u[x]==null||m.className==null)&&(u[x]=m)})}return m}n.register=v},function(t,n,a){var i=a(51),o=a(11),l=a(3),s=a(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,h){var d={};return f.length===0?this:(d.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,h){if(f<=0)return this;var d={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d)},c.prototype.push=function(f){var h=this.ops.length,d=this.ops[h-1];if(f=l(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[h-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(h-=1,d=this.ops[h-1],typeof d!="object"))return this.ops.unshift(f),this;if(o(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[h-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[h-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var h=[],d=[];return this.forEach(function(p){var v=f(p)?h:d;v.push(p)}),[h,d]},c.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},c.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+s.length(h):h.delete?f-h.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,h){return f+s.length(h)},0)},c.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var d=[],p=s.iterator(this.ops),v=0;v<h&&p.hasNext();){var g;v<f?g=p.next(f-v):(g=p.next(h-v),d.push(g)),v+=s.length(g)}return new c(d)},c.prototype.compose=function(f){var h=s.iterator(this.ops),d=s.iterator(f.ops),p=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;h.peekType()==="insert"&&h.peekLength()<=g;)g-=h.peekLength(),p.push(h.next());v.retain-g>0&&d.next(v.retain-g)}for(var y=new c(p);h.hasNext()||d.hasNext();)if(d.peekType()==="insert")y.push(d.next());else if(h.peekType()==="delete")y.push(h.next());else{var m=Math.min(h.peekLength(),d.peekLength()),b=h.next(m),x=d.next(m);if(typeof x.retain=="number"){var w={};typeof b.retain=="number"?w.retain=m:w.insert=b.insert;var S=s.attributes.compose(b.attributes,x.attributes,typeof b.retain=="number");if(S&&(w.attributes=S),y.push(w),!d.hasNext()&&o(y.ops[y.ops.length-1],w)){var C=new c(h.rest());return y.concat(C).chop()}}else typeof x.delete=="number"&&typeof b.retain=="number"&&y.push(x)}return y.chop()},c.prototype.concat=function(f){var h=new c(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},c.prototype.diff=function(f,h){if(this.ops===f.ops)return new c;var d=[this,f].map(function(m){return m.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var x=m===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),p=new c,v=i(d[0],d[1],h),g=s.iterator(this.ops),y=s.iterator(f.ops);return v.forEach(function(m){for(var b=m[1].length;b>0;){var x=0;switch(m[0]){case i.INSERT:x=Math.min(y.peekLength(),b),p.push(y.next(x));break;case i.DELETE:x=Math.min(b,g.peekLength()),g.next(x),p.delete(x);break;case i.EQUAL:x=Math.min(g.peekLength(),y.peekLength(),b);var w=g.next(x),S=y.next(x);o(w.insert,S.insert)?p.retain(x,s.attributes.diff(w.attributes,S.attributes)):p.push(S).delete(x);break}b-=x}}),p.chop()},c.prototype.eachLine=function(f,h){h=h||`
`;for(var d=s.iterator(this.ops),p=new c,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var g=d.peek(),y=s.length(g)-d.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(h,y)-y:-1;if(m<0)p.push(d.next());else if(m>0)p.push(d.next(m));else{if(f(p,d.next(1).attributes||{},v)===!1)return;v+=1,p=new c}}p.length()>0&&f(p,{},v)},c.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var d=s.iterator(this.ops),p=s.iterator(f.ops),v=new c;d.hasNext()||p.hasNext();)if(d.peekType()==="insert"&&(h||p.peekType()!=="insert"))v.retain(s.length(d.next()));else if(p.peekType()==="insert")v.push(p.next());else{var g=Math.min(d.peekLength(),p.peekLength()),y=d.next(g),m=p.next(g);if(y.delete)continue;m.delete?v.push(m):v.retain(g,s.attributes.transform(y.attributes,m.attributes,h))}return v.chop()},c.prototype.transformPosition=function(f,h){h=!!h;for(var d=s.iterator(this.ops),p=0;d.hasNext()&&p<=f;){var v=d.peekLength(),g=d.peekType();if(d.next(),g==="delete"){f-=Math.min(v,f-p);continue}else g==="insert"&&(p<f||!h)&&(f+=v);p+=v}return f},t.exports=c},function(t,n){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):i.call(d)==="[object Array]"},u=function(d){if(!d||i.call(d)!=="[object Object]")return!1;var p=a.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&a.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!v)return!1;var g;for(g in d);return typeof g>"u"||a.call(d,g)},c=function(d,p){o&&p.name==="__proto__"?o(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},f=function(d,p){if(p==="__proto__")if(a.call(d,p)){if(l)return l(d,p).value}else return;return d[p]};t.exports=function h(){var d,p,v,g,y,m,b=arguments[0],x=1,w=arguments.length,S=!1;for(typeof b=="boolean"&&(S=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<w;++x)if(d=arguments[x],d!=null)for(p in d)v=f(b,p),g=f(d,p),b!==g&&(S&&g&&(u(g)||(y=s(g)))?(y?(y=!1,m=v&&s(v)?v:[]):m=v&&u(v)?v:{},c(b,{name:p,newValue:h(S,m,g)})):typeof g<"u"&&c(b,{name:p,newValue:g}));return b}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function M(O,k){for(var L=0;L<k.length;L++){var N=k[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,k,L){return k&&M(O.prototype,k),L&&M(O,L),O}}(),o=function M(O,k,L){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,k);if(N===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:M(R,k,L)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(L)}},l=a(3),s=b(l),u=a(2),c=b(u),f=a(0),h=b(f),d=a(16),p=b(d),v=a(6),g=b(v),y=a(7),m=b(y);function b(M){return M&&M.__esModule?M:{default:M}}function x(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function w(M,O){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:M}function S(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(M,O):M.__proto__=O)}var C=1,T=function(M){S(O,M);function O(){return x(this,O),w(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"attach",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,N){var R=h.default.query(L,h.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,N)}},{key:"formatAt",value:function(L,N,R,D){this.format(R,D)}},{key:"insertAt",value:function(L,N,R){if(typeof N=="string"&&N.endsWith(`
`)){var D=h.default.create(F.blotName);this.parent.insertBefore(D,L===0?this:this.next),D.insertAt(0,N.slice(0,-1))}else o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,N,R)}}]),O}(h.default.Embed);T.scope=h.default.Scope.BLOCK_BLOT;var F=function(M){S(O,M);function O(k){x(this,O);var L=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k));return L.cache={},L}return i(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(L,N){return N.length()===0?L:L.insert(N.value(),I(N))},new c.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(L,N){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,L,N),this.cache={}}},{key:"formatAt",value:function(L,N,R,D){N<=0||(h.default.query(R,h.default.Scope.BLOCK)?L+N===this.length()&&this.format(R,D):o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,L,Math.min(N,this.length()-L-1),R,D),this.cache={})}},{key:"insertAt",value:function(L,N,R){if(R!=null)return o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,N,R);if(N.length!==0){var D=N.split(`
`),W=D.shift();W.length>0&&(L<this.length()-1||this.children.tail==null?o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var V=this;D.reduce(function(B,P){return V=V.split(B,!0),V.insertAt(0,P),P.length},L+W.length)}}},{key:"insertBefore",value:function(L,N){var R=this.children.head;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,L,N),R instanceof p.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(L,N){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,L,N),this.cache={}}},{key:"optimize",value:function(L){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N&&(L===0||L>=this.length()-C)){var R=this.clone();return L===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var D=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,L,N);return this.cache={},D}}}]),O}(h.default.Block);F.blotName="block",F.tagName="P",F.defaultChild="break",F.allowedChildren=[g.default,h.default.Embed,m.default];function I(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M==null||(typeof M.formats=="function"&&(O=(0,s.default)(O,M.formats())),M.parent==null||M.parent.blotName=="scroll"||M.parent.statics.scope!==M.statics.scope)?O:I(M.parent,O)}n.bubbleFormats=I,n.BlockEmbed=T,n.default=F},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(B,P){var $=[],z=!0,Y=!1,q=void 0;try{for(var _=B[Symbol.iterator](),G;!(z=(G=_.next()).done)&&($.push(G.value),!(P&&$.length===P));z=!0);}catch(X){Y=!0,q=X}finally{try{!z&&_.return&&_.return()}finally{if(Y)throw q}}return $}return function(B,P){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return V(B,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(B,P){for(var $=0;$<P.length;$++){var z=P[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(B,z.key,z)}}return function(B,P,$){return P&&V(B.prototype,P),$&&V(B,$),B}}();a(50);var s=a(2),u=I(s),c=a(14),f=I(c),h=a(8),d=I(h),p=a(9),v=I(p),g=a(0),y=I(g),m=a(15),b=I(m),x=a(3),w=I(x),S=a(10),C=I(S),T=a(34),F=I(T);function I(V){return V&&V.__esModule?V:{default:V}}function M(V,B,P){return B in V?Object.defineProperty(V,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[B]=P,V}function O(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}var k=(0,C.default)("quill"),L=function(){l(V,null,[{key:"debug",value:function(P){P===!0&&(P="log"),C.default.level(P)}},{key:"find",value:function(P){return P.__quill||y.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&k.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,$){var z=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var q=P.attrName||P.blotName;typeof q=="string"?this.register("formats/"+q,P,$):Object.keys(P).forEach(function(_){z.register(_,P[_],$)})}else this.imports[P]!=null&&!Y&&k.warn("Overwriting "+P+" with",$),this.imports[P]=$,(P.startsWith("blots/")||P.startsWith("formats/"))&&$.blotName!=="abstract"?y.default.register($):P.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function V(B){var P=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,V),this.options=N(B,$),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",B);this.options.debug&&V.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(q){q===d.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(q,_){var G=P.selection.lastRange,X=G&&G.length===0?G.index:void 0;R.call(P,function(){return P.editor.update(null,_,X)},q)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(V,[{key:"addContainer",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var z=P;P=document.createElement("div"),P.classList.add(z)}return this.container.insertBefore(P,$),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,$,z){var Y=this,q=D(P,$,z),_=o(q,4);return P=_[0],$=_[1],z=_[3],R.call(this,function(){return Y.editor.deleteText(P,$)},z,P,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,$){var z=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return R.call(this,function(){var q=z.getSelection(!0),_=new u.default;if(q==null)return _;if(y.default.query(P,y.default.Scope.BLOCK))_=z.editor.formatLine(q.index,q.length,M({},P,$));else{if(q.length===0)return z.selection.format(P,$),_;_=z.editor.formatText(q.index,q.length,M({},P,$))}return z.setSelection(q,d.default.sources.SILENT),_},Y)}},{key:"formatLine",value:function(P,$,z,Y,q){var _=this,G=void 0,X=D(P,$,z,Y,q),K=o(X,4);return P=K[0],$=K[1],G=K[2],q=K[3],R.call(this,function(){return _.editor.formatLine(P,$,G)},q,P,0)}},{key:"formatText",value:function(P,$,z,Y,q){var _=this,G=void 0,X=D(P,$,z,Y,q),K=o(X,4);return P=K[0],$=K[1],G=K[2],q=K[3],R.call(this,function(){return _.editor.formatText(P,$,G)},q,P,0)}},{key:"getBounds",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof P=="number"?z=this.selection.getBounds(P,$):z=this.selection.getBounds(P.index,P.length);var Y=this.container.getBoundingClientRect();return{bottom:z.bottom-Y.top,height:z.height,left:z.left-Y.left,right:z.right-Y.left,top:z.top-Y.top,width:z.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,z=D(P,$),Y=o(z,2);return P=Y[0],$=Y[1],this.editor.getContents(P,$)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,$):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,$)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,z=D(P,$),Y=o(z,2);return P=Y[0],$=Y[1],this.editor.getText(P,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,$,z){var Y=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.sources.API;return R.call(this,function(){return Y.editor.insertEmbed(P,$,z)},q,P)}},{key:"insertText",value:function(P,$,z,Y,q){var _=this,G=void 0,X=D(P,0,z,Y,q),K=o(X,4);return P=K[0],G=K[2],q=K[3],R.call(this,function(){return _.editor.insertText(P,$,G)},q,P,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,$,z){this.clipboard.dangerouslyPasteHTML(P,$,z)}},{key:"removeFormat",value:function(P,$,z){var Y=this,q=D(P,$,z),_=o(q,4);return P=_[0],$=_[1],z=_[3],R.call(this,function(){return Y.editor.removeFormat(P,$)},z,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var $=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return R.call(this,function(){P=new u.default(P);var Y=$.getLength(),q=$.editor.deleteText(0,Y),_=$.editor.applyDelta(P),G=_.ops[_.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),_.delete(1));var X=q.compose(_);return X},z)}},{key:"setSelection",value:function(P,$,z){if(P==null)this.selection.setRange(null,$||V.sources.API);else{var Y=D(P,$,z),q=o(Y,4);P=q[0],$=q[1],z=q[3],this.selection.setRange(new m.Range(P,$),z),z!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,z=new u.default().insert(P);return this.setContents(z,$)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,$=this.scroll.update(P);return this.selection.update(P),$}},{key:"updateContents",value:function(P){var $=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return R.call(this,function(){return P=new u.default(P),$.editor.applyDelta(P,z)},z,!0)}}]),V}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=d.default.events,L.sources=d.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":F.default};function N(V,B){if(B=(0,w.default)(!0,{container:V,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===L.DEFAULTS.theme)B.theme=F.default;else if(B.theme=L.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var P=(0,w.default)(!0,{},B.theme.DEFAULTS);[P,B].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(q){Y.modules[q]===!0&&(Y.modules[q]={})})});var $=Object.keys(P.modules).concat(Object.keys(B.modules)),z=$.reduce(function(Y,q){var _=L.import("modules/"+q);return _==null?k.error("Cannot load "+q+" module. Are you sure you registered it?"):Y[q]=_.DEFAULTS||{},Y},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,w.default)(!0,{},L.DEFAULTS,{modules:z},P,B),["bounds","container","scrollingContainer"].forEach(function(Y){typeof B[Y]=="string"&&(B[Y]=document.querySelector(B[Y]))}),B.modules=Object.keys(B.modules).reduce(function(Y,q){return B.modules[q]&&(Y[q]=B.modules[q]),Y},{}),B}function R(V,B,P,$){if(this.options.strict&&!this.isEnabled()&&B===d.default.sources.USER)return new u.default;var z=P==null?null:this.getSelection(),Y=this.editor.delta,q=V();if(z!=null&&(P===!0&&(P=z.index),$==null?z=W(z,q,B):$!==0&&(z=W(z,P,$,B)),this.setSelection(z,d.default.sources.SILENT)),q.length()>0){var _,G=[d.default.events.TEXT_CHANGE,q,Y,B];if((_=this.emitter).emit.apply(_,[d.default.events.EDITOR_CHANGE].concat(G)),B!==d.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,G)}}return q}function D(V,B,P,$,z){var Y={};return typeof V.index=="number"&&typeof V.length=="number"?typeof B!="number"?(z=$,$=P,P=B,B=V.length,V=V.index):(B=V.length,V=V.index):typeof B!="number"&&(z=$,$=P,P=B,B=0),(typeof P>"u"?"undefined":i(P))==="object"?(Y=P,z=$):typeof P=="string"&&($!=null?Y[P]=$:z=P),z=z||d.default.sources.API,[V,B,Y,z]}function W(V,B,P,$){if(V==null)return null;var z=void 0,Y=void 0;if(B instanceof u.default){var q=[V.index,V.index+V.length].map(function(K){return B.transformPosition(K,$!==d.default.sources.USER)}),_=o(q,2);z=_[0],Y=_[1]}else{var G=[V.index,V.index+V.length].map(function(K){return K<B||K===B&&$===d.default.sources.USER?K:P>=0?K+P:Math.max(B,K+P)}),X=o(G,2);z=X[0],Y=X[1]}return new m.Range(z,Y-z)}n.expandConfig=N,n.overload=D,n.default=L},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(7),s=f(l),u=a(0),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=function(g){p(y,g);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"formatAt",value:function(b,x,w,S){if(y.compare(this.statics.blotName,w)<0&&c.default.query(w,c.default.Scope.BLOT)){var C=this.isolate(b,x);S&&C.wrap(w,S)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,x,w,S)}},{key:"optimize",value:function(b){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(b,x){var w=y.order.indexOf(b),S=y.order.indexOf(x);return w>=0||S>=0?w-S:b===x?0:b<x?-1:1}}]),y}(c.default.Inline);v.allowedChildren=[v,c.default.Embed,s.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(){return s(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default.Text);n.default=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(b,x){for(var w=0;w<x.length;w++){var S=x[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,w){return x&&m(b.prototype,x),w&&m(b,w),b}}(),o=function m(b,x,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:m(C,x,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},l=a(54),s=f(l),u=a(10),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function h(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function d(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function p(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var v=(0,c.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var b=arguments.length,x=Array(b),w=0;w<b;w++)x[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var C;(C=S.__quill.emitter).handleDOM.apply(C,x)}})})});var y=function(m){p(b,m);function b(){h(this,b);var x=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return x.listeners={},x.on("error",v.error),x}return i(b,[{key:"emit",value:function(){v.log.apply(v,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var S=arguments.length,C=Array(S>1?S-1:0),T=1;T<S;T++)C[T-1]=arguments[T];(this.listeners[w.type]||[]).forEach(function(F){var I=F.node,M=F.handler;(w.target===I||I.contains(w.target))&&M.apply(void 0,[w].concat(C))})}},{key:"listenDOM",value:function(w,S,C){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:S,handler:C})}}]),b}(s.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});function i(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var o=function l(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=s,this.options=u};o.DEFAULTS={},n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var c,f=arguments.length,h=Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];(c=console)[u].apply(c,h)}}function s(u){return i.reduce(function(c,f){return c[f]=l.bind(console,f,u),c},{})}l.level=s.level=function(u){o=u},n.default=s},function(t,n,a){var i=Array.prototype.slice,o=a(52),l=a(53),s=t.exports=function(h,d,p){return p||(p={}),h===d?!0:h instanceof Date&&d instanceof Date?h.getTime()===d.getTime():!h||!d||typeof h!="object"&&typeof d!="object"?p.strict?h===d:h==d:f(h,d,p)};function u(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,d,p){var v,g;if(u(h)||u(d)||h.prototype!==d.prototype)return!1;if(l(h))return l(d)?(h=i.call(h),d=i.call(d),s(h,d,p)):!1;if(c(h)){if(!c(d)||h.length!==d.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==d[v])return!1;return!0}try{var y=o(h),m=o(d)}catch{return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),v=y.length-1;v>=0;v--)if(y[v]!=m[v])return!1;for(v=y.length-1;v>=0;v--)if(g=y[v],!s(h[g],d[g],p))return!1;return typeof h==typeof d}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(s,u,c){c===void 0&&(c={}),this.attrName=s,this.keyName=u;var f=i.Scope.TYPE&i.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&i.Scope.LEVEL|f:this.scope=i.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return l.keys=function(s){return[].map.call(s.attributes,function(u){return u.name})},l.prototype.add=function(s,u){return this.canAdd(s,u)?(s.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(s,u){var c=i.query(s,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(s){s.removeAttribute(this.keyName)},l.prototype.value=function(s){var u=s.getAttribute(this.keyName);return this.canAdd(s,u)&&u?u:""},l}();n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function T(F,I){var M=[],O=!0,k=!1,L=void 0;try{for(var N=F[Symbol.iterator](),R;!(O=(R=N.next()).done)&&(M.push(R.value),!(I&&M.length===I));O=!0);}catch(D){k=!0,L=D}finally{try{!O&&N.return&&N.return()}finally{if(k)throw L}}return M}return function(F,I){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return T(F,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(F,I){for(var M=0;M<I.length;M++){var O=I[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}return function(F,I,M){return I&&T(F.prototype,I),M&&T(F,M),F}}(),l=function T(F,I,M){F===null&&(F=Function.prototype);var O=Object.getOwnPropertyDescriptor(F,I);if(O===void 0){var k=Object.getPrototypeOf(F);return k===null?void 0:T(k,I,M)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(M)}},s=a(2),u=m(s),c=a(0),f=m(c),h=a(4),d=m(h),p=a(6),v=m(p),g=a(7),y=m(g);function m(T){return T&&T.__esModule?T:{default:T}}function b(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")}function x(T,F){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:T}function w(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);T.prototype=Object.create(F&&F.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(T,F):T.__proto__=F)}var S=function(T){w(F,T);function F(){return b(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return F}(v.default);S.blotName="code",S.tagName="CODE";var C=function(T){w(F,T);function F(){return b(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return o(F,[{key:"delta",value:function(){var M=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(k,L){return k.insert(L).insert(`
`,M.formats())},new u.default)}},{key:"format",value:function(M,O){if(!(M===this.statics.blotName&&O)){var k=this.descendant(y.default,this.length()-1),L=i(k,1),N=L[0];N!=null&&N.deleteAt(N.length()-1,1),l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"format",this).call(this,M,O)}}},{key:"formatAt",value:function(M,O,k,L){if(O!==0&&!(f.default.query(k,f.default.Scope.BLOCK)==null||k===this.statics.blotName&&L===this.statics.formats(this.domNode))){var N=this.newlineIndex(M);if(!(N<0||N>=M+O)){var R=this.newlineIndex(M,!0)+1,D=N-R+1,W=this.isolate(R,D),V=W.next;W.format(k,L),V instanceof F&&V.formatAt(0,M-R+O-D,k,L)}}}},{key:"insertAt",value:function(M,O,k){if(k==null){var L=this.descendant(y.default,M),N=i(L,2),R=N[0],D=N[1];R.insertAt(D,O)}}},{key:"length",value:function(){var M=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?M:M+1}},{key:"newlineIndex",value:function(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,M).lastIndexOf(`
`);var k=this.domNode.textContent.slice(M).indexOf(`
`);return k>-1?M+k:-1}},{key:"optimize",value:function(M){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,M);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(M),O.moveChildren(this),O.remove())}},{key:"replace",value:function(M){l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replace",this).call(this,M),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var k=f.default.find(O);k==null?O.parentNode.removeChild(O):k instanceof f.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(M){var O=l(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,M);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),F}(d.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",n.Code=S,n.default=C},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(B,P){var $=[],z=!0,Y=!1,q=void 0;try{for(var _=B[Symbol.iterator](),G;!(z=(G=_.next()).done)&&($.push(G.value),!(P&&$.length===P));z=!0);}catch(X){Y=!0,q=X}finally{try{!z&&_.return&&_.return()}finally{if(Y)throw q}}return $}return function(B,P){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return V(B,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(B,P){for(var $=0;$<P.length;$++){var z=P[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(B,z.key,z)}}return function(B,P,$){return P&&V(B.prototype,P),$&&V(B,$),B}}(),s=a(2),u=O(s),c=a(20),f=O(c),h=a(0),d=O(h),p=a(13),v=O(p),g=a(24),y=O(g),m=a(4),b=O(m),x=a(16),w=O(x),S=a(21),C=O(S),T=a(11),F=O(T),I=a(3),M=O(I);function O(V){return V&&V.__esModule?V:{default:V}}function k(V,B,P){return B in V?Object.defineProperty(V,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[B]=P,V}function L(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}var N=/^[ -~]*$/,R=function(){function V(B){L(this,V),this.scroll=B,this.delta=this.getDelta()}return l(V,[{key:"applyDelta",value:function(P){var $=this,z=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),P=W(P),P.reduce(function(q,_){var G=_.retain||_.delete||_.insert.length||1,X=_.attributes||{};if(_.insert!=null){if(typeof _.insert=="string"){var K=_.insert;K.endsWith(`
`)&&z&&(z=!1,K=K.slice(0,-1)),q>=Y&&!K.endsWith(`
`)&&(z=!0),$.scroll.insertAt(q,K);var tt=$.scroll.line(q),et=o(tt,2),vt=et[0],st=et[1],yt=(0,M.default)({},(0,m.bubbleFormats)(vt));if(vt instanceof b.default){var kt=vt.descendant(d.default.Leaf,st),Yt=o(kt,1),ne=Yt[0];yt=(0,M.default)(yt,(0,m.bubbleFormats)(ne))}X=f.default.attributes.diff(yt,X)||{}}else if(i(_.insert)==="object"){var rt=Object.keys(_.insert)[0];if(rt==null)return q;$.scroll.insertAt(q,rt,_.insert[rt])}Y+=G}return Object.keys(X).forEach(function(nt){$.scroll.formatAt(q,G,nt,X[nt])}),q+G},0),P.reduce(function(q,_){return typeof _.delete=="number"?($.scroll.deleteAt(q,_.delete),q):q+(_.retain||_.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,$){return this.scroll.deleteAt(P,$),this.update(new u.default().retain(P).delete($))}},{key:"formatLine",value:function(P,$){var z=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(q){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[q])){var _=z.scroll.lines(P,Math.max($,1)),G=$;_.forEach(function(X){var K=X.length();if(!(X instanceof v.default))X.format(q,Y[q]);else{var tt=P-X.offset(z.scroll),et=X.newlineIndex(tt+G)-tt+1;X.formatAt(tt,et,q,Y[q])}G-=K})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain($,(0,C.default)(Y)))}},{key:"formatText",value:function(P,$){var z=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(q){z.scroll.formatAt(P,$,q,Y[q])}),this.update(new u.default().retain(P).retain($,(0,C.default)(Y)))}},{key:"getContents",value:function(P,$){return this.delta.slice(P,P+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,$){return P.concat($.delta())},new u.default)}},{key:"getFormat",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],Y=[];$===0?this.scroll.path(P).forEach(function(_){var G=o(_,1),X=G[0];X instanceof b.default?z.push(X):X instanceof d.default.Leaf&&Y.push(X)}):(z=this.scroll.lines(P,$),Y=this.scroll.descendants(d.default.Leaf,P,$));var q=[z,Y].map(function(_){if(_.length===0)return{};for(var G=(0,m.bubbleFormats)(_.shift());Object.keys(G).length>0;){var X=_.shift();if(X==null)return G;G=D((0,m.bubbleFormats)(X),G)}return G});return M.default.apply(M.default,q)}},{key:"getText",value:function(P,$){return this.getContents(P,$).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(P,$,z){return this.scroll.insertAt(P,$,z),this.update(new u.default().retain(P).insert(k({},$,z)))}},{key:"insertText",value:function(P,$){var z=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,$),Object.keys(Y).forEach(function(q){z.scroll.formatAt(P,$.length,q,Y[q])}),this.update(new u.default().retain(P).insert($,(0,C.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==b.default.blotName||P.children.length>1?!1:P.children.head instanceof w.default}},{key:"removeFormat",value:function(P,$){var z=this.getText(P,$),Y=this.scroll.line(P+$),q=o(Y,2),_=q[0],G=q[1],X=0,K=new u.default;_!=null&&(_ instanceof v.default?X=_.newlineIndex(G)-G+1:X=_.length()-G,K=_.delta().slice(G,G+X-1).insert(`
`));var tt=this.getContents(P,$+X),et=tt.diff(new u.default().insert(z).concat(K)),vt=new u.default().retain(P).concat(et);return this.applyDelta(vt)}},{key:"update",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(N)&&d.default.find($[0].target)){var q=d.default.find($[0].target),_=(0,m.bubbleFormats)(q),G=q.offset(this.scroll),X=$[0].oldValue.replace(y.default.CONTENTS,""),K=new u.default().insert(X),tt=new u.default().insert(q.value()),et=new u.default().retain(G).concat(K.diff(tt,z));P=et.reduce(function(vt,st){return st.insert?vt.insert(st.insert,_):vt.push(st)},new u.default),this.delta=Y.compose(P)}else this.delta=this.getDelta(),(!P||!(0,F.default)(Y.compose(P),this.delta))&&(P=Y.diff(this.delta,z));return P}}]),V}();function D(V,B){return Object.keys(B).reduce(function(P,$){return V[$]==null||(B[$]===V[$]?P[$]=B[$]:Array.isArray(B[$])?B[$].indexOf(V[$])<0&&(P[$]=B[$].concat([V[$]])):P[$]=[B[$],V[$]]),P},{})}function W(V){return V.reduce(function(B,P){if(P.insert===1){var $=(0,C.default)(P.attributes);return delete $.image,B.insert({image:P.attributes.image},$)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,C.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var z=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(z,P.attributes)}return B.push(P)},new u.default)}n.default=R},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function T(F,I){var M=[],O=!0,k=!1,L=void 0;try{for(var N=F[Symbol.iterator](),R;!(O=(R=N.next()).done)&&(M.push(R.value),!(I&&M.length===I));O=!0);}catch(D){k=!0,L=D}finally{try{!O&&N.return&&N.return()}finally{if(k)throw L}}return M}return function(F,I){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return T(F,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(F,I){for(var M=0;M<I.length;M++){var O=I[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}return function(F,I,M){return I&&T(F.prototype,I),M&&T(F,M),F}}(),l=a(0),s=y(l),u=a(21),c=y(u),f=a(11),h=y(f),d=a(8),p=y(d),v=a(10),g=y(v);function y(T){return T&&T.__esModule?T:{default:T}}function m(T){if(Array.isArray(T)){for(var F=0,I=Array(T.length);F<T.length;F++)I[F]=T[F];return I}else return Array.from(T)}function b(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")}var x=(0,g.default)("quill:selection"),w=function T(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,T),this.index=F,this.length=I},S=function(){function T(F,I){var M=this;b(this,T),this.emitter=I,this.scroll=F,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){M.mouseDown||setTimeout(M.update.bind(M,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(O,k){O===p.default.events.TEXT_CHANGE&&k.length()>0&&M.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(M.hasFocus()){var O=M.getNativeRange();O!=null&&O.start.node!==M.cursor.textNode&&M.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{M.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(O,k){if(k.range){var L=k.range,N=L.startNode,R=L.startOffset,D=L.endNode,W=L.endOffset;M.setNativeRange(N,R,D,W)}}),this.update(p.default.sources.SILENT)}return o(T,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var M=I.cursor.restore();if(!M)return;setTimeout(function(){I.setNativeRange(M.startNode,M.startOffset,M.endNode,M.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,M){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||s.default.query(I,s.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var k=s.default.find(O.start.node,!1);if(k==null)return;if(k instanceof s.default.Leaf){var L=k.split(O.start.offset);k.parent.insertBefore(this.cursor,L)}else k.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(I,M),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();I=Math.min(I,O-1),M=Math.min(I+M,O-1)-I;var k=void 0,L=this.scroll.leaf(I),N=i(L,2),R=N[0],D=N[1];if(R==null)return null;var W=R.position(D,!0),V=i(W,2);k=V[0],D=V[1];var B=document.createRange();if(M>0){B.setStart(k,D);var P=this.scroll.leaf(I+M),$=i(P,2);if(R=$[0],D=$[1],R==null)return null;var z=R.position(D,!0),Y=i(z,2);return k=Y[0],D=Y[1],B.setEnd(k,D),B.getBoundingClientRect()}else{var q="left",_=void 0;return k instanceof Text?(D<k.data.length?(B.setStart(k,D),B.setEnd(k,D+1)):(B.setStart(k,D-1),B.setEnd(k,D),q="right"),_=B.getBoundingClientRect()):(_=R.domNode.getBoundingClientRect(),D>0&&(q="right")),{bottom:_.top+_.height,height:_.height,left:_[q],right:_[q],top:_.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var M=I.getRangeAt(0);if(M==null)return null;var O=this.normalizeNative(M);return x.info("getNativeRange",O),O}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var M=this.normalizedToRange(I);return[M,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var M=this,O=[[I.start.node,I.start.offset]];I.native.collapsed||O.push([I.end.node,I.end.offset]);var k=O.map(function(R){var D=i(R,2),W=D[0],V=D[1],B=s.default.find(W,!0),P=B.offset(M.scroll);return V===0?P:B instanceof s.default.Container?P+B.length():P+B.index(W,V)}),L=Math.min(Math.max.apply(Math,m(k)),this.scroll.length()-1),N=Math.min.apply(Math,[L].concat(m(k)));return new w(N,L-N)}},{key:"normalizeNative",value:function(I){if(!C(this.root,I.startContainer)||!I.collapsed&&!C(this.root,I.endContainer))return null;var M={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[M.start,M.end].forEach(function(O){for(var k=O.node,L=O.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>L)k=k.childNodes[L],L=0;else if(k.childNodes.length===L)k=k.lastChild,L=k instanceof Text?k.data.length:k.childNodes.length+1;else break;O.node=k,O.offset=L}),M}},{key:"rangeToNative",value:function(I){var M=this,O=I.collapsed?[I.index]:[I.index,I.index+I.length],k=[],L=this.scroll.length();return O.forEach(function(N,R){N=Math.min(L-1,N);var D=void 0,W=M.scroll.leaf(N),V=i(W,2),B=V[0],P=V[1],$=B.position(P,R!==0),z=i($,2);D=z[0],P=z[1],k.push(D,P)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(I){var M=this.lastRange;if(M!=null){var O=this.getBounds(M.index,M.length);if(O!=null){var k=this.scroll.length()-1,L=this.scroll.line(Math.min(M.index,k)),N=i(L,1),R=N[0],D=R;if(M.length>0){var W=this.scroll.line(Math.min(M.index+M.length,k)),V=i(W,1);D=V[0]}if(!(R==null||D==null)){var B=I.getBoundingClientRect();O.top<B.top?I.scrollTop-=B.top-O.top:O.bottom>B.bottom&&(I.scrollTop+=O.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(I,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",I,M,O,k),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||O.parentNode==null))){var N=document.getSelection();if(N!=null)if(I!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||L||I!==R.startContainer||M!==R.startOffset||O!==R.endContainer||k!==R.endOffset){I.tagName=="BR"&&(M=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),O.tagName=="BR"&&(k=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var D=document.createRange();D.setStart(I,M),D.setEnd(O,k),N.removeAllRanges(),N.addRange(D)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof M=="string"&&(O=M,M=!1),x.info("setRange",I),I!=null){var k=this.rangeToNative(I);this.setNativeRange.apply(this,m(k).concat([M]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.lastRange,O=this.getRange(),k=i(O,2),L=k[0],N=k[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(M,this.lastRange)){var R;!this.composing&&N!=null&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(M),I];if((R=this.emitter).emit.apply(R,[p.default.events.EDITOR_CHANGE].concat(D)),I!==p.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,D)}}}}]),T}();function C(T,F){try{F.parentNode}catch{return!1}return F instanceof Text&&(F=F.parentNode),T.contains(F)}n.Range=w,n.default=S},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}}(),o=function p(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:p(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(0),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(y,m){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(s.default.Embed);d.blotName="break",d.tagName="BR",n.default=d},function(t,n,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),s=a(1),u=function(f){i(h,f);function h(d){var p=f.call(this,d)||this;return p.build(),p}return h.prototype.appendChild=function(d){this.insertBefore(d)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},h.prototype.build=function(){var d=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var v=c(p);d.insertBefore(v,d.children.head||void 0)}catch(g){if(g instanceof s.ParchmentError)return;throw g}})},h.prototype.deleteAt=function(d,p){if(d===0&&p===this.length())return this.remove();this.children.forEachAt(d,p,function(v,g,y){v.deleteAt(g,y)})},h.prototype.descendant=function(d,p){var v=this.children.find(p),g=v[0],y=v[1];return d.blotName==null&&d(g)||d.blotName!=null&&g instanceof d?[g,y]:g instanceof h?g.descendant(d,y):[null,-1]},h.prototype.descendants=function(d,p,v){p===void 0&&(p=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],y=v;return this.children.forEachAt(p,v,function(m,b,x){(d.blotName==null&&d(m)||d.blotName!=null&&m instanceof d)&&g.push(m),m instanceof h&&(g=g.concat(m.descendants(d,b,y))),y-=x}),g},h.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(d,p,v,g){this.children.forEachAt(d,p,function(y,m,b){y.formatAt(m,b,v,g)})},h.prototype.insertAt=function(d,p,v){var g=this.children.find(d),y=g[0],m=g[1];if(y)y.insertAt(m,p,v);else{var b=v==null?s.create("text",p):s.create(p,v);this.appendChild(b)}},h.prototype.insertBefore=function(d,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new s.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,p)},h.prototype.length=function(){return this.children.reduce(function(d,p){return d+p.length()},0)},h.prototype.moveChildren=function(d,p){this.children.forEach(function(v){d.insertBefore(v,p)})},h.prototype.optimize=function(d){if(f.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var p=s.create(this.statics.defaultChild);this.appendChild(p),p.optimize(d)}else this.remove()},h.prototype.path=function(d,p){p===void 0&&(p=!1);var v=this.children.find(d,p),g=v[0],y=v[1],m=[[this,d]];return g instanceof h?m.concat(g.path(y,p)):(g!=null&&m.push([g,y]),m)},h.prototype.removeChild=function(d){this.children.remove(d)},h.prototype.replace=function(d){d instanceof h&&d.moveChildren(this),f.prototype.replace.call(this,d)},h.prototype.split=function(d,p){if(p===void 0&&(p=!1),!p){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(g,y,m){g=g.split(y,p),v.appendChild(g)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(d,p){var v=this,g=[],y=[];d.forEach(function(m){m.target===v.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=s.find(m);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===v.domNode)&&b.detach()}}),g.filter(function(m){return m.parentNode==v.domNode}).sort(function(m,b){return m===b?0:m.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var b=null;m.nextSibling!=null&&(b=s.find(m.nextSibling));var x=c(m);(x.next!=b||x.next==null)&&(x.parent!=null&&x.parent.removeChild(v),v.insertBefore(x,b||void 0))})},h}(l.default);function c(f){var h=s.find(f);if(h==null)try{h=s.create(f)}catch{h=s.create(s.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(p){h.domNode.appendChild(p)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),s=a(17),u=a(1),c=function(f){i(h,f);function h(d){var p=f.call(this,d)||this;return p.attributes=new l.default(p.domNode),p}return h.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},h.prototype.format=function(d,p){var v=u.query(d);v instanceof o.default?this.attributes.attribute(v,p):p&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==p)&&this.replaceWith(d,p)},h.prototype.formats=function(){var d=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(d[this.statics.blotName]=p),d},h.prototype.replaceWith=function(d,p){var v=f.prototype.replaceWith.call(this,d,p);return this.attributes.copy(v),v},h.prototype.update=function(d,p){var v=this;f.prototype.update.call(this,d,p),d.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(d,p){var v=f.prototype.wrap.call(this,d,p);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(s.default);n.default=c},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),s=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(f,h){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=s},function(t,n,a){var i=a(11),o=a(3),l={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=o(!0,{},c);f||(h=Object.keys(h).reduce(function(p,v){return h[v]!=null&&(p[v]=h[v]),p},{}));for(var d in u)u[d]!==void 0&&c[d]===void 0&&(h[d]=u[d]);return Object.keys(h).length>0?h:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(h,d){return i(u[d],c[d])||(h[d]=c[d]===void 0?null:c[d]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var h=Object.keys(c).reduce(function(d,p){return u[p]===void 0&&(d[p]=c[p]),d},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new s(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function s(u){this.ops=u,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,h=l.length(c);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=u:typeof c.insert=="string"?d.insert=c.insert.substr(f,u):d.insert=c.insert,d}else return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(h)}else return[]},t.exports=l},function(t,n){var a=function(){function i(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var s;try{s=Promise}catch{s=function(){}}function u(v,g,y,m,b){typeof g=="object"&&(y=g.depth,m=g.prototype,b=g.includeNonEnumerable,g=g.circular);var x=[],w=[],S=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function C(T,F){if(T===null)return null;if(F===0)return T;var I,M;if(typeof T!="object")return T;if(i(T,o))I=new o;else if(i(T,l))I=new l;else if(i(T,s))I=new s(function(B,P){T.then(function($){B(C($,F-1))},function($){P(C($,F-1))})});else if(u.__isArray(T))I=[];else if(u.__isRegExp(T))I=new RegExp(T.source,p(T)),T.lastIndex&&(I.lastIndex=T.lastIndex);else if(u.__isDate(T))I=new Date(T.getTime());else{if(S&&Buffer.isBuffer(T))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(T.length):I=new Buffer(T.length),T.copy(I),I;i(T,Error)?I=Object.create(T):typeof m>"u"?(M=Object.getPrototypeOf(T),I=Object.create(M)):(I=Object.create(m),M=m)}if(g){var O=x.indexOf(T);if(O!=-1)return w[O];x.push(T),w.push(I)}i(T,o)&&T.forEach(function(B,P){var $=C(P,F-1),z=C(B,F-1);I.set($,z)}),i(T,l)&&T.forEach(function(B){var P=C(B,F-1);I.add(P)});for(var k in T){var L;M&&(L=Object.getOwnPropertyDescriptor(M,k)),!(L&&L.set==null)&&(I[k]=C(T[k],F-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(T),k=0;k<N.length;k++){var R=N[k],D=Object.getOwnPropertyDescriptor(T,R);D&&!D.enumerable&&!b||(I[R]=C(T[R],F-1),D.enumerable||Object.defineProperty(I,R,{enumerable:!1}))}if(b)for(var W=Object.getOwnPropertyNames(T),k=0;k<W.length;k++){var V=W[k],D=Object.getOwnPropertyDescriptor(T,V);D&&D.enumerable||(I[V]=C(T[V],F-1),Object.defineProperty(I,V,{enumerable:!1}))}return I}return C(v,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function c(v){return Object.prototype.toString.call(v)}u.__objToStr=c;function f(v){return typeof v=="object"&&c(v)==="[object Date]"}u.__isDate=f;function h(v){return typeof v=="object"&&c(v)==="[object Array]"}u.__isArray=h;function d(v){return typeof v=="object"&&c(v)==="[object RegExp]"}u.__isRegExp=d;function p(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return u.__getRegExpFlags=p,u}();typeof t=="object"&&t.exports&&(t.exports=a)},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function I(M,O){var k=[],L=!0,N=!1,R=void 0;try{for(var D=M[Symbol.iterator](),W;!(L=(W=D.next()).done)&&(k.push(W.value),!(O&&k.length===O));L=!0);}catch(V){N=!0,R=V}finally{try{!L&&D.return&&D.return()}finally{if(N)throw R}}return k}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(M,O){for(var k=0;k<O.length;k++){var L=O[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,k){return O&&I(M.prototype,O),k&&I(M,k),M}}(),l=function I(M,O,k){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,O);if(L===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:I(N,O,k)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(k)}},s=a(0),u=x(s),c=a(8),f=x(c),h=a(4),d=x(h),p=a(16),v=x(p),g=a(13),y=x(g),m=a(25),b=x(m);function x(I){return I&&I.__esModule?I:{default:I}}function w(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function S(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function C(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}function T(I){return I instanceof d.default||I instanceof h.BlockEmbed}var F=function(I){C(M,I);function M(O,k){w(this,M);var L=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O));return L.emitter=k.emitter,Array.isArray(k.whitelist)&&(L.whitelist=k.whitelist.reduce(function(N,R){return N[R]=!0,N},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(M,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,L){var N=this.line(k),R=i(N,2),D=R[0],W=R[1],V=this.line(k+L),B=i(V,1),P=B[0];if(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,k,L),P!=null&&D!==P&&W>0){if(D instanceof h.BlockEmbed||P instanceof h.BlockEmbed){this.optimize();return}if(D instanceof y.default){var $=D.newlineIndex(D.length(),!0);if($>-1&&(D=D.split($+1),D===P)){this.optimize();return}}else if(P instanceof y.default){var z=P.newlineIndex(0);z>-1&&P.split(z+1)}var Y=P.children.head instanceof v.default?null:P.children.head;D.moveChildren(P,Y),D.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,L,N,R){this.whitelist!=null&&!this.whitelist[N]||(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,k,L,N,R),this.optimize())}},{key:"insertAt",value:function(k,L,N){if(!(N!=null&&this.whitelist!=null&&!this.whitelist[L])){if(k>=this.length())if(N==null||u.default.query(L,u.default.Scope.BLOCK)==null){var R=u.default.create(this.statics.defaultChild);this.appendChild(R),N==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),R.insertAt(0,L,N)}else{var D=u.default.create(L,N);this.appendChild(D)}else l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,k,L,N);this.optimize()}}},{key:"insertBefore",value:function(k,L){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var N=u.default.create(this.statics.defaultChild);N.appendChild(k),k=N}l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,k,L)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(T,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,N=function R(D,W,V){var B=[],P=V;return D.children.forEachAt(W,V,function($,z,Y){T($)?B.push($):$ instanceof u.default.Container&&(B=B.concat(R($,z,P))),P-=Y}),B};return N(this,k,L)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,k,L),k.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,k,L))}},{key:"path",value:function(k){return l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var L=f.default.sources.USER;typeof k=="string"&&(L=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,L,k),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,L,k)}}}]),M}(u.default.Scroll);F.blotName="scroll",F.className="ql-editor",F.tagName="DIV",F.defaultChild="block",F.allowedChildren=[d.default,h.BlockEmbed,b.default],n.default=F},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(G,X){var K=[],tt=!0,et=!1,vt=void 0;try{for(var st=G[Symbol.iterator](),yt;!(tt=(yt=st.next()).done)&&(K.push(yt.value),!(X&&K.length===X));tt=!0);}catch(kt){et=!0,vt=kt}finally{try{!tt&&st.return&&st.return()}finally{if(et)throw vt}}return K}return function(G,X){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return _(G,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function _(G,X){for(var K=0;K<X.length;K++){var tt=X[K];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(G,tt.key,tt)}}return function(G,X,K){return X&&_(G.prototype,X),K&&_(G,K),G}}(),s=a(21),u=I(s),c=a(11),f=I(c),h=a(3),d=I(h),p=a(2),v=I(p),g=a(20),y=I(g),m=a(0),b=I(m),x=a(5),w=I(x),S=a(10),C=I(S),T=a(9),F=I(T);function I(_){return _&&_.__esModule?_:{default:_}}function M(_,G,X){return G in _?Object.defineProperty(_,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):_[G]=X,_}function O(_,G){if(!(_ instanceof G))throw new TypeError("Cannot call a class as a function")}function k(_,G){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:_}function L(_,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);_.prototype=Object.create(G&&G.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(_,G):_.__proto__=G)}var N=(0,C.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(_){L(G,_),l(G,null,[{key:"match",value:function(K,tt){return tt=q(tt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(et){return!!tt[et]!==K[et]&&tt[et]!==null})?!1:tt.key===(K.which||K.keyCode)}}]);function G(X,K){O(this,G);var tt=k(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,K));return tt.bindings={},Object.keys(tt.options.bindings).forEach(function(et){et==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||tt.options.bindings[et]&&tt.addBinding(tt.options.bindings[et])}),tt.addBinding({key:G.keys.ENTER,shiftKey:null},$),tt.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(tt.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},V),tt.addBinding({key:G.keys.DELETE},{collapsed:!0},B)):(tt.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},V),tt.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),tt.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},P),tt.addBinding({key:G.keys.DELETE},{collapsed:!1},P),tt.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},V),tt.listen(),tt}return l(G,[{key:"addBinding",value:function(K){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vt=q(K);if(vt==null||vt.key==null)return N.warn("Attempted to add invalid keyboard binding",vt);typeof tt=="function"&&(tt={handler:tt}),typeof et=="function"&&(et={handler:et}),vt=(0,d.default)(vt,tt,et),this.bindings[vt.key]=this.bindings[vt.key]||[],this.bindings[vt.key].push(vt)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(tt){if(!tt.defaultPrevented){var et=tt.which||tt.keyCode,vt=(K.bindings[et]||[]).filter(function(Se){return G.match(tt,Se)});if(vt.length!==0){var st=K.quill.getSelection();if(!(st==null||!K.quill.hasFocus())){var yt=K.quill.getLine(st.index),kt=o(yt,2),Yt=kt[0],ne=kt[1],rt=K.quill.getLeaf(st.index),nt=o(rt,2),ft=nt[0],dt=nt[1],ot=st.length===0?[ft,dt]:K.quill.getLeaf(st.index+st.length),Mt=o(ot,2),Ot=Mt[0],Pt=Mt[1],Tr=ft instanceof b.default.Text?ft.value().slice(0,dt):"",En=Ot instanceof b.default.Text?Ot.value().slice(Pt):"",ue={collapsed:st.length===0,empty:st.length===0&&Yt.length()<=1,format:K.quill.getFormat(st),offset:ne,prefix:Tr,suffix:En},MO=vt.some(function(Se){if(Se.collapsed!=null&&Se.collapsed!==ue.collapsed||Se.empty!=null&&Se.empty!==ue.empty||Se.offset!=null&&Se.offset!==ue.offset)return!1;if(Array.isArray(Se.format)){if(Se.format.every(function(Wn){return ue.format[Wn]==null}))return!1}else if(i(Se.format)==="object"&&!Object.keys(Se.format).every(function(Wn){return Se.format[Wn]===!0?ue.format[Wn]!=null:Se.format[Wn]===!1?ue.format[Wn]==null:(0,f.default)(Se.format[Wn],ue.format[Wn])}))return!1;return Se.prefix!=null&&!Se.prefix.test(ue.prefix)||Se.suffix!=null&&!Se.suffix.test(ue.suffix)?!1:Se.handler.call(K,st,ue)!==!0});MO&&tt.preventDefault()}}}})}}]),G}(F.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(G,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,X){X.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,w.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(G){this.quill.history.cutoff();var X=new v.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(X,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,w.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,X){this.quill.format("list",!1,w.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var X=this.quill.getLine(G.index),K=o(X,2),tt=K[0],et=K[1],vt=(0,d.default)({},tt.formats(),{list:"checked"}),st=new v.default().retain(G.index).insert(`
`,vt).retain(tt.length()-et-1).retain(1,{list:"unchecked"});this.quill.updateContents(st,w.default.sources.USER),this.quill.setSelection(G.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,X){var K=this.quill.getLine(G.index),tt=o(K,2),et=tt[0],vt=tt[1],st=new v.default().retain(G.index).insert(`
`,X.format).retain(et.length()-vt-1).retain(1,{header:null});this.quill.updateContents(st,w.default.sources.USER),this.quill.setSelection(G.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,X){var K=X.prefix.length,tt=this.quill.getLine(G.index),et=o(tt,2),vt=et[0],st=et[1];if(st>K)return!0;var yt=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":yt="unchecked";break;case"[x]":yt="checked";break;case"-":case"*":yt="bullet";break;default:yt="ordered"}this.quill.insertText(G.index," ",w.default.sources.USER),this.quill.history.cutoff();var kt=new v.default().retain(G.index-st).delete(K+1).retain(vt.length()-2-st).retain(1,{list:yt});this.quill.updateContents(kt,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-K,w.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var X=this.quill.getLine(G.index),K=o(X,2),tt=K[0],et=K[1],vt=new v.default().retain(G.index+tt.length()-et-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(vt,w.default.sources.USER)}},"embed left":W(D.keys.LEFT,!1),"embed left shift":W(D.keys.LEFT,!0),"embed right":W(D.keys.RIGHT,!1),"embed right shift":W(D.keys.RIGHT,!0)}};function W(_,G){var X,K=_===D.keys.LEFT?"prefix":"suffix";return X={key:_,shiftKey:G,altKey:null},M(X,K,/^$/),M(X,"handler",function(et){var vt=et.index;_===D.keys.RIGHT&&(vt+=et.length+1);var st=this.quill.getLeaf(vt),yt=o(st,1),kt=yt[0];return kt instanceof b.default.Embed?(_===D.keys.LEFT?G?this.quill.setSelection(et.index-1,et.length+1,w.default.sources.USER):this.quill.setSelection(et.index-1,w.default.sources.USER):G?this.quill.setSelection(et.index,et.length+1,w.default.sources.USER):this.quill.setSelection(et.index+et.length+1,w.default.sources.USER),!1):!0}),X}function V(_,G){if(!(_.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(_.index),K=o(X,1),tt=K[0],et={};if(G.offset===0){var vt=this.quill.getLine(_.index-1),st=o(vt,1),yt=st[0];if(yt!=null&&yt.length()>1){var kt=tt.formats(),Yt=this.quill.getFormat(_.index-1,1);et=y.default.attributes.diff(kt,Yt)||{}}}var ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(_.index-ne,ne,w.default.sources.USER),Object.keys(et).length>0&&this.quill.formatLine(_.index-ne,ne,et,w.default.sources.USER),this.quill.focus()}}function B(_,G){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(_.index>=this.quill.getLength()-X)){var K={},tt=0,et=this.quill.getLine(_.index),vt=o(et,1),st=vt[0];if(G.offset>=st.length()-1){var yt=this.quill.getLine(_.index+1),kt=o(yt,1),Yt=kt[0];if(Yt){var ne=st.formats(),rt=this.quill.getFormat(_.index,1);K=y.default.attributes.diff(ne,rt)||{},tt=Yt.length()}}this.quill.deleteText(_.index,X,w.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(_.index+tt-1,X,K,w.default.sources.USER)}}function P(_){var G=this.quill.getLines(_),X={};if(G.length>1){var K=G[0].formats(),tt=G[G.length-1].formats();X=y.default.attributes.diff(tt,K)||{}}this.quill.deleteText(_,w.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(_.index,1,X,w.default.sources.USER),this.quill.setSelection(_.index,w.default.sources.SILENT),this.quill.focus()}function $(_,G){var X=this;_.length>0&&this.quill.scroll.deleteAt(_.index,_.length);var K=Object.keys(G.format).reduce(function(tt,et){return b.default.query(et,b.default.Scope.BLOCK)&&!Array.isArray(G.format[et])&&(tt[et]=G.format[et]),tt},{});this.quill.insertText(_.index,`
`,K,w.default.sources.USER),this.quill.setSelection(_.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(tt){K[tt]==null&&(Array.isArray(G.format[tt])||tt!=="link"&&X.quill.format(tt,G.format[tt],w.default.sources.USER))})}function z(_){return{key:D.keys.TAB,shiftKey:!_,format:{"code-block":!0},handler:function(X){var K=b.default.query("code-block"),tt=X.index,et=X.length,vt=this.quill.scroll.descendant(K,tt),st=o(vt,2),yt=st[0],kt=st[1];if(yt!=null){var Yt=this.quill.getIndex(yt),ne=yt.newlineIndex(kt,!0)+1,rt=yt.newlineIndex(Yt+kt+et),nt=yt.domNode.textContent.slice(ne,rt).split(`
`);kt=0,nt.forEach(function(ft,dt){_?(yt.insertAt(ne+kt,K.TAB),kt+=K.TAB.length,dt===0?tt+=K.TAB.length:et+=K.TAB.length):ft.startsWith(K.TAB)&&(yt.deleteAt(ne+kt,K.TAB.length),kt-=K.TAB.length,dt===0?tt-=K.TAB.length:et-=K.TAB.length),kt+=ft.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(tt,et,w.default.sources.SILENT)}}}}function Y(_){return{key:_[0].toUpperCase(),shortKey:!0,handler:function(X,K){this.quill.format(_,!K.format[_],w.default.sources.USER)}}}function q(_){if(typeof _=="string"||typeof _=="number")return q({key:_});if((typeof _>"u"?"undefined":i(_))==="object"&&(_=(0,u.default)(_,!1)),typeof _.key=="string")if(D.keys[_.key.toUpperCase()]!=null)_.key=D.keys[_.key.toUpperCase()];else if(_.key.length===1)_.key=_.key.toUpperCase().charCodeAt(0);else return null;return _.shortKey&&(_[R]=_.shortKey,delete _.shortKey),_}n.default=D,n.SHORTKEY=R},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(m,b){var x=[],w=!0,S=!1,C=void 0;try{for(var T=m[Symbol.iterator](),F;!(w=(F=T.next()).done)&&(x.push(F.value),!(b&&x.length===b));w=!0);}catch(I){S=!0,C=I}finally{try{!w&&T.return&&T.return()}finally{if(S)throw C}}return x}return function(m,b){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(x)}},l=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),s=a(0),u=h(s),c=a(7),f=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){v(m,y),l(m,null,[{key:"value",value:function(){}}]);function m(b,x){d(this,m);var w=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return w.selection=x,w.textNode=document.createTextNode(m.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return l(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,w){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,w);for(var S=this,C=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)C+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=m.CONTENTS.length,S.optimize(),S.formatAt(C,m.CONTENTS.length,x,w),this._length=0)}},{key:"index",value:function(x,w){return x===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,w=this.selection.getNativeRange(),S=void 0,C=void 0,T=void 0;if(w!=null&&w.start.node===x&&w.end.node===x){var F=[x,w.start.offset,w.end.offset];S=F[0],C=F[1],T=F[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var I=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(S=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=m.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),C!=null){var M=[C,T].map(function(k){return Math.max(0,Math.min(S.data.length,k-1))}),O=i(M,2);return C=O[0],T=O[1],{startNode:S,startOffset:C,endNode:S,endOffset:T}}}}},{key:"update",value:function(x,w){var S=this;if(x.some(function(T){return T.type==="characterData"&&T.target===S.textNode})){var C=this.restore();C&&(w.range=C)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=u(i),l=a(4),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);d.allowedChildren=[s.default,l.BlockEmbed,d],n.default=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(0),s=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){h(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"value",value:function(b){var x=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):x}}]),y}(s.default.Attributor.Style),p=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),v=new d("color","color",{scope:s.default.Scope.INLINE});n.ColorAttributor=d,n.ColorClass=p,n.ColorStyle=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function v(g,y){for(var m=0;m<y.length;m++){var b=y[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:v(x,y,m)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(m)}},l=a(6),s=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var d=function(v){h(g,v);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(m,b){if(m!==this.statics.blotName||!b)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(m){var b=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),b.setAttribute("href",m),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return p(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(s.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(v,g){var y=document.createElement("a");y.href=v;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=d,n.sanitize=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),l=a(23),s=f(l),u=a(107),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var d=0;function p(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var v=function(){function g(y){var m=this;h(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case s.default.keys.ENTER:m.togglePicker();break;case s.default.keys.ESCAPE:m.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var b=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),m.hasAttribute("value")&&x.setAttribute("data-value",m.getAttribute("value")),m.textContent&&x.setAttribute("data-label",m.textContent),x.addEventListener("click",function(){b.selectItem(x,!0)}),x.addEventListener("keydown",function(w){switch(w.keyCode){case s.default.keys.ENTER:b.selectItem(x,!0),w.preventDefault();break;case s.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(x){var w=m.buildItem(x);b.appendChild(w),x.selected===!0&&m.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(b){m.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(m!==x&&(x!=null&&x.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var x=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),g}();n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=N(i),l=a(5),s=N(l),u=a(4),c=N(u),f=a(16),h=N(f),d=a(25),p=N(d),v=a(24),g=N(v),y=a(35),m=N(y),b=a(6),x=N(b),w=a(22),S=N(w),C=a(7),T=N(C),F=a(55),I=N(F),M=a(42),O=N(M),k=a(23),L=N(k);function N(R){return R&&R.__esModule?R:{default:R}}s.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":p.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":x.default,"blots/scroll":S.default,"blots/text":T.default,"modules/clipboard":I.default,"modules/history":O.default,"modules/keyboard":L.default}),o.default.register(c.default,h.default,g.default,x.default,S.default,T.default),n.default=s.default},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(s){this.domNode=s,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(s){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),typeof s=="number"?u=document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?u=document.createElement(s):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return i.create(s)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(s,u){var c=this.isolate(s,u);c.remove()},l.prototype.formatAt=function(s,u,c,f){var h=this.isolate(s,u);if(i.query(c,i.Scope.BLOT)!=null&&f)h.wrap(c,f);else if(i.query(c,i.Scope.ATTRIBUTE)!=null){var d=i.create(this.statics.scope);h.wrap(d),d.format(c,f)}},l.prototype.insertAt=function(s,u,c){var f=c==null?i.create("text",u):i.create(u,c),h=this.split(s);this.parent.insertBefore(f,h)},l.prototype.insertInto=function(s,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;s.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=c)&&s.domNode.insertBefore(this.domNode,c),this.parent=s,this.attach()},l.prototype.isolate=function(s,u){var c=this.split(s);return c.split(u),c},l.prototype.length=function(){return 1},l.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},l.prototype.optimize=function(s){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},l.prototype.replaceWith=function(s,u){var c=typeof s=="string"?i.create(s,u):s;return c.replace(this),c},l.prototype.split=function(s,u){return s===0?this:this.next},l.prototype.update=function(s,u){},l.prototype.wrap=function(s,u){var c=typeof s=="string"?i.create(s,u):s;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},l.blotName="abstract",l}();n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(12),o=a(32),l=a(33),s=a(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var h=i.default.keys(this.domNode),d=o.default.keys(this.domNode),p=l.default.keys(this.domNode);h.concat(d).concat(p).forEach(function(v){var g=s.query(v,s.Scope.ATTRIBUTE);g instanceof i.default&&(f.attributes[g.attrName]=g)})},c.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(d){var p=h.attributes[d].value(h.domNode);f.format(d,p)})},c.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(d){h.attributes[d].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,d){return h[d]=f.attributes[d].value(f.domNode),h},{})},c}();n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var s=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(f){var h=l(f,this.keyName);h.forEach(function(d){f.classList.remove(d)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var h=l(f,this.keyName)[0]||"",d=h.slice(this.keyName.length+1);return this.canAdd(f,d)?d:""},c}(o.default);n.default=s},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u){var c=u.split("-"),f=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+f}var s=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var d=h.split(":");return d[0].trim()})},c.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[l(this.keyName)]=h,!0):!1},c.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var h=f.style[l(this.keyName)];return this.canAdd(f,h)?h:""},c}(o.default);n.default=s},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&s(u.prototype,c),f&&s(u,f),u}}();function o(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(u,c){o(this,s),this.quill=u,this.options=c,this.modules={}}return i(s,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),s}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(x)}},l=a(0),s=f(l),u=a(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function p(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var v="\uFEFF",g=function(y){p(m,y);function m(b){h(this,m);var x=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(w){x.contentNode.appendChild(w)}),x.leftGuard=document.createTextNode(v),x.rightGuard=document.createTextNode(v),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return i(m,[{key:"index",value:function(x,w){return x===this.leftGuard?0:x===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,w)}},{key:"restore",value:function(x){var w=void 0,S=void 0,C=x.data.split(v).join("");if(x===this.leftGuard)if(this.prev instanceof c.default){var T=this.prev.length();this.prev.insertAt(T,C),w={startNode:this.prev.domNode,startOffset:T+C.length}}else S=document.createTextNode(C),this.parent.insertBefore(s.default.create(S),this),w={startNode:S,startOffset:C.length};else x===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,C),w={startNode:this.next.domNode,startOffset:C.length}):(S=document.createTextNode(C),this.parent.insertBefore(s.default.create(S),this.next),w={startNode:S,startOffset:C.length}));return x.data=v,w}},{key:"update",value:function(x,w){var S=this;x.forEach(function(C){if(C.type==="characterData"&&(C.target===S.leftGuard||C.target===S.rightGuard)){var T=S.restore(C.target);T&&(w.range=T)}})}}]),m}(s.default.Embed);n.default=g},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",s),c=new o.default.Attributor.Class("align","ql-align",s),f=new o.default.Attributor.Style("align","text-align",s);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=a(0),o=s(i),l=a(26);function s(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",s),c=new o.default.Attributor.Class("direction","ql-direction",s),f=new o.default.Attributor.Style("direction","direction",s);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(x)}},l=a(0),s=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var d={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new s.default.Attributor.Class("font","ql-font",d),v=function(y){h(m,y);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"value",value:function(x){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),m}(s.default.Attributor.Style),g=new v("font","font-family",d);n.FontStyle=g,n.FontClass=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=a(0),o=l(i);function l(c){return c&&c.__esModule?c:{default:c}}var s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=s,n.SizeStyle=u},function(t,n,a){t.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function b(x,w){for(var S=0;S<w.length;S++){var C=w[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,w,S){return w&&b(x.prototype,w),S&&b(x,S),x}}(),o=a(0),l=h(o),s=a(5),u=h(s),c=a(9),f=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function p(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g=function(b){v(x,b);function x(w,S){d(this,x);var C=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,S));return C.lastRecorded=0,C.ignoreChange=!1,C.clear(),C.quill.on(u.default.events.EDITOR_CHANGE,function(T,F,I,M){T!==u.default.events.TEXT_CHANGE||C.ignoreChange||(!C.options.userOnly||M===u.default.sources.USER?C.record(F,I):C.transform(F))}),C.quill.keyboard.addBinding({key:"Z",shortKey:!0},C.undo.bind(C)),C.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},C.redo.bind(C)),/Win/i.test(navigator.platform)&&C.quill.keyboard.addBinding({key:"Y",shortKey:!0},C.redo.bind(C)),C}return i(x,[{key:"change",value:function(S,C){if(this.stack[S].length!==0){var T=this.stack[S].pop();this.stack[C].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[S],u.default.sources.USER),this.ignoreChange=!1;var F=m(T[S]);this.quill.setSelection(F)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,C){if(S.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(C),F=Date.now();if(this.lastRecorded+this.options.delay>F&&this.stack.undo.length>0){var I=this.stack.undo.pop();T=T.compose(I.undo),S=I.redo.compose(S)}else this.lastRecorded=F;this.stack.undo.push({redo:S,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(C){C.undo=S.transform(C.undo,!0),C.redo=S.transform(C.redo,!0)}),this.stack.redo.forEach(function(C){C.undo=S.transform(C.undo,!0),C.redo=S.transform(C.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var x=b.ops[b.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(w){return l.default.query(w,l.default.Scope.BLOCK)!=null}):!1}function m(b){var x=b.reduce(function(S,C){return S+=C.delete||0,S},0),w=b.length()-x;return y(b)&&(w-=1),w}n.default=g,n.getLastChangeIndex=m},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function $(z,Y){for(var q=0;q<Y.length;q++){var _=Y[q];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(z,_.key,_)}}return function(z,Y,q){return Y&&$(z.prototype,Y),q&&$(z,q),z}}(),o=function $(z,Y,q){z===null&&(z=Function.prototype);var _=Object.getOwnPropertyDescriptor(z,Y);if(_===void 0){var G=Object.getPrototypeOf(z);return G===null?void 0:$(G,Y,q)}else{if("value"in _)return _.value;var X=_.get;return X===void 0?void 0:X.call(q)}},l=a(3),s=F(l),u=a(2),c=F(u),f=a(8),h=F(f),d=a(23),p=F(d),v=a(34),g=F(v),y=a(59),m=F(y),b=a(60),x=F(b),w=a(28),S=F(w),C=a(61),T=F(C);function F($){return $&&$.__esModule?$:{default:$}}function I($,z){if(!($ instanceof z))throw new TypeError("Cannot call a class as a function")}function M($,z){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:$}function O($,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);$.prototype=Object.create(z&&z.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf($,z):$.__proto__=z)}var k=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],R=["1","2","3",!1],D=["small",!1,"large","huge"],W=function($){O(z,$);function z(Y,q){I(this,z);var _=M(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Y,q)),G=function X(K){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",X);_.tooltip!=null&&!_.tooltip.root.contains(K.target)&&document.activeElement!==_.tooltip.textbox&&!_.quill.hasFocus()&&_.tooltip.hide(),_.pickers!=null&&_.pickers.forEach(function(tt){tt.container.contains(K.target)||tt.close()})};return Y.emitter.listenDOM("click",document.body,G),_}return i(z,[{key:"addModule",value:function(q){var _=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(_),_}},{key:"buildButtons",value:function(q,_){q.forEach(function(G){var X=G.getAttribute("class")||"";X.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),_[K]!=null))if(K==="direction")G.innerHTML=_[K][""]+_[K].rtl;else if(typeof _[K]=="string")G.innerHTML=_[K];else{var tt=G.value||"";tt!=null&&_[K][tt]&&(G.innerHTML=_[K][tt])}})})}},{key:"buildPickers",value:function(q,_){var G=this;this.pickers=q.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&P(K,k),new x.default(K,_.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var tt=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&P(K,L,tt==="background"?"#ffffff":"#000000"),new m.default(K,_[tt])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?P(K,N):K.classList.contains("ql-header")?P(K,R):K.classList.contains("ql-size")&&P(K,D)),new S.default(K)});var X=function(){G.pickers.forEach(function(tt){tt.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,X)}}]),z}(g.default);W.DEFAULTS=(0,s.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var q=new FileReader;q.onload=function(_){var G=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(G.index).delete(G.length).insert({image:_.target.result}),h.default.sources.USER),z.quill.setSelection(G.index+1,h.default.sources.SILENT),Y.value=""},q.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var V=function($){O(z,$);function z(Y,q){I(this,z);var _=M(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Y,q));return _.textbox=_.root.querySelector('input[type="text"]'),_.listen(),_}return i(z,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(_){p.default.match(_,"enter")?(q.save(),_.preventDefault()):p.default.match(_,"escape")&&(q.cancel(),_.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),_!=null?this.textbox.value=_:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var _=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,h.default.sources.USER)),this.quill.root.scrollTop=_;break}case"video":q=B(q);case"formula":{if(!q)break;var G=this.quill.getSelection(!0);if(G!=null){var X=G.index+G.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",h.default.sources.USER),this.quill.setSelection(X+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(T.default);function B($){var z=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":$}function P($,z){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(q){var _=document.createElement("option");q===Y?_.setAttribute("selected","selected"):_.setAttribute("value",q),$.appendChild(_)})}n.BaseTooltip=V,n.default=W},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var s,u=this.iterator();s=u();)if(s===l)return!0;return!1},o.prototype.insertBefore=function(l,s){l&&(l.next=s,s!=null?(l.prev=s.prev,s.prev!=null&&(s.prev.next=l),s.prev=l,s===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var s=0,u=this.head;u!=null;){if(u===l)return s;s+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var s=l;return l!=null&&(l=l.next),s}},o.prototype.find=function(l,s){s===void 0&&(s=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(l<f||s&&l===f&&(u.next==null||u.next.length()!==0))return[u,l];l-=f}return[null,0]},o.prototype.forEach=function(l){for(var s,u=this.iterator();s=u();)l(s)},o.prototype.forEachAt=function(l,s,u){if(!(s<=0))for(var c=this.find(l),f=c[0],h=c[1],d,p=l-h,v=this.iterator(f);(d=v())&&p<l+s;){var g=d.length();l>p?u(d,l-p,Math.min(s,p+g-l)):u(d,0,Math.min(g,l+s-p)),p+=g}},o.prototype.map=function(l){return this.reduce(function(s,u){return s.push(l(u)),s},[])},o.prototype.reduce=function(l,s){for(var u,c=this.iterator();u=c();)s=l(s,u);return s},o}();n.default=i},function(t,n,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){i(h,f);function h(d){var p=f.call(this,d)||this;return p.scroll=p,p.observer=new MutationObserver(function(v){p.update(v)}),p.observer.observe(p.domNode,s),p.attach(),p}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(d,p){this.update(),d===0&&p===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,d,p)},h.prototype.formatAt=function(d,p,v,g){this.update(),f.prototype.formatAt.call(this,d,p,v,g)},h.prototype.insertAt=function(d,p,v){this.update(),f.prototype.insertAt.call(this,d,p,v)},h.prototype.optimize=function(d,p){var v=this;d===void 0&&(d=[]),p===void 0&&(p={}),f.prototype.optimize.call(this,p);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)d.push(g.pop());for(var y=function(w,S){S===void 0&&(S=!0),!(w==null||w===v)&&w.domNode.parentNode!=null&&(w.domNode[l.DATA_KEY].mutations==null&&(w.domNode[l.DATA_KEY].mutations=[]),S&&y(w.parent))},m=function(w){w.domNode[l.DATA_KEY]==null||w.domNode[l.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(m),w.optimize(p))},b=d,x=0;b.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var S=l.find(w.target,!0);S!=null&&(S.domNode===w.target&&(w.type==="childList"?(y(l.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(C){var T=l.find(C,!1);y(T,!1),T instanceof o.default&&T.children.forEach(function(F){y(F,!1)})})):w.type==="attributes"&&y(S.prev)),y(S))}),this.children.forEach(m),b=[].slice.call(this.observer.takeRecords()),g=b.slice();g.length>0;)d.push(g.pop())}},h.prototype.update=function(d,p){var v=this;p===void 0&&(p={}),d=d||this.observer.takeRecords(),d.map(function(g){var y=l.find(g.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[g],y):(y.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(d,p)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=c},function(t,n,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function s(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var h in c)if(c[h]!==f[h])return!1;return!0}var u=function(c){i(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return c.formats.call(this,h)},f.prototype.format=function(h,d){var p=this;h===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(f.blotName,!0)),p.attributes.copy(v)}),this.unwrap()):c.prototype.format.call(this,h,d)},f.prototype.formatAt=function(h,d,p,v){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var g=this.isolate(h,d);g.format(p,v)}else c.prototype.formatAt.call(this,h,d,p,v)},f.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var p=this.next;p instanceof f&&p.prev===this&&s(d,p.formats())&&(p.moveChildren(this),p.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),s=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var h=l.query(c.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},c.prototype.format=function(f,h){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(c.blotName):u.prototype.format.call(this,f,h))},c.prototype.formatAt=function(f,h,d,p){l.query(d,l.Scope.BLOCK)!=null?this.format(d,p):u.prototype.formatAt.call(this,f,h,d,p)},c.prototype.insertAt=function(f,h,d){if(d==null||l.query(h,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,d);else{var p=this.split(f),v=l.create(h,d);p.parent.insertBefore(v,p)}},c.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},c.blotName="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=s},function(t,n,a){var i=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){s(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(s){i(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){s.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,h,d){c===0&&f===this.length()?this.format(h,d):s.prototype.formatAt.call(this,c,f,h,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=l},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),s=function(u){i(c,u);function c(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},c.prototype.index=function(f,h){return this.domNode===f?h:-1},c.prototype.insertAt=function(f,h,d){d==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,h){return[this.domNode,f]},c.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var d=l.create(this.domNode.splitText(f));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(f,h){var d=this;f.some(function(p){return p.type==="characterData"&&p.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=s},function(t,n,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,s){return arguments.length>1&&!this.contains(l)==!s?s:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,s){return s=s||0,this.substr(s,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,s){var u=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>u.length)&&(s=u.length),s-=l.length;var c=u.indexOf(l,s);return c!==-1&&c===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],h,d=0;d<c;d++)if(h=u[d],s.call(f,h,d,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var a=-1,i=1,o=0;function l(x,w,S){if(x==w)return x?[[o,x]]:[];(S<0||x.length<S)&&(S=null);var C=f(x,w),T=x.substring(0,C);x=x.substring(C),w=w.substring(C),C=h(x,w);var F=x.substring(x.length-C);x=x.substring(0,x.length-C),w=w.substring(0,w.length-C);var I=s(x,w);return T&&I.unshift([o,T]),F&&I.push([o,F]),p(I),S!=null&&(I=y(I,S)),I=m(I),I}function s(x,w){var S;if(!x)return[[i,w]];if(!w)return[[a,x]];var C=x.length>w.length?x:w,T=x.length>w.length?w:x,F=C.indexOf(T);if(F!=-1)return S=[[i,C.substring(0,F)],[o,T],[i,C.substring(F+T.length)]],x.length>w.length&&(S[0][0]=S[2][0]=a),S;if(T.length==1)return[[a,x],[i,w]];var I=d(x,w);if(I){var M=I[0],O=I[1],k=I[2],L=I[3],N=I[4],R=l(M,k),D=l(O,L);return R.concat([[o,N]],D)}return u(x,w)}function u(x,w){for(var S=x.length,C=w.length,T=Math.ceil((S+C)/2),F=T,I=2*T,M=new Array(I),O=new Array(I),k=0;k<I;k++)M[k]=-1,O[k]=-1;M[F+1]=0,O[F+1]=0;for(var L=S-C,N=L%2!=0,R=0,D=0,W=0,V=0,B=0;B<T;B++){for(var P=-B+R;P<=B-D;P+=2){var $=F+P,z;P==-B||P!=B&&M[$-1]<M[$+1]?z=M[$+1]:z=M[$-1]+1;for(var Y=z-P;z<S&&Y<C&&x.charAt(z)==w.charAt(Y);)z++,Y++;if(M[$]=z,z>S)D+=2;else if(Y>C)R+=2;else if(N){var q=F+L-P;if(q>=0&&q<I&&O[q]!=-1){var _=S-O[q];if(z>=_)return c(x,w,z,Y)}}}for(var G=-B+W;G<=B-V;G+=2){var q=F+G,_;G==-B||G!=B&&O[q-1]<O[q+1]?_=O[q+1]:_=O[q-1]+1;for(var X=_-G;_<S&&X<C&&x.charAt(S-_-1)==w.charAt(C-X-1);)_++,X++;if(O[q]=_,_>S)V+=2;else if(X>C)W+=2;else if(!N){var $=F+L-G;if($>=0&&$<I&&M[$]!=-1){var z=M[$],Y=F+z-$;if(_=S-_,z>=_)return c(x,w,z,Y)}}}}return[[a,x],[i,w]]}function c(x,w,S,C){var T=x.substring(0,S),F=w.substring(0,C),I=x.substring(S),M=w.substring(C),O=l(T,F),k=l(I,M);return O.concat(k)}function f(x,w){if(!x||!w||x.charAt(0)!=w.charAt(0))return 0;for(var S=0,C=Math.min(x.length,w.length),T=C,F=0;S<T;)x.substring(F,T)==w.substring(F,T)?(S=T,F=S):C=T,T=Math.floor((C-S)/2+S);return T}function h(x,w){if(!x||!w||x.charAt(x.length-1)!=w.charAt(w.length-1))return 0;for(var S=0,C=Math.min(x.length,w.length),T=C,F=0;S<T;)x.substring(x.length-T,x.length-F)==w.substring(w.length-T,w.length-F)?(S=T,F=S):C=T,T=Math.floor((C-S)/2+S);return T}function d(x,w){var S=x.length>w.length?x:w,C=x.length>w.length?w:x;if(S.length<4||C.length*2<S.length)return null;function T(D,W,V){for(var B=D.substring(V,V+Math.floor(D.length/4)),P=-1,$="",z,Y,q,_;(P=W.indexOf(B,P+1))!=-1;){var G=f(D.substring(V),W.substring(P)),X=h(D.substring(0,V),W.substring(0,P));$.length<X+G&&($=W.substring(P-X,P)+W.substring(P,P+G),z=D.substring(0,V-X),Y=D.substring(V+G),q=W.substring(0,P-X),_=W.substring(P+G))}return $.length*2>=D.length?[z,Y,q,_,$]:null}var F=T(S,C,Math.ceil(S.length/4)),I=T(S,C,Math.ceil(S.length/2)),M;if(!F&&!I)return null;I?F?M=F[4].length>I[4].length?F:I:M=I:M=F;var O,k,L,N;x.length>w.length?(O=M[0],k=M[1],L=M[2],N=M[3]):(L=M[0],N=M[1],O=M[2],k=M[3]);var R=M[4];return[O,k,L,N,R]}function p(x){x.push([o,""]);for(var w=0,S=0,C=0,T="",F="",I;w<x.length;)switch(x[w][0]){case i:C++,F+=x[w][1],w++;break;case a:S++,T+=x[w][1],w++;break;case o:S+C>1?(S!==0&&C!==0&&(I=f(F,T),I!==0&&(w-S-C>0&&x[w-S-C-1][0]==o?x[w-S-C-1][1]+=F.substring(0,I):(x.splice(0,0,[o,F.substring(0,I)]),w++),F=F.substring(I),T=T.substring(I)),I=h(F,T),I!==0&&(x[w][1]=F.substring(F.length-I)+x[w][1],F=F.substring(0,F.length-I),T=T.substring(0,T.length-I))),S===0?x.splice(w-C,S+C,[i,F]):C===0?x.splice(w-S,S+C,[a,T]):x.splice(w-S-C,S+C,[a,T],[i,F]),w=w-S-C+(S?1:0)+(C?1:0)+1):w!==0&&x[w-1][0]==o?(x[w-1][1]+=x[w][1],x.splice(w,1)):w++,C=0,S=0,T="",F="";break}x[x.length-1][1]===""&&x.pop();var M=!1;for(w=1;w<x.length-1;)x[w-1][0]==o&&x[w+1][0]==o&&(x[w][1].substring(x[w][1].length-x[w-1][1].length)==x[w-1][1]?(x[w][1]=x[w-1][1]+x[w][1].substring(0,x[w][1].length-x[w-1][1].length),x[w+1][1]=x[w-1][1]+x[w+1][1],x.splice(w-1,1),M=!0):x[w][1].substring(0,x[w+1][1].length)==x[w+1][1]&&(x[w-1][1]+=x[w+1][1],x[w][1]=x[w][1].substring(x[w+1][1].length)+x[w+1][1],x.splice(w+1,1),M=!0)),w++;M&&p(x)}var v=l;v.INSERT=i,v.DELETE=a,v.EQUAL=o,t.exports=v;function g(x,w){if(w===0)return[o,x];for(var S=0,C=0;C<x.length;C++){var T=x[C];if(T[0]===a||T[0]===o){var F=S+T[1].length;if(w===F)return[C+1,x];if(w<F){x=x.slice();var I=w-S,M=[T[0],T[1].slice(0,I)],O=[T[0],T[1].slice(I)];return x.splice(C,1,M,O),[C+1,x]}else S=F}}throw new Error("cursor_pos is out of bounds!")}function y(x,w){var S=g(x,w),C=S[1],T=S[0],F=C[T],I=C[T+1];if(F==null)return x;if(F[0]!==o)return x;if(I!=null&&F[1]+I[1]===I[1]+F[1])return C.splice(T,2,I,F),b(C,T,2);if(I!=null&&I[1].indexOf(F[1])===0){C.splice(T,2,[I[0],F[1]],[0,F[1]]);var M=I[1].slice(F[1].length);return M.length>0&&C.splice(T+2,0,[I[0],M]),b(C,T,3)}else return x}function m(x){for(var w=!1,S=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},C=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},T=2;T<x.length;T+=1)x[T-2][0]===o&&C(x[T-2][1])&&x[T-1][0]===a&&S(x[T-1][1])&&x[T][0]===i&&S(x[T][1])&&(w=!0,x[T-1][1]=x[T-2][1].slice(-1)+x[T-1][1],x[T][1]=x[T-2][1].slice(-1)+x[T][1],x[T-2][1]=x[T-2][1].slice(0,-1));if(!w)return x;for(var F=[],T=0;T<x.length;T+=1)x[T][1].length>0&&F.push(x[T]);return F}function b(x,w,S){for(var C=w+S-1;C>=0&&C>=w-1;C--)if(C+1<x.length){var T=x[C],F=x[C+1];T[0]===F[1]&&x.splice(C,2,[T[0],T[1]+F[1]])}return x}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(i){var o=[];for(var l in i)o.push(l);return o}},function(t,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=a?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(t,n){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)a.call(f,h)&&c.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c,f){var h=i?i+c:c,d=this._events[h];if(f)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,g=new Array(v);p<v;p++)g[p]=d[p].fn;return g},s.prototype.emit=function(c,f,h,d,p,v){var g=i?i+c:c;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,d),!0;case 5:return y.fn.call(y.context,f,h,d,p),!0;case 6:return y.fn.call(y.context,f,h,d,p,v),!0}for(x=1,b=new Array(m-1);x<m;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var w=y.length,S;for(x=0;x<w;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),m){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,f);break;case 3:y[x].fn.call(y[x].context,f,h);break;case 4:y[x].fn.call(y[x].context,f,h,d);break;default:if(!b)for(S=1,b=new Array(m-1);S<m;S++)b[S-1]=arguments[S];y[x].fn.apply(y[x].context,b)}}return!0},s.prototype.on=function(c,f,h){var d=new l(f,h||this),p=i?i+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],d]:this._events[p].push(d):(this._events[p]=d,this._eventsCount++),this},s.prototype.once=function(c,f,h){var d=new l(f,h||this,!0),p=i?i+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],d]:this._events[p].push(d):(this._events[p]=d,this._eventsCount++),this},s.prototype.removeListener=function(c,f,h,d){var p=i?i+c:c;if(!this._events[p])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var v=this._events[p];if(v.fn)v.fn===f&&(!d||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var g=0,y=[],m=v.length;g<m;g++)(v[g].fn!==f||d&&!v[g].once||h&&v[g].context!==h)&&y.push(v[g]);y.length?this._events[p]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=i?i+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,typeof t<"u"&&(t.exports=s)},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},o=function(){function rt(nt,ft){var dt=[],ot=!0,Mt=!1,Ot=void 0;try{for(var Pt=nt[Symbol.iterator](),Tr;!(ot=(Tr=Pt.next()).done)&&(dt.push(Tr.value),!(ft&&dt.length===ft));ot=!0);}catch(En){Mt=!0,Ot=En}finally{try{!ot&&Pt.return&&Pt.return()}finally{if(Mt)throw Ot}}return dt}return function(nt,ft){if(Array.isArray(nt))return nt;if(Symbol.iterator in Object(nt))return rt(nt,ft);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function rt(nt,ft){for(var dt=0;dt<ft.length;dt++){var ot=ft[dt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(nt,ot.key,ot)}}return function(nt,ft,dt){return ft&&rt(nt.prototype,ft),dt&&rt(nt,dt),nt}}(),s=a(3),u=O(s),c=a(2),f=O(c),h=a(0),d=O(h),p=a(5),v=O(p),g=a(10),y=O(g),m=a(9),b=O(m),x=a(36),w=a(37),S=a(13),C=O(S),T=a(26),F=a(38),I=a(39),M=a(40);function O(rt){return rt&&rt.__esModule?rt:{default:rt}}function k(rt,nt,ft){return nt in rt?Object.defineProperty(rt,nt,{value:ft,enumerable:!0,configurable:!0,writable:!0}):rt[nt]=ft,rt}function L(rt,nt){if(!(rt instanceof nt))throw new TypeError("Cannot call a class as a function")}function N(rt,nt){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt&&(typeof nt=="object"||typeof nt=="function")?nt:rt}function R(rt,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof nt);rt.prototype=Object.create(nt&&nt.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),nt&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,nt):rt.__proto__=nt)}var D=(0,y.default)("quill:clipboard"),W="__ql-matcher",V=[[Node.TEXT_NODE,ne],[Node.TEXT_NODE,yt],["br",et],[Node.ELEMENT_NODE,yt],[Node.ELEMENT_NODE,tt],[Node.ELEMENT_NODE,kt],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,Yt],["li",st],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",vt]],B=[x.AlignAttribute,F.DirectionAttribute].reduce(function(rt,nt){return rt[nt.keyName]=nt,rt},{}),P=[x.AlignStyle,w.BackgroundStyle,T.ColorStyle,F.DirectionStyle,I.FontStyle,M.SizeStyle].reduce(function(rt,nt){return rt[nt.keyName]=nt,rt},{}),$=function(rt){R(nt,rt);function nt(ft,dt){L(this,nt);var ot=N(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this,ft,dt));return ot.quill.root.addEventListener("paste",ot.onPaste.bind(ot)),ot.container=ot.quill.addContainer("ql-clipboard"),ot.container.setAttribute("contenteditable",!0),ot.container.setAttribute("tabindex",-1),ot.matchers=[],V.concat(ot.options.matchers).forEach(function(Mt){var Ot=o(Mt,2),Pt=Ot[0],Tr=Ot[1];!dt.matchVisual&&Tr===kt||ot.addMatcher(Pt,Tr)}),ot}return l(nt,[{key:"addMatcher",value:function(dt,ot){this.matchers.push([dt,ot])}},{key:"convert",value:function(dt){if(typeof dt=="string")return this.container.innerHTML=dt.replace(/\>\r?\n +\</g,"><"),this.convert();var ot=this.quill.getFormat(this.quill.selection.savedRange.index);if(ot[C.default.blotName]){var Mt=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Mt,k({},C.default.blotName,ot[C.default.blotName]))}var Ot=this.prepareMatching(),Pt=o(Ot,2),Tr=Pt[0],En=Pt[1],ue=G(this.container,Tr,En);return q(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new f.default().retain(ue.length()-1).delete(1))),D.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(dt,ot){var Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof dt=="string")this.quill.setContents(this.convert(dt),ot),this.quill.setSelection(0,v.default.sources.SILENT);else{var Ot=this.convert(ot);this.quill.updateContents(new f.default().retain(dt).concat(Ot),Mt),this.quill.setSelection(dt+Ot.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(dt){var ot=this;if(!(dt.defaultPrevented||!this.quill.isEnabled())){var Mt=this.quill.getSelection(),Ot=new f.default().retain(Mt.index),Pt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Ot=Ot.concat(ot.convert()).delete(Mt.length),ot.quill.updateContents(Ot,v.default.sources.USER),ot.quill.setSelection(Ot.length()-Mt.length,v.default.sources.SILENT),ot.quill.scrollingContainer.scrollTop=Pt,ot.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var dt=this,ot=[],Mt=[];return this.matchers.forEach(function(Ot){var Pt=o(Ot,2),Tr=Pt[0],En=Pt[1];switch(Tr){case Node.TEXT_NODE:Mt.push(En);break;case Node.ELEMENT_NODE:ot.push(En);break;default:[].forEach.call(dt.container.querySelectorAll(Tr),function(ue){ue[W]=ue[W]||[],ue[W].push(En)});break}}),[ot,Mt]}}]),nt}(b.default);$.DEFAULTS={matchers:[],matchVisual:!0};function z(rt,nt,ft){return(typeof nt>"u"?"undefined":i(nt))==="object"?Object.keys(nt).reduce(function(dt,ot){return z(dt,ot,nt[ot])},rt):rt.reduce(function(dt,ot){return ot.attributes&&ot.attributes[nt]?dt.push(ot):dt.insert(ot.insert,(0,u.default)({},k({},nt,ft),ot.attributes))},new f.default)}function Y(rt){if(rt.nodeType!==Node.ELEMENT_NODE)return{};var nt="__ql-computed-style";return rt[nt]||(rt[nt]=window.getComputedStyle(rt))}function q(rt,nt){for(var ft="",dt=rt.ops.length-1;dt>=0&&ft.length<nt.length;--dt){var ot=rt.ops[dt];if(typeof ot.insert!="string")break;ft=ot.insert+ft}return ft.slice(-1*nt.length)===nt}function _(rt){if(rt.childNodes.length===0)return!1;var nt=Y(rt);return["block","list-item"].indexOf(nt.display)>-1}function G(rt,nt,ft){return rt.nodeType===rt.TEXT_NODE?ft.reduce(function(dt,ot){return ot(rt,dt)},new f.default):rt.nodeType===rt.ELEMENT_NODE?[].reduce.call(rt.childNodes||[],function(dt,ot){var Mt=G(ot,nt,ft);return ot.nodeType===rt.ELEMENT_NODE&&(Mt=nt.reduce(function(Ot,Pt){return Pt(ot,Ot)},Mt),Mt=(ot[W]||[]).reduce(function(Ot,Pt){return Pt(ot,Ot)},Mt)),dt.concat(Mt)},new f.default):new f.default}function X(rt,nt,ft){return z(ft,rt,!0)}function K(rt,nt){var ft=d.default.Attributor.Attribute.keys(rt),dt=d.default.Attributor.Class.keys(rt),ot=d.default.Attributor.Style.keys(rt),Mt={};return ft.concat(dt).concat(ot).forEach(function(Ot){var Pt=d.default.query(Ot,d.default.Scope.ATTRIBUTE);Pt!=null&&(Mt[Pt.attrName]=Pt.value(rt),Mt[Pt.attrName])||(Pt=B[Ot],Pt!=null&&(Pt.attrName===Ot||Pt.keyName===Ot)&&(Mt[Pt.attrName]=Pt.value(rt)||void 0),Pt=P[Ot],Pt!=null&&(Pt.attrName===Ot||Pt.keyName===Ot)&&(Pt=P[Ot],Mt[Pt.attrName]=Pt.value(rt)||void 0))}),Object.keys(Mt).length>0&&(nt=z(nt,Mt)),nt}function tt(rt,nt){var ft=d.default.query(rt);if(ft==null)return nt;if(ft.prototype instanceof d.default.Embed){var dt={},ot=ft.value(rt);ot!=null&&(dt[ft.blotName]=ot,nt=new f.default().insert(dt,ft.formats(rt)))}else typeof ft.formats=="function"&&(nt=z(nt,ft.blotName,ft.formats(rt)));return nt}function et(rt,nt){return q(nt,`
`)||nt.insert(`
`),nt}function vt(){return new f.default}function st(rt,nt){var ft=d.default.query(rt);if(ft==null||ft.blotName!=="list-item"||!q(nt,`
`))return nt;for(var dt=-1,ot=rt.parentNode;!ot.classList.contains("ql-clipboard");)(d.default.query(ot)||{}).blotName==="list"&&(dt+=1),ot=ot.parentNode;return dt<=0?nt:nt.compose(new f.default().retain(nt.length()-1).retain(1,{indent:dt}))}function yt(rt,nt){return q(nt,`
`)||(_(rt)||nt.length()>0&&rt.nextSibling&&_(rt.nextSibling))&&nt.insert(`
`),nt}function kt(rt,nt){if(_(rt)&&rt.nextElementSibling!=null&&!q(nt,`

`)){var ft=rt.offsetHeight+parseFloat(Y(rt).marginTop)+parseFloat(Y(rt).marginBottom);rt.nextElementSibling.offsetTop>rt.offsetTop+ft*1.5&&nt.insert(`
`)}return nt}function Yt(rt,nt){var ft={},dt=rt.style||{};return dt.fontStyle&&Y(rt).fontStyle==="italic"&&(ft.italic=!0),dt.fontWeight&&(Y(rt).fontWeight.startsWith("bold")||parseInt(Y(rt).fontWeight)>=700)&&(ft.bold=!0),Object.keys(ft).length>0&&(nt=z(nt,ft)),parseFloat(dt.textIndent||0)>0&&(nt=new f.default().insert("	").concat(nt)),nt}function ne(rt,nt){var ft=rt.data;if(rt.parentNode.tagName==="O:P")return nt.insert(ft.trim());if(ft.trim().length===0&&rt.parentNode.classList.contains("ql-clipboard"))return nt;if(!Y(rt.parentNode).whiteSpace.startsWith("pre")){var dt=function(Mt,Ot){return Ot=Ot.replace(/[^\u00a0]/g,""),Ot.length<1&&Mt?" ":Ot};ft=ft.replace(/\r\n/g," ").replace(/\n/g," "),ft=ft.replace(/\s\s+/g,dt.bind(dt,!0)),(rt.previousSibling==null&&_(rt.parentNode)||rt.previousSibling!=null&&_(rt.previousSibling))&&(ft=ft.replace(/^\s+/,dt.bind(dt,!1))),(rt.nextSibling==null&&_(rt.parentNode)||rt.nextSibling!=null&&_(rt.nextSibling))&&(ft=ft.replace(/\s+$/,dt.bind(dt,!1)))}return nt.insert(ft)}n.default=$,n.matchAttributor=K,n.matchBlot=tt,n.matchNewline=yt,n.matchSpacing=kt,n.matchText=ne},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}}(),o=function p(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:p(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(6),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(s.default);d.blotName="bold",d.tagName=["STRONG","B"],n.default=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function M(O,k){var L=[],N=!0,R=!1,D=void 0;try{for(var W=O[Symbol.iterator](),V;!(N=(V=W.next()).done)&&(L.push(V.value),!(k&&L.length===k));N=!0);}catch(B){R=!0,D=B}finally{try{!N&&W.return&&W.return()}finally{if(R)throw D}}return L}return function(O,k){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return M(O,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function M(O,k){for(var L=0;L<k.length;L++){var N=k[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,k,L){return k&&M(O.prototype,k),L&&M(O,L),O}}(),l=a(2),s=y(l),u=a(0),c=y(u),f=a(5),h=y(f),d=a(10),p=y(d),v=a(9),g=y(v);function y(M){return M&&M.__esModule?M:{default:M}}function m(M,O,k){return O in M?Object.defineProperty(M,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):M[O]=k,M}function b(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function x(M,O){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:M}function w(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(M,O):M.__proto__=O)}var S=(0,p.default)("quill:toolbar"),C=function(M){w(O,M);function O(k,L){b(this,O);var N=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,L));if(Array.isArray(N.options.container)){var R=document.createElement("div");F(R,N.options.container),k.container.parentNode.insertBefore(R,k.container),N.container=R}else typeof N.options.container=="string"?N.container=document.querySelector(N.options.container):N.container=N.options.container;if(!(N.container instanceof HTMLElement)){var D;return D=S.error("Container required for toolbar",N.options),x(N,D)}return N.container.classList.add("ql-toolbar"),N.controls=[],N.handlers={},Object.keys(N.options.handlers).forEach(function(W){N.addHandler(W,N.options.handlers[W])}),[].forEach.call(N.container.querySelectorAll("button, select"),function(W){N.attach(W)}),N.quill.on(h.default.events.EDITOR_CHANGE,function(W,V){W===h.default.events.SELECTION_CHANGE&&N.update(V)}),N.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var W=N.quill.selection.getRange(),V=i(W,1),B=V[0];N.update(B)}),N}return o(O,[{key:"addHandler",value:function(L,N){this.handlers[L]=N}},{key:"attach",value:function(L){var N=this,R=[].find.call(L.classList,function(W){return W.indexOf("ql-")===0});if(R){if(R=R.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){S.warn("ignoring attaching to disabled format",R,L);return}if(c.default.query(R)==null){S.warn("ignoring attaching to nonexistent format",R,L);return}}var D=L.tagName==="SELECT"?"change":"click";L.addEventListener(D,function(W){var V=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var B=L.options[L.selectedIndex];B.hasAttribute("selected")?V=!1:V=B.value||!1}else L.classList.contains("ql-active")?V=!1:V=L.value||!L.hasAttribute("value"),W.preventDefault();N.quill.focus();var P=N.quill.selection.getRange(),$=i(P,1),z=$[0];if(N.handlers[R]!=null)N.handlers[R].call(N,V);else if(c.default.query(R).prototype instanceof c.default.Embed){if(V=prompt("Enter "+R),!V)return;N.quill.updateContents(new s.default().retain(z.index).delete(z.length).insert(m({},R,V)),h.default.sources.USER)}else N.quill.format(R,V,h.default.sources.USER);N.update(z)}),this.controls.push([R,L])}}},{key:"update",value:function(L){var N=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(R){var D=i(R,2),W=D[0],V=D[1];if(V.tagName==="SELECT"){var B=void 0;if(L==null)B=null;else if(N[W]==null)B=V.querySelector("option[selected]");else if(!Array.isArray(N[W])){var P=N[W];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),B=V.querySelector('option[value="'+P+'"]')}B==null?(V.value="",V.selectedIndex=-1):B.selected=!0}else if(L==null)V.classList.remove("ql-active");else if(V.hasAttribute("value")){var $=N[W]===V.getAttribute("value")||N[W]!=null&&N[W].toString()===V.getAttribute("value")||N[W]==null&&!V.getAttribute("value");V.classList.toggle("ql-active",$)}else V.classList.toggle("ql-active",N[W]!=null)})}}]),O}(g.default);C.DEFAULTS={};function T(M,O,k){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+O),k!=null&&(L.value=k),M.appendChild(L)}function F(M,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(k){var L=document.createElement("span");L.classList.add("ql-formats"),k.forEach(function(N){if(typeof N=="string")T(L,N);else{var R=Object.keys(N)[0],D=N[R];Array.isArray(D)?I(L,R,D):T(L,R,D)}}),M.appendChild(L)})}function I(M,O,k){var L=document.createElement("select");L.classList.add("ql-"+O),k.forEach(function(N){var R=document.createElement("option");N!==!1?R.setAttribute("value",N):R.setAttribute("selected","selected"),L.appendChild(R)}),M.appendChild(L)}C.DEFAULTS={container:null,handlers:{clean:function(){var O=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(N){c.default.query(N,c.default.Scope.INLINE)!=null&&O.quill.format(N,!1)})}else this.quill.removeFormat(k,h.default.sources.USER)},direction:function(O){var k=this.quill.getFormat().align;O==="rtl"&&k==null?this.quill.format("align","right",h.default.sources.USER):!O&&k==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",O,h.default.sources.USER)},indent:function(O){var k=this.quill.getSelection(),L=this.quill.getFormat(k),N=parseInt(L.indent||0);if(O==="+1"||O==="-1"){var R=O==="+1"?1:-1;L.direction==="rtl"&&(R*=-1),this.quill.format("indent",N+R,h.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,h.default.sources.USER)},list:function(O){var k=this.quill.getSelection(),L=this.quill.getFormat(k);O==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",O,h.default.sources.USER)}}},n.default=C,n.addControls=F},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}}(),o=function p(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:p(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(28),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(g,y){c(this,v);var m=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),m}return i(v,[{key:"buildItem",value:function(y){var m=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m);var b=this.label.querySelector(".ql-color-label"),x=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=x:b.style.fill=x)}}]),v}(s.default);n.default=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}}(),o=function p(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:p(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(28),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(g,y){c(this,v);var m=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return i(v,[{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(s.default);n.default=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&s(u.prototype,c),f&&s(u,f),u}}();function o(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(u,c){var f=this;o(this,s),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return i(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),v=0;if(p.right>d.right&&(v=d.right-p.right,this.root.style.left=f+v+"px"),p.left<d.left&&(v=d.left-p.left,this.root.style.left=f+v+"px"),p.bottom>d.bottom){var g=p.bottom-p.top,y=c.bottom-c.top+g;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();n.default=l},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function I(M,O){var k=[],L=!0,N=!1,R=void 0;try{for(var D=M[Symbol.iterator](),W;!(L=(W=D.next()).done)&&(k.push(W.value),!(O&&k.length===O));L=!0);}catch(V){N=!0,R=V}finally{try{!L&&D.return&&D.return()}finally{if(N)throw R}}return k}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function I(M,O,k){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,O);if(L===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:I(N,O,k)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(k)}},l=function(){function I(M,O){for(var k=0;k<O.length;k++){var L=O[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,k){return O&&I(M.prototype,O),k&&I(M,k),M}}(),s=a(3),u=b(s),c=a(8),f=b(c),h=a(43),d=b(h),p=a(27),v=b(p),g=a(15),y=a(41),m=b(y);function b(I){return I&&I.__esModule?I:{default:I}}function x(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function w(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function S(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(I){S(M,I);function M(O,k){x(this,M),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=C);var L=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O,k));return L.quill.container.classList.add("ql-snow"),L}return l(M,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),m.default),this.tooltip=new F(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,N){k.handlers.link.call(k,!N.format.link)})}}]),M}(d.default);T.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){if(M){var O=this.quill.getSelection();if(O==null||O.length==0)return;var k=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var L=this.quill.theme.tooltip;L.edit("link",k)}else this.quill.format("link",!1)}}}}});var F=function(I){S(M,I);function M(O,k){x(this,M);var L=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O,k));return L.preview=L.root.querySelector("a.ql-preview"),L}return l(M,[{key:"listen",value:function(){var k=this;o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(k.linkRange!=null){var N=k.linkRange;k.restoreFocus(),k.quill.formatText(N,"link",!1,f.default.sources.USER),delete k.linkRange}L.preventDefault(),k.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(L,N,R){if(L!=null){if(L.length===0&&R===f.default.sources.USER){var D=k.quill.scroll.descendant(v.default,L.index),W=i(D,2),V=W[0],B=W[1];if(V!=null){k.linkRange=new g.Range(L.index-B,V.length());var P=v.default.formats(V.domNode);k.preview.textContent=P,k.preview.setAttribute("href",P),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),M}(h.BaseTooltip);F.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=T},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(29),o=ot(i),l=a(36),s=a(38),u=a(64),c=a(65),f=ot(c),h=a(66),d=ot(h),p=a(67),v=ot(p),g=a(37),y=a(26),m=a(39),b=a(40),x=a(56),w=ot(x),S=a(68),C=ot(S),T=a(27),F=ot(T),I=a(69),M=ot(I),O=a(70),k=ot(O),L=a(71),N=ot(L),R=a(72),D=ot(R),W=a(73),V=ot(W),B=a(13),P=ot(B),$=a(74),z=ot($),Y=a(75),q=ot(Y),_=a(57),G=ot(_),X=a(41),K=ot(X),tt=a(28),et=ot(tt),vt=a(59),st=ot(vt),yt=a(60),kt=ot(yt),Yt=a(61),ne=ot(Yt),rt=a(108),nt=ot(rt),ft=a(62),dt=ot(ft);function ot(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}o.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":b.SizeClass,"formats/blockquote":f.default,"formats/code-block":P.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":w.default,"formats/code":B.Code,"formats/italic":C.default,"formats/link":F.default,"formats/script":M.default,"formats/strike":k.default,"formats/underline":N.default,"formats/image":D.default,"formats/video":V.default,"formats/list/item":p.ListItem,"modules/formula":z.default,"modules/syntax":q.default,"modules/toolbar":G.default,"themes/bubble":nt.default,"themes/snow":dt.default,"ui/icons":K.default,"ui/picker":et.default,"ui/icon-picker":kt.default,"ui/color-picker":st.default,"ui/tooltip":ne.default},!0),n.default=o.default},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function v(g,y){for(var m=0;m<y.length;m++){var b=y[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:v(x,y,m)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(m)}},l=a(0),s=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var d=function(v){h(g,v);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"add",value:function(m,b){if(b==="+1"||b==="-1"){var x=this.value(m)||0;b=b==="+1"?x+1:x-1}return b===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,b)}},{key:"canAdd",value:function(m,b){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,b)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(b))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(s.default.Attributor.Class),p=new d("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(4),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(){return s(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(p,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,v,g){return v&&d(p.prototype,v),g&&d(p,g),p}}(),o=a(4),l=s(o);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=function(d){f(p,d);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),p}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function x(w,S){for(var C=0;C<S.length;C++){var T=S[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,C){return S&&x(w.prototype,S),C&&x(w,C),w}}(),o=function x(w,S,C){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,S);if(T===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:x(F,S,C)}else{if("value"in T)return T.value;var I=T.get;return I===void 0?void 0:I.call(C)}},l=a(0),s=d(l),u=a(4),c=d(u),f=a(25),h=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function p(x,w,S){return w in x?Object.defineProperty(x,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[w]=S,x}function v(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function g(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function y(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var m=function(x){y(w,x);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(C,T){C===b.blotName&&!T?this.replaceWith(s.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,C,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,T){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,T),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,C,T))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,C)}}]),w}(c.default);m.blotName="list-item",m.tagName="LI";var b=function(x){y(w,x),i(w,null,[{key:"create",value:function(C){var T=C==="ordered"?"OL":"UL",F=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,T);return(C==="checked"||C==="unchecked")&&F.setAttribute("data-checked",C==="checked"),F}},{key:"formats",value:function(C){if(C.tagName==="OL")return"ordered";if(C.tagName==="UL")return C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(S){v(this,w);var C=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S)),T=function(I){if(I.target.parentNode===S){var M=C.statics.formats(S),O=s.default.find(I.target);M==="checked"?O.format("list","unchecked"):M==="unchecked"&&O.format("list","checked")}};return S.addEventListener("touchstart",T),S.addEventListener("mousedown",T),C}return i(w,[{key:"format",value:function(C,T){this.children.length>0&&this.children.tail.format(C,T)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(C,T){if(C instanceof m)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,C,T);else{var F=T==null?this.length():T.offset(this),I=this.split(F);I.parent.insertBefore(C,I)}}},{key:"optimize",value:function(C){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,C);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var T=s.default.create(this.statics.defaultChild);C.moveChildren(T),this.appendChild(T)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,C)}}]),w}(h.default);b.blotName="list",b.scope=s.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[m],n.ListItem=m,n.default=b},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(56),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(){return s(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}}(),o=function p(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:p(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(6),s=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){h(v,p);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(s.default);d.blotName="script",d.tagName=["SUB","SUP"],n.default=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(){return s(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function c(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){c(d,h);function d(){return s(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(0),s=c(l),u=a(27);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=["alt","height","width"],v=function(g){d(y,g);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(b,x){p.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return p.reduce(function(x,w){return b.hasAttribute(w)&&(x[w]=b.getAttribute(w)),x},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(s.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(4),s=a(27),u=c(s);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=["height","width"],v=function(g){d(y,g);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(b,x){p.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return p.reduce(function(x,w){return b.hasAttribute(w)&&(x[w]=b.getAttribute(w)),x},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function b(x,w){for(var S=0;S<w.length;S++){var C=w[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,w,S){return w&&b(x.prototype,w),S&&b(x,S),x}}(),o=function b(x,w,S){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,w);if(C===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:b(T,w,S)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(S)}},l=a(35),s=d(l),u=a(5),c=d(u),f=a(9),h=d(f);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function v(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){g(x,b);function x(){return p(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"create",value:function(S){var C=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,C,{throwOnError:!1,errorColor:"#f00"}),C.setAttribute("data-value",S)),C}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),x}(s.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(b){g(x,b),i(x,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function x(){p(this,x);var w=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return x}(h.default);n.FormulaBlot=y,n.default=m},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function S(C,T){for(var F=0;F<T.length;F++){var I=T[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,T,F){return T&&S(C.prototype,T),F&&S(C,F),C}}(),o=function S(C,T,F){C===null&&(C=Function.prototype);var I=Object.getOwnPropertyDescriptor(C,T);if(I===void 0){var M=Object.getPrototypeOf(C);return M===null?void 0:S(M,T,F)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(F)}},l=a(0),s=v(l),u=a(5),c=v(u),f=a(9),h=v(f),d=a(13),p=v(d);function v(S){return S&&S.__esModule?S:{default:S}}function g(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function y(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function m(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var b=function(S){m(C,S);function C(){return g(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"replaceWith",value:function(F){this.domNode.textContent=this.domNode.textContent,this.attach(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,F)}},{key:"highlight",value:function(F){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=F(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),C}(p.default);b.className="ql-syntax";var x=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),w=function(S){m(C,S),i(C,null,[{key:"register",value:function(){c.default.register(x,!0),c.default.register(b,!0)}}]);function C(T,F){g(this,C);var I=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,F));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var M=null;return I.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(M),M=setTimeout(function(){I.highlight(),M=null},I.options.interval)}),I.highlight(),I}return i(C,[{key:"highlight",value:function(){var F=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(M){M.highlight(F.options.highlight)}),this.quill.update(c.default.sources.SILENT),I!=null&&this.quill.setSelection(I,c.default.sources.SILENT)}}}]),C}(h.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var C=window.hljs.highlightAuto(S);return C.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=x,n.default=w},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function C(T,F,I){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,F);if(M===void 0){var O=Object.getPrototypeOf(T);return O===null?void 0:C(O,F,I)}else{if("value"in M)return M.value;var k=M.get;return k===void 0?void 0:k.call(I)}},o=function(){function C(T,F){for(var I=0;I<F.length;I++){var M=F[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,F,I){return F&&C(T.prototype,F),I&&C(T,I),T}}(),l=a(3),s=g(l),u=a(8),c=g(u),f=a(43),h=g(f),d=a(15),p=a(41),v=g(p);function g(C){return C&&C.__esModule?C:{default:C}}function y(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function m(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function b(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(C){b(T,C);function T(F,I){y(this,T),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=x);var M=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,F,I));return M.quill.container.classList.add("ql-bubble"),M}return o(T,[{key:"extendToolbar",value:function(I){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),v.default)}}]),T}(h.default);w.DEFAULTS=(0,s.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(C){b(T,C);function T(F,I){y(this,T);var M=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,F,I));return M.quill.on(c.default.events.EDITOR_CHANGE,function(O,k,L,N){if(O===c.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&N===c.default.sources.USER){M.show(),M.root.style.left="0px",M.root.style.width="",M.root.style.width=M.root.offsetWidth+"px";var R=M.quill.getLines(k.index,k.length);if(R.length===1)M.position(M.quill.getBounds(k));else{var D=R[R.length-1],W=M.quill.getIndex(D),V=Math.min(D.length()-1,k.index+k.length-W),B=M.quill.getBounds(new d.Range(W,V));M.position(B)}}else document.activeElement!==M.textbox&&M.quill.hasFocus()&&M.hide()}),M}return o(T,[{key:"listen",value:function(){var I=this;i(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var M=I.quill.getSelection();M!=null&&I.position(I.quill.getBounds(M))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var M=i(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,I),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",M===0)return M;O.style.marginLeft=-1*M-O.offsetWidth/2+"px"}}]),T}(f.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=w},function(t,n,a){t.exports=a(63)}]).default})})(RC);var tW=RC.exports,eW=nr&&nr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uc=nr&&nr.__assign||function(){return uc=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},uc.apply(this,arguments)},rW=nr&&nr.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n},af=nr&&nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},nn=af(window.React),nW=af(window.ReactDOM),Yo=af(Jz),Mx=af(tW),aW=function(r){eW(e,r);function e(t){var n=r.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(i,o,l,s){var u,c,f,h;i==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,s,n.unprivilegedEditor):i==="selection-change"&&((h=(f=n).onEditorChangeSelection)===null||h===void 0||h.call(f,o,s,n.unprivilegedEditor))};var a=n.isControlled()?t.value:t.defaultValue;return n.value=a??"",n}return e.prototype.validateProps=function(t){var n;if(nn.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(nn.default.Children.count(t.children)){var a=nn.default.Children.only(t.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(t,n){var a=this,i;if(this.validateProps(t),!this.editor||this.state.generation!==n.generation)return!0;if("value"in t){var o=this.getEditorContents(),l=(i=t.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),rW(this.cleanProps,this.dirtyProps).some(function(s){return!Yo.default(t[s],a.props[s])})},e.prototype.shouldComponentRegenerate=function(t){var n=this;return this.dirtyProps.some(function(a){return!Yo.default(t[a],n.props[a])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(t)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,i=l.delta,s=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),Ox(function(){return a.setEditorSelection(u,s)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(t,n){var a=new Mx.default(t,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,n){return this.isDelta(t)&&this.isDelta(n)?Yo.default(t.ops,n.ops):Yo.default(t,n)},e.prototype.setEditorContents=function(t,n){var a=this;this.value=n;var i=this.getEditorSelection();typeof n=="string"?t.setContents(t.clipboard.convert(n)):t.setContents(n),Ox(function(){return a.setEditorSelection(t,i)})},e.prototype.setEditorSelection=function(t,n){if(this.selection=n,n){var a=t.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),t.setSelection(n)}},e.prototype.setEditorTabIndex=function(t,n){var a,i;!((i=(a=t)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(t.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(t,n){n?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var n=t;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=nW.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},e.prototype.renderEditingArea=function(){var t=this,n=this.props,a=n.children,i=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(s){t.editingArea=s}};return nn.default.Children.count(a)?nn.default.cloneElement(nn.default.Children.only(a),l):i?nn.default.createElement("pre",uc({},l)):nn.default.createElement("div",uc({},l))},e.prototype.render=function(){var t;return nn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,n,a,i){var o,l;if(this.editor){var s=this.isDelta(this.value)?i.getContents():i.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=s,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,t,n,a,i))}},e.prototype.onEditorChangeSelection=function(t,n,a){var i,o,l,s,u,c;if(this.editor){var f=this.getEditorSelection(),h=!f&&t,d=f&&!t;Yo.default(t,f)||(this.selection=t,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,t,n,a),h?(s=(l=this.props).onFocus)===null||s===void 0||s.call(l,t,n,a):d&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,a)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Mx.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(nn.default.Component);function Ox(r){Promise.resolve().then(r)}var iW=aW;const oW=_c(iW),lW="_richTextQuill_1944w_1",sW={richTextQuill:lW},uW=window.antd.Form,cW=window.React.forwardRef,fW=window.React.useContext,Fx=window.React.useEffect,hW=window.React.useImperativeHandle,kx=window.React.useState,dW=({id:r,type:e,config:t,onChange:n,onBlur:a},i)=>{const o=fW(pe),[l,s]=kx(!0),[u,c]=kx(!1);Fx(()=>{var v;const d=(v=t.props.formItem)==null?void 0:v.name,p=t.props.defaultValue;d&&!fe(p)&&(o==null||o.setFieldValue(d,p))},[t.props.defaultValue]),Fx(()=>{c(t.props.formWrap.readOnly||!1)},[t.props.formWrap.readOnly]);const f=d=>{var v;let p=d;d==="<p><br></p>"&&(o==null||o.setFieldValue((v=t.props.formItem)==null?void 0:v.name,""),p=""),n==null||n({[t.props.formItem.name]:p})},h=(d,p,v)=>{var g;v.getHTML(),p==="<p><br></p>"&&(o==null||o.setFieldValue((g=t.props.formItem)==null?void 0:g.name,"")),a==null||a({[t.props.formItem.name]:v.getHTML()})};return hW(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){c(!1)},disable(){c(!0)}})),l&&A.jsx(uW.Item,{...t.props.formItem,"data-id":r,"data-type":e,children:A.jsx(oW,{theme:"snow",className:sW.richTextQuill,...t.props.formWrap,readOnly:u,style:t.style,onChange:f,onBlur:h})})},pW=cW(dW),vW={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"Switch",label:"只度",name:["formWrap","readOnly"]},{type:"Input",label:"占位符",name:["formWrap","placeholder"]},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:r=>A.jsx(je,{form:r},"rule-list")}],config:{props:{formItem:{label:"富文本",name:"richText"},formWrap:{placeholder:"我是一款低代码平台",readOnly:!1},defaultValue:""},style:{height:"200px"}},events:[{value:"onChange",name:"onChange事件"},{value:"onBlur",name:"onBlur事件"}]},gW=window.React.forwardRef,yW=window.React.useImperativeHandle,mW=window.React.useState,xW=window.antd.Space,bW=({id:r,type:e,config:t,elements:n},a)=>{const i=Et(u=>u.addChildElements),[o,l]=mW(!0),[,s]=xr({accept:"MENU_ITEM",drop(u,c){if(c.didDrop())return;const{config:f,events:h,methods:d=[]}=mr[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:r,id:u.id,config:f,events:h,methods:d})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return yW(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&A.jsx(xW,{style:t.style,...t.props,"data-id":r,"data-type":e,ref:s,children:n!=null&&n.length?n==null?void 0:n.map(u=>A.jsx(rg,{item:u},u.id)):A.jsx("div",{className:"slots",style:{width:300,height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},wW=gW(bW),SW={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"Select",label:"对齐方式",name:"align",props:{options:[{label:"起点对齐",value:"start"},{label:"终点对齐",value:"end"},{label:"居中对齐",value:"center"},{label:"基线对齐",value:"baseline"}]}},{type:"Select",label:"间距方向",name:"direction",props:{options:[{label:"垂直",value:"vertical"},{label:"水平",value:"horizontal"}]}},{type:"Select",label:"间距大小",name:["size"],props:{options:[{label:"默认",value:"small"},{label:"中等",value:"middle"},{label:"大号",value:"large"}]}},{type:"Switch",label:"自动换行",name:["wrap"],tooltip:"仅在 horizontal 时有效"}],config:{props:{align:"center",direction:"horizontal",size:"middle",wrap:!1},style:{display:"flex"},events:[],api:{},source:""},events:[]},CW=window.React.forwardRef,AW=window.React.useImperativeHandle,EW=window.React.useState,TW=window.antd.Row,IW=({id:r,type:e,config:t,elements:n},a)=>{var c;const i=Et(f=>f.addChildElements),[o,l]=EW(!0),[,s]=xr({accept:"MENU_ITEM",drop(f,h){if(h.didDrop())return;const{config:d,events:p,methods:v=[]}=mr[f.type+"Config"]||{};i({type:f.type,name:f.name,parentId:r,id:f.id,config:d,events:p,methods:v})},collect:f=>({isOver:f.isOver(),canDrop:f.canDrop()})});AW(a,()=>({show(){l(!0)},hide(){l(!1)}}));const u=((c=t.props)==null?void 0:c.gutter)||0;return o&&A.jsx(TW,{style:t.style,...t.props,gutter:u,"data-id":r,"data-type":e,ref:s,children:n!=null&&n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},MW=CW(IW),OW={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"Select",label:"垂直对齐",name:"align",props:{options:[{label:"顶部对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"底部对齐",value:"bottom"},{label:"拉伸对齐",value:"stretch"}]}},{type:"InputNumber",label:"间隔",name:"gutter",props:{placeholder:"请输入间隔"}},{type:"Select",label:"水平垂直",name:"justify",props:{options:[{label:"起点对齐",value:"start"},{label:"终点对齐",value:"end"},{label:"居中对齐",value:"center"},{label:"环绕对齐",value:"space-around"},{label:"两端对齐",value:"space-between"},{label:"均匀对齐",value:"space-evenly"}]}},{type:"Switch",label:"自动换行",name:["wrap"],tooltip:"仅在 horizontal 时有效"}],config:{props:{align:"top",gutter:0,justify:"start",wrap:!0},style:{},events:[],api:{},source:""},events:[]},FW=window.React.forwardRef,kW=window.React.useImperativeHandle,PW=window.React.useState,RW=window.antd.Col,LW=({id:r,type:e,config:t,elements:n},a)=>{const i=Et(u=>u.addChildElements),[o,l]=PW(!0),[,s]=xr({accept:"MENU_ITEM",drop(u,c){if(c.didDrop())return;const{config:f,events:h,methods:d=[]}=mr[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:r,id:u.id,config:f,events:h,methods:d})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return kW(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&A.jsx(RW,{style:t.style,...t.props,"data-id":r,"data-type":e,ref:s,children:n!=null&&n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},DW=FW(LW),_W={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"InputNumber",label:"占位格数",name:"span",props:{placeholder:"输入占位格数"}},{type:"InputNumber",label:"偏移格数",name:"offset",props:{placeholder:"左侧偏移格数"}},{type:"InputNumber",label:"左拉格数",name:"pull",props:{placeholder:"左侧偏移格数"}},{type:"InputNumber",label:"右推格数",name:"push",props:{placeholder:"左侧偏移格数"}}],config:{props:{span:8},style:{},events:[],api:{},source:""},events:[]},BW=window.antd.Divider,NW=window.React.forwardRef,$W=window.React.useImperativeHandle,jW=window.React.useState,VW=({id:r,type:e,config:t},n)=>{const[a,i]=jW(!0);return $W(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx(BW,{style:t.style,...t.props,"data-id":r,"data-type":e,children:t.props.text})},HW=NW(VW),zW={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Switch",label:"显示虚线",name:["dashed"]},{type:"Input",label:"显示文本",name:["text"]},{type:"Switch",label:"普通文本",name:["plain"]},{type:"Select",label:"标题位置",name:["orientation"],props:{options:[{value:"left",label:"左边"},{value:"right",label:"右边"},{value:"center",label:"中间"}]}},{type:"Select",label:"显示类型",name:["type"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}}],config:{props:{text:""},style:{},events:[]},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]};var zp=function(r,e){return zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},zp(r,e)};function U(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var E=function(){return E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},E.apply(this,arguments)};function Ht(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function Bl(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(r,e||[])).next())})}function Nl(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function _t(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function $l(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function pt(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}var vr=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)},qa=function(r,e){return vr(r)?r.indexOf(e)>-1:!1},Be=function(r,e){if(!vr(r))return r;for(var t=[],n=0;n<r.length;n++){var a=r[n];e(a,n)&&t.push(a)}return t},WW=function(r,e){return e===void 0&&(e=[]),Be(r,function(t){return!qa(e,t)})},GW={}.toString,Oa=function(r,e){return GW.call(r)==="[object "+e+"]"};const ut=function(r){return Oa(r,"Function")};var Q=function(r){return r==null};const J=function(r){return Array.isArray?Array.isArray(r):Oa(r,"Array")},jt=function(r){var e=typeof r;return r!==null&&e==="object"||e==="function"};function j(r,e){if(r){var t;if(J(r))for(var n=0,a=r.length;n<a&&(t=e(r[n],n),t!==!1);n++);else if(jt(r)){for(var i in r)if(r.hasOwnProperty(i)&&(t=e(r[i],i),t===!1))break}}}var Po=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return j(r,function(t,n){ut(r)&&n==="prototype"||e.push(n)}),e};function LC(r,e){var t=Po(e),n=t.length;if(Q(r))return!n;for(var a=0;a<n;a+=1){var i=t[a];if(e[i]!==r[i]||!(i in r))return!1}return!0}var Wp=function(r){return typeof r=="object"&&r!==null},vn=function(r){if(!Wp(r)||!Oa(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};function Yr(r,e){if(!J(r))return null;var t;if(ut(e)&&(t=e),vn(e)&&(t=function(a){return LC(a,e)}),t){for(var n=0;n<r.length;n+=1)if(t(r[n]))return r[n]}return null}function DC(r,e,t){t===void 0&&(t=0);for(var n=t;n<r.length;n++)if(e(r[n],n))return n;return-1}var qW=function(r,e){for(var t=null,n=0;n<r.length;n++){var a=r[n],i=a[e];if(!Q(i)){J(i)?t=i[0]:t=i;break}}return t},gr=function(r){if(!J(r))return[];for(var e=[],t=0;t<r.length;t++)e=e.concat(r[t]);return e};const yr=function(r){if(J(r))return r.reduce(function(e,t){return Math.max(e,t)},r[0])},Lr=function(r){if(J(r))return r.reduce(function(e,t){return Math.min(e,t)},r[0])};var _C=function(r){var e=r.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if(J(r[0])){for(var t=[],n=0;n<r.length;n++)t=t.concat(r[n]);e=t}var a=yr(e),i=Lr(e);return{min:i,max:a}},YW=Array.prototype.splice,UW=function(e,t){if(!vr(e))return[];for(var n=e?t.length:0,a=n-1;n--;){var i=void 0,o=t[n];(n===a||o!==i)&&(i=o,YW.call(e,o,1))}return e},ze=function(r,e,t){if(!J(r)&&!vn(r))return r;var n=t;return j(r,function(a,i){n=e(n,a,i)}),n},XW=function(r,e){var t=[];if(!vr(r))return t;for(var n=-1,a=[],i=r.length;++n<i;){var o=r[n];e(o,n,r)&&(t.push(o),a.push(n))}return UW(r,a),t};const gt=function(r){return Oa(r,"String")};function KW(r,e){var t;if(ut(e))t=function(a,i){return e(a)-e(i)};else{var n=[];gt(e)?n.push(e):J(e)&&(n=e),t=function(a,i){for(var o=0;o<n.length;o+=1){var l=n[o];if(a[l]>i[l])return 1;if(a[l]<i[l])return-1}return 0}}return r.sort(t),r}function pi(r,e){e===void 0&&(e=new Map);var t=[];if(Array.isArray(r))for(var n=0,a=r.length;n<a;n++){var i=r[n];e.has(i)||(t.push(i),e.set(i,!0))}return t}const Zr=function(r,e){for(var t=[],n={},a=0;a<r.length;a++){var i=r[a],o=i[e];if(!Q(o)){J(o)||(o=[o]);for(var l=0;l<o.length;l++){var s=o[l];n[s]||(t.push(s),n[s]=!0)}}}return t};function hr(r){if(vr(r))return r[0]}function we(r){if(vr(r)){var e=r;return e[e.length-1]}}var pg=function(r,e){for(var t=0;t<r.length;t++)if(!e(r[t],t))return!1;return!0},of=function(r,e){for(var t=0;t<r.length;t++)if(e(r[t],t))return!0;return!1},ZW=Object.prototype.hasOwnProperty;function dr(r,e){if(!e||!J(r))return{};for(var t={},n=ut(e)?e:function(l){return l[e]},a,i=0;i<r.length;i++){var o=r[i];a=n(o),ZW.call(t,a)?t[a].push(o):t[a]=[o]}return t}function BC(r,e){if(!e)return{0:r};if(!ut(e)){var t=J(e)?e:e.replace(/\s+/g,"").split("*");e=function(n){for(var a="_",i=0,o=t.length;i<o;i++)a+=n[t[i]]&&n[t[i]].toString();return a}}return dr(r,e)}const QW=function(r,e){if(!e)return[r];var t=BC(r,e),n=[];for(var a in t)n.push(t[a]);return n};var Zt=function(r,e,t){return r<e?e:r>t?t:r},Kh=function(r,e){var t=e.toString(),n=t.indexOf(".");if(n===-1)return Math.round(r);var a=t.substr(n+1).length;return a>20&&(a=20),parseFloat(r.toFixed(a))},xt=function(r){return Oa(r,"Number")},JW=1e-5;function Le(r,e,t){return t===void 0&&(t=JW),Math.abs(r-e)<t}const NC=function(r,e){if(J(r)){for(var t,n=-1/0,a=0;a<r.length;a++){var i=r[a],o=ut(e)?e(i):i[e];o>n&&(t=i,n=o)}return t}},t8=function(r,e){if(J(r)){for(var t,n=1/0,a=0;a<r.length;a++){var i=r[a],o=ut(e)?e(i):i[e];o<n&&(t=i,n=o)}return t}};var vg=function(r,e){return(r%e+e)%e},e8=Math.PI/180,gg=function(r){return e8*r};const xa=function(r,e){return r.hasOwnProperty(e)};var lf=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return j(r,function(t,n){ut(r)&&n==="prototype"||e.push(t)}),e};const xs=function(r){return Q(r)?"":r.toString()};var Ro=function(r){return xs(r).toLowerCase()};function $C(r,e){return!r||!e?r:r.replace(/\\?\{([^{}]+)\}/g,function(t,n){return t.charAt(0)==="\\"?t.slice(1):e[n]===void 0?"":e[n]})}var Ci=function(r){var e=xs(r);return e.charAt(0).toUpperCase()+e.substring(1)},r8={}.toString,n8=function(r){return r8.call(r).replace(/^\[object /,"").replace(/]$/,"")},co=function(r){return Oa(r,"Boolean")},jC=function(r){return Oa(r,"Date")},a8=function(r){return r===null},i8=Object.prototype,o8=function(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||i8;return r===t},Xa=function(r){return r===void 0},VC=function(r){return r instanceof Element||r instanceof HTMLDocument};function l8(r){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(r)}function s8(r){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(r)}function Zh(r,e){for(var t in e)e.hasOwnProperty(t)&&t!=="constructor"&&e[t]!==void 0&&(r[t]=e[t])}function zt(r,e,t,n){return e&&Zh(r,e),t&&Zh(r,t),n&&Zh(r,n),r}var Ye=function(r){if(typeof r!="object"||r===null)return r;var e;if(J(r)){e=[];for(var t=0,n=r.length;t<n;t++)typeof r[t]=="object"&&r[t]!=null?e[t]=Ye(r[t]):e[t]=r[t]}else{e={};for(var a in r)typeof r[a]=="object"&&r[a]!=null?e[a]=Ye(r[a]):e[a]=r[a]}return e};function HC(r,e,t){var n;return function(){var a=this,i=arguments,o=function(){n=null,t||r.apply(a,i)},l=t&&!n;clearTimeout(n),n=setTimeout(o,e),l&&r.apply(a,i)}}const Lo=function(r,e){if(!ut(r))throw new TypeError("Expected a function");var t=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=e?e.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var l=r.apply(this,n);return o.set(i,l),l};return t.cache=new Map,t};var u8=5;function zC(r,e,t,n){t=t||0,n=n||u8;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];i!==null&&vn(i)?(vn(r[a])||(r[a]={}),t<n?zC(r[a],i,t+1,n):r[a]=e[a]):J(i)?(r[a]=[],r[a]=r[a].concat(i)):i!==void 0&&(r[a]=i)}}var lt=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0;n<e.length;n+=1)zC(r,e[n]);return r},WC=function(r,e){if(!vr(r))return-1;var t=Array.prototype.indexOf;if(t)return t.call(r,e);for(var n=-1,a=0;a<r.length;a++)if(r[a]===e){n=a;break}return n},c8=Object.prototype.hasOwnProperty;function ir(r){if(Q(r))return!0;if(vr(r))return!r.length;var e=n8(r);if(e==="Map"||e==="Set")return!r.size;if(o8(r))return!Object.keys(r).length;for(var t in r)if(c8.call(r,t))return!1;return!0}var le=function(r,e){if(r===e)return!0;if(!r||!e||gt(r)||gt(e))return!1;if(vr(r)||vr(e)){if(r.length!==e.length)return!1;for(var t=!0,n=0;n<r.length&&(t=le(r[n],e[n]),!!t);n++);return t}if(Wp(r)||Wp(e)){var a=Object.keys(r),i=Object.keys(e);if(a.length!==i.length)return!1;for(var t=!0,n=0;n<a.length&&(t=le(r[a[n]],e[a[n]]),!!t);n++);return t}return!1},Qt=function(r,e){if(!vr(r))return r;for(var t=[],n=0;n<r.length;n++){var a=r[n];t.push(e(a,n))}return t},f8=function(r){return r};const h8=function(r,e){e===void 0&&(e=f8);var t={};return jt(r)&&!Q(r)&&Object.keys(r).forEach(function(n){t[n]=e(r[n],n)}),t},H=function(r,e,t){for(var n=0,a=gt(e)?e.split("."):e;r&&n<a.length;)r=r[a[n++]];return r===void 0||n<a.length?t:r},ye=function(r,e,t){var n=r,a=gt(e)?e.split("."):e;return a.forEach(function(i,o){o<a.length-1?(jt(n[i])||(n[i]=xt(a[o+1])?[]:{}),n=n[i]):n[i]=t}),r};var d8=Object.prototype.hasOwnProperty;const yg=function(r,e){if(r===null||!vn(r))return{};var t={};return j(e,function(n){d8.call(r,n)&&(t[n]=r[n])}),t},sf=function(r,e){return ze(r,function(t,n,a){return e.includes(a)||(t[a]=n),t},{})},mg=function(r,e,t){var n,a,i,o,l=0;t||(t={});var s=function(){l=t.leading===!1?0:Date.now(),n=null,o=r.apply(a,i),n||(a=i=null)},u=function(){var c=Date.now();!l&&t.leading===!1&&(l=c);var f=e-(c-l);return a=this,i=arguments,f<=0||f>e?(n&&(clearTimeout(n),n=null),l=c,o=r.apply(a,i),n||(a=i=null)):!n&&t.trailing!==!1&&(n=setTimeout(s,f)),o};return u.cancel=function(){clearTimeout(n),l=0,n=a=i=null},u},p8=function(r){return vr(r)?Array.prototype.slice.call(r):[]};var Zs={};const Fa=function(r){return r=r||"g",Zs[r]?Zs[r]+=1:Zs[r]=1,r+Zs[r]},ua=function(){};function Ie(r){return Q(r)?0:vr(r)?r.length:Object.keys(r).length}var Qs;const Js=Lo(function(r,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,a=e.fontWeight,i=e.fontStyle,o=e.fontVariant;return Qs||(Qs=document.createElement("canvas").getContext("2d")),Qs.font=[i,o,a,t+"px",n].join(" "),Qs.measureText(gt(r)?r:"").width},function(r,e){return e===void 0&&(e={}),$l([r],lf(e)).join("")}),v8=function(r,e,t,n){n===void 0&&(n="...");var a=16,i=Js(n,t),o=gt(r)?r:xs(r),l=e,s=[],u,c;if(Js(r,t)<=e)return r;for(;u=o.substr(0,a),c=Js(u,t),!(c+i>l&&c>l);)if(s.push(u),l-=c,o=o.substr(a),!o)return s.join("");for(;u=o.substr(0,1),c=Js(u,t),!(c+i>l);)if(s.push(u),l-=c,o=o.substr(1),!o)return s.join("");return""+s.join("")+n};var g8=function(){function r(){this.map={}}return r.prototype.has=function(e){return this.map[e]!==void 0},r.prototype.get=function(e,t){var n=this.map[e];return n===void 0?t:n},r.prototype.set=function(e,t){this.map[e]=t},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(e){delete this.map[e]},r.prototype.size=function(){return Object.keys(this.map).length},r}(),ce;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(ce||(ce={}));var it;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(it||(it={}));var Te;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.SLIDER="slider",r.SCROLLBAR="scrollbar",r.OTHER="other"})(Te||(Te={}));var Qi={FORE:3,MID:2,BG:1},St;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",r.BEFORE_CHANGE_SIZE="beforechangesize",r.AFTER_CHANGE_SIZE="afterchangesize"})(St||(St={}));var ha;(function(r){r.BEFORE_DRAW_ANIMATE="beforeanimate",r.AFTER_DRAW_ANIMATE="afteranimate",r.BEFORE_RENDER_LABEL="beforerenderlabel",r.AFTER_RENDER_LABEL="afterrenderlabel"})(ha||(ha={}));var Ze;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})(Ze||(Ze={}));var cc;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(cc||(cc={}));var Wi=["color","shape","size"],qt="_origin",Px=1,Rx=1,Lx=.25,GC={};function y8(r){var e=GC[r];if(!e)throw new Error("G engine '".concat(r,"' is not exist, please register it at first."));return e}function qC(r,e){GC[r]=e}function Di(r,e,t){if(r){if(typeof r.addEventListener=="function")return r.addEventListener(e,t,!1),{remove:function(){r.removeEventListener(e,t,!1)}};if(typeof r.attachEvent=="function")return r.attachEvent("on"+e,t),{remove:function(){r.detachEvent("on"+e,t)}}}}var sl,Qh,YC,Gp;function m8(){sl=document.createElement("table"),Qh=document.createElement("tr"),YC=/^\s*<(\w+|!)[^>]*>/,Gp={tr:document.createElement("tbody"),tbody:sl,thead:sl,tfoot:sl,td:Qh,th:Qh,"*":document.createElement("div")}}function da(r){sl||m8();var e=YC.test(r)&&RegExp.$1;(!e||!(e in Gp))&&(e="*");var t=Gp[e];r=typeof r=="string"?r.replace(/(^\s*)|(\s*$)/g,""):r,t.innerHTML=""+r;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function er(r,e,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(r,null)[e]:r.style[e]}catch{}finally{n=n===void 0?t:n}return n}function x8(r,e){var t=er(r,"height",e);return t==="auto"&&(t=r.offsetHeight),parseFloat(t)}function b8(r,e){var t=x8(r,e),n=parseFloat(er(r,"borderTopWidth"))||0,a=parseFloat(er(r,"paddingTop"))||0,i=parseFloat(er(r,"paddingBottom"))||0,o=parseFloat(er(r,"borderBottomWidth"))||0,l=parseFloat(er(r,"marginTop"))||0,s=parseFloat(er(r,"marginBottom"))||0;return t+n+o+a+i+l+s}function w8(r,e){var t=er(r,"width",e);return t==="auto"&&(t=r.offsetWidth),parseFloat(t)}function S8(r,e){var t=w8(r,e),n=parseFloat(er(r,"borderLeftWidth"))||0,a=parseFloat(er(r,"paddingLeft"))||0,i=parseFloat(er(r,"paddingRight"))||0,o=parseFloat(er(r,"borderRightWidth"))||0,l=parseFloat(er(r,"marginRight"))||0,s=parseFloat(er(r,"marginLeft"))||0;return t+n+o+a+i+s+l}function He(r,e){if(r)for(var t in e)e.hasOwnProperty(t)&&(r.style[t]=e[t]);return r}function C8(r){var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Dx(r){return typeof r=="number"&&!isNaN(r)}function _x(r,e,t,n){var a=t,i=n;if(e){var o=C8(r);a=o.width?o.width:a,i=o.height?o.height:i}return{width:Math.max(Dx(a)?a:Px,Px),height:Math.max(Dx(i)?i:Rx,Rx)}}function A8(r){var e=r.parentNode;e&&e.removeChild(r)}var E8="*",xg=function(){function r(){this._events={}}return r.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},r.prototype.once=function(e,t){return this.on(e,t,!0)},r.prototype.emit=function(e){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[e]||[],o=this._events[E8]||[],l=function(s){for(var u=s.length,c=0;c<u;c++)if(s[c]){var f=s[c],h=f.callback,d=f.once;d&&(s.splice(c,1),s.length===0&&delete t._events[e],u--,c--),h.apply(t,n)}};l(i),l(o)},r.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var n=this._events[e]||[],a=n.length,i=0;i<a;i++)n[i].callback===t&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[e]}return this},r.prototype.getEvents=function(){return this._events},r}(),bg=function(r){U(e,r);function e(t){var n=r.call(this)||this;n.destroyed=!1;var a=t.visible,i=a===void 0?!0:a;return n.visible=i,n}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(xg),wl=`	
\v\f\r   ᠎             　\u2028\u2029`,T8=new RegExp("([a-z])["+wl+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+wl+"]*,?["+wl+"]*)+)","ig"),I8=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+wl+"]*,?["+wl+"]*","ig"),Gi=function(r){if(!r)return null;if(J(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(T8,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace(I8,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=e[l]&&(t.push([a].concat(o.splice(0,e[l]))),!!e[l]););return r}),t},qp=function(r,e){for(var t=[],n=0,a=r.length;a-2*!e>n;n+=2){var i=[{x:+r[n-2],y:+r[n-1]},{x:+r[n],y:+r[n+1]},{x:+r[n+2],y:+r[n+3]},{x:+r[n+4],y:+r[n+5]}];e?n?a-4===n?i[3]={x:+r[0],y:+r[1]}:a-2===n&&(i[2]={x:+r[0],y:+r[1]},i[3]={x:+r[2],y:+r[3]}):i[0]={x:+r[a-2],y:+r[a-1]}:a-4===n?i[3]=i[2]:n||(i[0]={x:+r[n],y:+r[n+1]}),t.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return t},tu=function(r,e,t,n,a){var i=[];if(a===null&&n===null&&(n=t),r=+r,e=+e,t=+t,n=+n,a!==null){var o=Math.PI/180,l=r+t*Math.cos(-n*o),s=r+t*Math.cos(-a*o),u=e+t*Math.sin(-n*o),c=e+t*Math.sin(-a*o);i=[["M",l,u],["A",t,t,0,+(a-n>180),0,s,c]]}else i=[["M",r,e],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return i},Yp=function(r){if(r=Gi(r),!r||!r.length)return[["M",0,0]];var e=[],t=0,n=0,a=0,i=0,o=0,l,s;r[0][0]==="M"&&(t=+r[0][1],n=+r[0][2],a=t,i=n,o++,e[0]=["M",t,n]);for(var u=r.length===3&&r[0][0]==="M"&&r[1][0].toUpperCase()==="R"&&r[2][0].toUpperCase()==="Z",c=void 0,f=void 0,h=o,d=r.length;h<d;h++){if(e.push(c=[]),f=r[h],l=f[0],l!==l.toUpperCase())switch(c[0]=l.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+t,c[7]=+f[7]+n;break;case"V":c[1]=+f[1]+n;break;case"H":c[1]=+f[1]+t;break;case"R":s=[t,n].concat(f.slice(1));for(var p=2,v=s.length;p<v;p++)s[p]=+s[p]+t,s[++p]=+s[p]+n;e.pop(),e=e.concat(qp(s,u));break;case"O":e.pop(),s=tu(t,n,f[1],f[2]),s.push(s[0]),e=e.concat(s);break;case"U":e.pop(),e=e.concat(tu(t,n,f[1],f[2],f[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":a=+f[1]+t,i=+f[2]+n;break;default:for(var p=1,v=f.length;p<v;p++)c[p]=+f[p]+(p%2?t:n)}else if(l==="R")s=[t,n].concat(f.slice(1)),e.pop(),e=e.concat(qp(s,u)),c=["R"].concat(f.slice(-2));else if(l==="O")e.pop(),s=tu(t,n,f[1],f[2]),s.push(s[0]),e=e.concat(s);else if(l==="U")e.pop(),e=e.concat(tu(t,n,f[1],f[2],f[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var g=0,y=f.length;g<y;g++)c[g]=f[g];if(l=l.toUpperCase(),l!=="O")switch(c[0]){case"Z":t=+a,n=+i;break;case"H":t=c[1];break;case"V":n=c[1];break;case"M":a=c[c.length-2],i=c[c.length-1];break;default:t=c[c.length-2],n=c[c.length-1]}}return e},eu=function(r,e,t,n){return[r,e,t,n,t,n]},Bx=function(r,e,t,n,a,i){var o=.3333333333333333,l=2/3;return[o*r+l*t,o*e+l*n,o*a+l*t,o*i+l*n,a,i]},UC=function(r,e,t,n,a,i,o,l,s,u){t===n&&(t+=1);var c=Math.PI*120/180,f=Math.PI/180*(+a||0),h=[],d,p,v,g,y,m=function(G,X,K){var tt=G*Math.cos(K)-X*Math.sin(K),et=G*Math.sin(K)+X*Math.cos(K);return{x:tt,y:et}};if(u)p=u[0],v=u[1],g=u[2],y=u[3];else{d=m(r,e,-f),r=d.x,e=d.y,d=m(l,s,-f),l=d.x,s=d.y,r===l&&e===s&&(l+=1,s+=1);var b=(r-l)/2,x=(e-s)/2,w=b*b/(t*t)+x*x/(n*n);w>1&&(w=Math.sqrt(w),t=w*t,n=w*n);var S=t*t,C=n*n,T=(i===o?-1:1)*Math.sqrt(Math.abs((S*C-S*x*x-C*b*b)/(S*x*x+C*b*b)));g=T*t*x/n+(r+l)/2,y=T*-n*b/t+(e+s)/2,p=Math.asin(((e-y)/n).toFixed(9)),v=Math.asin(((s-y)/n).toFixed(9)),p=r<g?Math.PI-p:p,v=l<g?Math.PI-v:v,p<0&&(p=Math.PI*2+p),v<0&&(v=Math.PI*2+v),o&&p>v&&(p=p-Math.PI*2),!o&&v>p&&(v=v-Math.PI*2)}var F=v-p;if(Math.abs(F)>c){var I=v,M=l,O=s;v=p+c*(o&&v>p?1:-1),l=g+t*Math.cos(v),s=y+n*Math.sin(v),h=UC(l,s,t,n,a,0,o,M,O,[v,I,g,y])}F=v-p;var k=Math.cos(p),L=Math.sin(p),N=Math.cos(v),R=Math.sin(v),D=Math.tan(F/4),W=4/3*t*D,V=4/3*n*D,B=[r,e],P=[r+W*L,e-V*k],$=[l+W*R,s-V*N],z=[l,s];if(P[0]=2*B[0]-P[0],P[1]=2*B[1]-P[1],u)return[P,$,z].concat(h);h=[P,$,z].concat(h).join().split(",");for(var Y=[],q=0,_=h.length;q<_;q++)Y[q]=q%2?m(h[q-1],h[q],f).y:m(h[q],h[q+1],f).x;return Y},Up=function(r,e){var t=Yp(r),n=e&&Yp(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],l=[],s="",u="",c,f=function(b,x,w){var S,C;if(!b)return["C",x.x,x.y,x.x,x.y,x.x,x.y];switch(!(b[0]in{T:1,Q:1})&&(x.qx=x.qy=null),b[0]){case"M":x.X=b[1],x.Y=b[2];break;case"A":b=["C"].concat(UC.apply(0,[x.x,x.y].concat(b.slice(1))));break;case"S":w==="C"||w==="S"?(S=x.x*2-x.bx,C=x.y*2-x.by):(S=x.x,C=x.y),b=["C",S,C].concat(b.slice(1));break;case"T":w==="Q"||w==="T"?(x.qx=x.x*2-x.qx,x.qy=x.y*2-x.qy):(x.qx=x.x,x.qy=x.y),b=["C"].concat(Bx(x.x,x.y,x.qx,x.qy,b[1],b[2]));break;case"Q":x.qx=b[1],x.qy=b[2],b=["C"].concat(Bx(x.x,x.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(eu(x.x,x.y,b[1],b[2]));break;case"H":b=["C"].concat(eu(x.x,x.y,b[1],x.y));break;case"V":b=["C"].concat(eu(x.x,x.y,x.x,b[1]));break;case"Z":b=["C"].concat(eu(x.x,x.y,x.X,x.Y));break}return b},h=function(b,x){if(b[x].length>7){b[x].shift();for(var w=b[x];w.length;)o[x]="A",n&&(l[x]="A"),b.splice(x++,0,["C"].concat(w.splice(0,6)));b.splice(x,1),c=Math.max(t.length,n&&n.length||0)}},d=function(b,x,w,S,C){b&&x&&b[C][0]==="M"&&x[C][0]!=="M"&&(x.splice(C,0,["M",S.x,S.y]),w.bx=0,w.by=0,w.x=b[C][1],w.y=b[C][2],c=Math.max(t.length,n&&n.length||0))};c=Math.max(t.length,n&&n.length||0);for(var p=0;p<c;p++){t[p]&&(s=t[p][0]),s!=="C"&&(o[p]=s,p&&(u=o[p-1])),t[p]=f(t[p],a,u),o[p]!=="A"&&s==="C"&&(o[p]="C"),h(t,p),n&&(n[p]&&(s=n[p][0]),s!=="C"&&(l[p]=s,p&&(u=l[p-1])),n[p]=f(n[p],i,u),l[p]!=="A"&&s==="C"&&(l[p]="C"),h(n,p)),d(t,n,a,i,p),d(n,t,i,a,p);var v=t[p],g=n&&n[p],y=v.length,m=n&&g.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,i.bx=n&&(parseFloat(g[m-4])||i.x),i.by=n&&(parseFloat(g[m-3])||i.y),i.x=n&&g[m-2],i.y=n&&g[m-1]}return n?[t,n]:t},M8=/,?([a-z]),?/gi,XC=function(r){return r.join(",").replace(M8,"$1")},Nx=function(r,e,t,n,a){var i=-3*e+9*t-9*n+3*a,o=r*i+6*e-12*t+6*n;return r*o-3*e+3*t},$x=function(r,e,t,n,a,i,o,l,s){s===null&&(s=1),s=s>1?1:s<0?0:s;for(var u=s/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<c;p++){var v=u*f[p]+u,g=Nx(v,r,t,a,o),y=Nx(v,e,n,i,l),m=g*g+y*y;d+=h[p]*Math.sqrt(m)}return u*d},O8=function(r,e,t,n,a,i,o,l){for(var s=[],u=[[],[]],c,f,h,d,p=0;p<2;++p){if(p===0?(f=6*r-12*t+6*a,c=-3*r+9*t-9*a+3*o,h=3*t-3*r):(f=6*e-12*n+6*i,c=-3*e+9*n-9*i+3*l,h=3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(f)<1e-12)continue;d=-h/f,d>0&&d<1&&s.push(d);continue}var v=f*f-4*h*c,g=Math.sqrt(v);if(!(v<0)){var y=(-f+g)/(2*c);y>0&&y<1&&s.push(y);var m=(-f-g)/(2*c);m>0&&m<1&&s.push(m)}}for(var b=s.length,x=b,w;b--;)d=s[b],w=1-d,u[0][b]=w*w*w*r+3*w*w*d*t+3*w*d*d*a+d*d*d*o,u[1][b]=w*w*w*e+3*w*w*d*n+3*w*d*d*i+d*d*d*l;return u[0][x]=r,u[1][x]=e,u[0][x+1]=o,u[1][x+1]=l,u[0].length=u[1].length=x+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},F8=function(r,e,t,n,a,i,o,l){if(!(Math.max(r,t)<Math.min(a,o)||Math.min(r,t)>Math.max(a,o)||Math.max(e,n)<Math.min(i,l)||Math.min(e,n)>Math.max(i,l))){var s=(r*n-e*t)*(a-o)-(r-t)*(a*l-i*o),u=(r*n-e*t)*(i-l)-(e-n)*(a*l-i*o),c=(r-t)*(i-l)-(e-n)*(a-o);if(c){var f=s/c,h=u/c,d=+f.toFixed(2),p=+h.toFixed(2);if(!(d<+Math.min(r,t).toFixed(2)||d>+Math.max(r,t).toFixed(2)||d<+Math.min(a,o).toFixed(2)||d>+Math.max(a,o).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(i,l).toFixed(2)||p>+Math.max(i,l).toFixed(2)))return{x:f,y:h}}}},Un=function(r,e,t){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},KC=function(r,e,t,n,a){if(a)return[["M",+r+ +a,e],["l",t-a*2,0],["a",a,a,0,0,1,a,a],["l",0,n-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-t,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-n],["a",a,a,0,0,1,a,-a],["z"]];var i=[["M",r,e],["l",t,0],["l",0,n],["l",-t,0],["z"]];return i.parsePathArray=XC,i},Xp=function(r,e,t,n){return r===null&&(r=e=t=n=0),e===null&&(e=r.y,t=r.width,n=r.height,r=r.x),{x:r,y:e,width:t,w:t,height:n,h:n,x2:r+t,y2:e+n,cx:r+t/2,cy:e+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:KC(r,e,t,n),vb:[r,e,t,n].join(" ")}},k8=function(r,e){return r=Xp(r),e=Xp(e),Un(e,r.x,r.y)||Un(e,r.x2,r.y)||Un(e,r.x,r.y2)||Un(e,r.x2,r.y2)||Un(r,e.x,e.y)||Un(r,e.x2,e.y)||Un(r,e.x,e.y2)||Un(r,e.x2,e.y2)||(r.x<e.x2&&r.x>e.x||e.x<r.x2&&e.x>r.x)&&(r.y<e.y2&&r.y>e.y||e.y<r.y2&&e.y>r.y)},jx=function(r,e,t,n,a,i,o,l){J(r)||(r=[r,e,t,n,a,i,o,l]);var s=O8.apply(null,r);return Xp(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},Vx=function(r,e,t,n,a,i,o,l,s){var u=1-s,c=Math.pow(u,3),f=Math.pow(u,2),h=s*s,d=h*s,p=c*r+f*3*s*t+u*3*s*s*a+d*o,v=c*e+f*3*s*n+u*3*s*s*i+d*l,g=r+2*s*(t-r)+h*(a-2*t+r),y=e+2*s*(n-e)+h*(i-2*n+e),m=t+2*s*(a-t)+h*(o-2*a+t),b=n+2*s*(i-n)+h*(l-2*i+n),x=u*r+s*t,w=u*e+s*n,S=u*a+s*o,C=u*i+s*l,T=90-Math.atan2(g-m,y-b)*180/Math.PI;return{x:p,y:v,m:{x:g,y},n:{x:m,y:b},start:{x,y:w},end:{x:S,y:C},alpha:T}},P8=function(r,e,t){var n=jx(r),a=jx(e);if(!k8(n,a))return t?0:[];for(var i=$x.apply(0,r),o=$x.apply(0,e),l=~~(i/8),s=~~(o/8),u=[],c=[],f={},h=t?0:[],d=0;d<l+1;d++){var p=Vx.apply(0,r.concat(d/l));u.push({x:p.x,y:p.y,t:d/l})}for(var d=0;d<s+1;d++){var p=Vx.apply(0,e.concat(d/s));c.push({x:p.x,y:p.y,t:d/s})}for(var d=0;d<l;d++)for(var v=0;v<s;v++){var g=u[d],y=u[d+1],m=c[v],b=c[v+1],x=Math.abs(y.x-g.x)<.001?"y":"x",w=Math.abs(b.x-m.x)<.001?"y":"x",S=F8(g.x,g.y,y.x,y.y,m.x,m.y,b.x,b.y);if(S){if(f[S.x.toFixed(4)]===S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var C=g.t+Math.abs((S[x]-g[x])/(y[x]-g[x]))*(y.t-g.t),T=m.t+Math.abs((S[w]-m[w])/(b[w]-m[w]))*(b.t-m.t);C>=0&&C<=1&&T>=0&&T<=1&&(t?h+=1:h.push({x:S.x,y:S.y,t1:C,t2:T}))}}return h},R8=function(r,e,t){r=Up(r),e=Up(e);for(var n,a,i,o,l,s,u,c,f,h,d=t?0:[],p=0,v=r.length;p<v;p++){var g=r[p];if(g[0]==="M")n=l=g[1],a=s=g[2];else{g[0]==="C"?(f=[n,a].concat(g.slice(1)),n=f[6],a=f[7]):(f=[n,a,n,a,l,s,l,s],n=l,a=s);for(var y=0,m=e.length;y<m;y++){var b=e[y];if(b[0]==="M")i=u=b[1],o=c=b[2];else{b[0]==="C"?(h=[i,o].concat(b.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,u,c,u,c],i=u,o=c);var x=P8(f,h,t);if(t)d+=x;else{for(var w=0,S=x.length;w<S;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=f,x[w].bez2=h;d=d.concat(x)}}}}}return d},L8=function(r,e){return R8(r,e)};function D8(r,e){var t=[],n=[];function a(i,o){if(i.length===1)t.push(i[0]),n.push(i[0]);else{for(var l=[],s=0;s<i.length-1;s++)s===0&&t.push(i[0]),s===i.length-2&&n.push(i[s+1]),l[s]=[(1-o)*i[s][0]+o*i[s+1][0],(1-o)*i[s][1]+o*i[s+1][1]];a(l,o)}}return r.length&&a(r,e),{left:t,right:n.reverse()}}function _8(r,e,t){var n=[[r[1],r[2]]];t=t||2;var a=[];e[0]==="A"?(n.push(e[6]),n.push(e[7])):e[0]==="C"?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var i=n,o=1/t,l=0;l<t-1;l++){var s=o/(1-o*l),u=D8(i,s);a.push(u.left),i=u.right}a.push(i);var c=a.map(function(f){var h=[];return f.length===4&&(h.push("C"),h=h.concat(f[2])),f.length>=3&&(f.length===3&&h.push("Q"),h=h.concat(f[1])),f.length===2&&h.push("L"),h=h.concat(f[f.length-1]),h});return c}var B8=function(r,e,t){if(t===1)return[[].concat(r)];var n=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")n=n.concat(_8(r,e,t));else{var a=[].concat(r);a[0]==="M"&&(a[0]="L");for(var i=0;i<=t-1;i++)n.push(a)}return n},N8=function(r,e){if(r.length===1)return r;var t=r.length-1,n=e.length-1,a=t/n,i=[];if(r.length===1&&r[0][0]==="M"){for(var o=0;o<n-t;o++)r.push(r[0]);return r}for(var o=0;o<n;o++){var l=Math.floor(a*o);i[l]=(i[l]||0)+1}var s=i.reduce(function(u,c,f){return f===t?u.concat(r[t]):u.concat(B8(r[f],r[f+1],c))},[]);return s.unshift(r[0]),(e[n]==="Z"||e[n]==="z")&&s.push("Z"),s},$8=function(r,e){if(r.length!==e.length)return!1;var t=!0;return j(r,function(n,a){if(n!==e[a])return t=!1,!1}),t};function j8(r,e,t){var n=null,a=t;return e<a&&(a=e,n="add"),r<a&&(a=r,n="del"),{type:n,min:a}}var V8=function(r,e){var t=r.length,n=e.length,a,i,o=0;if(t===0||n===0)return null;for(var l=[],s=0;s<=t;s++)l[s]=[],l[s][0]={min:s};for(var u=0;u<=n;u++)l[0][u]={min:u};for(var s=1;s<=t;s++){a=r[s-1];for(var u=1;u<=n;u++){i=e[u-1],$8(a,i)?o=0:o=1;var c=l[s-1][u].min+1,f=l[s][u-1].min+1,h=l[s-1][u-1].min+o;l[s][u]=j8(c,f,h)}}return l},ZC=function(r,e){var t=V8(r,e),n=r.length,a=e.length,i=[],o=1,l=1;if(t[n][a].min!==n){for(var s=1;s<=n;s++){var u=t[s][s].min;l=s;for(var c=o;c<=a;c++)t[s][c].min<u&&(u=t[s][c].min,l=c);o=l,t[s][o].type&&i.push({index:s-1,type:t[s][o].type})}for(var s=i.length-1;s>=0;s--)o=i[s].index,i[s].type==="add"?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}n=r.length;var f=a-n;if(n<a)for(var s=0;s<f;s++)r[n-1][0]==="z"||r[n-1][0]==="Z"?r.splice(n-2,0,r[n-2]):r.push(r[n-1]),n+=1;return r};function Jh(r,e,t){for(var n=[].concat(r),a,i=1/(t+1),o=QC(e)[0],l=1;l<=t;l++)i*=l,a=Math.floor(r.length*i),a===0?n.unshift([o[0]*i+r[a][0]*(1-i),o[1]*i+r[a][1]*(1-i)]):n.splice(a,0,[o[0]*i+r[a][0]*(1-i),o[1]*i+r[a][1]*(1-i)]);return n}function QC(r){var e=[];switch(r[0]){case"M":e.push([r[1],r[2]]);break;case"L":e.push([r[1],r[2]]);break;case"A":e.push([r[6],r[7]]);break;case"Q":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"T":e.push([r[1],r[2]]);break;case"C":e.push([r[5],r[6]]),e.push([r[1],r[2]]),e.push([r[3],r[4]]);break;case"S":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"H":e.push([r[1],r[1]]);break;case"V":e.push([r[1],r[1]]);break}return e}var Kp=function(r,e){if(r.length<=1)return r;for(var t,n=0;n<e.length;n++)if(r[n][0]!==e[n][0])switch(t=QC(r[n]),e[n][0]){case"M":r[n]=["M"].concat(t[0]);break;case"L":r[n]=["L"].concat(t[0]);break;case"A":r[n]=[].concat(e[n]),r[n][6]=t[0][0],r[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=Jh(t,r[n-1],1);else{r[n]=e[n];break}r[n]=["Q"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"T":r[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=Jh(t,r[n-1],2);else{r[n]=e[n];break}r[n]=["C"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"S":if(t.length<2)if(n>0)t=Jh(t,r[n-1],1);else{r[n]=e[n];break}r[n]=["S"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;default:r[n]=e[n]}return r};const wg=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:qp,fillPath:N8,fillPathByDiff:ZC,formatPath:Kp,intersection:L8,parsePathArray:XC,parsePathString:Gi,pathToAbsolute:Yp,pathToCurve:Up,rectPath:KC},Symbol.toStringTag,{value:"Module"}));var bs=function(){function r(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}();function JC(r,e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var Hx=typeof window<"u"&&typeof window.document<"u";function tA(r,e){if(r.isCanvas())return!0;for(var t=e.getParent(),n=!1;t;){if(t===r){n=!0;break}t=t.getParent()}return n}function jl(r){return r.cfg.visible&&r.cfg.capture}var uf=function(r){U(e,r);function e(t){var n=r.call(this)||this;n.destroyed=!1;var a=n.getDefaultCfg();return n.cfg=zt(a,t),n}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,n){this.cfg[t]=n},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(xg),zx=function(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},H8=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),z8=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),W8=function(){function r(e,t,n,a){this.name=e,this.version=t,this.os=n,this.bot=a,this.type="bot-device"}return r}(),G8=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),q8=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),Y8=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,U8=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Wx=3,X8=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Y8]],Gx=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function eA(r){return r?qx(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new q8:typeof navigator<"u"?qx(navigator.userAgent):Q8()}function K8(r){return r!==""&&X8.reduce(function(e,t){var n=t[0],a=t[1];if(e)return e;var i=a.exec(r);return!!i&&[n,i]},!1)}function qx(r){var e=K8(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new G8;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<Wx&&(a=zx(zx([],a,!0),J8(Wx-a.length),!0)):a=[];var i=a.join("."),o=Z8(r),l=U8.exec(r);return l&&l[1]?new W8(t,i,o,l[1]):new H8(t,i,o)}function Z8(r){for(var e=0,t=Gx.length;e<t;e++){var n=Gx[e],a=n[0],i=n[1],o=i.exec(r);if(o)return a}return null}function Q8(){var r=typeof process<"u"&&process.version;return r?new z8(process.version.slice(1)):null}function J8(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var fc=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function t6(r,e){var t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],s=e[6],u=e[7],c=e[8],f=c*o-l*u,h=-c*i+l*s,d=u*i-o*s,p=t*f+n*h+a*d;return p?(p=1/p,r[0]=f*p,r[1]=(-c*n+a*u)*p,r[2]=(l*n-a*o)*p,r[3]=h*p,r[4]=(c*t-a*s)*p,r[5]=(-l*t+a*i)*p,r[6]=d*p,r[7]=(-u*t+n*s)*p,r[8]=(o*t-n*i)*p,r):null}function cf(r,e,t){var n=e[0],a=e[1],i=e[2],o=e[3],l=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=t[0],d=t[1],p=t[2],v=t[3],g=t[4],y=t[5],m=t[6],b=t[7],x=t[8];return r[0]=h*n+d*o+p*u,r[1]=h*a+d*l+p*c,r[2]=h*i+d*s+p*f,r[3]=v*n+g*o+y*u,r[4]=v*a+g*l+y*c,r[5]=v*i+g*s+y*f,r[6]=m*n+b*o+x*u,r[7]=m*a+b*l+x*c,r[8]=m*i+b*s+x*f,r}function e6(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=e[0],r[7]=e[1],r[8]=1,r}function r6(r,e){var t=Math.sin(e),n=Math.cos(e);return r[0]=n,r[1]=t,r[2]=0,r[3]=-t,r[4]=n,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function n6(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=e[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function a6(){var r=new fc(3);return fc!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Vl(r,e,t){var n=e[0],a=e[1],i=e[2];return r[0]=n*t[0]+a*t[3]+i*t[6],r[1]=n*t[1]+a*t[4]+i*t[7],r[2]=n*t[2]+a*t[5]+i*t[8],r}(function(){var r=a6();return function(e,t,n,a,i,o){var l,s;for(t||(t=3),n||(n=0),a?s=Math.min(a*t+n,e.length):s=e.length,l=n;l<s;l+=t)r[0]=e[l],r[1]=e[l+1],r[2]=e[l+2],i(r,r,o),e[l]=r[0],e[l+1]=r[1],e[l+2]=r[2];return e}})();function i6(){var r=new fc(2);return fc!=Float32Array&&(r[0]=0,r[1]=0),r}function hn(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function rA(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function Pe(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Re(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}function Ue(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function fo(r,e){var t=e[0]-r[0],n=e[1]-r[1];return Math.hypot(t,n)}function qi(r){var e=r[0],t=r[1];return Math.hypot(e,t)}function nA(r,e){var t=e[0],n=e[1],a=t*t+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e[0]*a,r[1]=e[1]*a,r}function o6(r,e){return r[0]*e[0]+r[1]*e[1]}function l6(r,e,t){var n=e[0],a=e[1];return r[0]=t[0]*n+t[3]*a+t[6],r[1]=t[1]*n+t[4]*a+t[7],r}function Zp(r,e){var t=r[0],n=r[1],a=e[0],i=e[1],o=Math.sqrt(t*t+n*n)*Math.sqrt(a*a+i*i),l=o&&(t*a+n*i)/o;return Math.acos(Math.min(Math.max(l,-1),1))}function s6(r,e){return r[0]===e[0]&&r[1]===e[1]}var ni=rA;(function(){var r=i6();return function(e,t,n,a,i,o){var l,s;for(t||(t=2),n||(n=0),a?s=Math.min(a*t+n,e.length):s=e.length,l=n;l<s;l+=t)r[0]=e[l],r[1]=e[l+1],i(r,r,o),e[l]=r[0],e[l+1]=r[1];return e}})();function Vi(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return e6(n,t),cf(r,n,e)}function Sg(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return r6(n,t),cf(r,n,e)}function aA(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return n6(n,t),cf(r,n,e)}function u6(r,e,t){return cf(r,t,e)}function be(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],n=0,a=e.length;n<a;n++){var i=e[n];switch(i[0]){case"t":Vi(t,t,[i[1],i[2]]);break;case"s":aA(t,t,[i[1],i[2]]);break;case"r":Sg(t,t,i[1]);break;case"m":u6(t,t,i[1]);break}}return t}function c6(r,e){return r[0]*e[1]-e[0]*r[1]}function Cg(r,e,t){var n=Zp(r,e),a=c6(r,e)>=0;return t?a?Math.PI*2-n:n:a?n:Math.PI*2-n}function Yx(r,e){var t=[],n=r[0],a=r[1],i=r[2],o=r[3],l=r[4],s=r[5],u=r[6],c=r[7],f=r[8],h=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return t[0]=h*n+d*o+p*u,t[1]=h*a+d*l+p*c,t[2]=h*i+d*s+p*f,t[3]=v*n+g*o+y*u,t[4]=v*a+g*l+y*c,t[5]=v*i+g*s+y*f,t[6]=m*n+b*o+x*u,t[7]=m*a+b*l+x*c,t[8]=m*i+b*s+x*f,t}function Pn(r,e){var t=[],n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function ff(r){var e=[],t=r[0],n=r[1],a=r[2],i=r[3],o=r[4],l=r[5],s=r[6],u=r[7],c=r[8],f=c*o-l*u,h=-c*i+l*s,d=u*i-o*s,p=t*f+n*h+a*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*n+a*u)*p,e[2]=(l*n-a*o)*p,e[3]=h*p,e[4]=(c*t-a*s)*p,e[5]=(-l*t+a*i)*p,e[6]=d*p,e[7]=(-u*t+n*s)*p,e[8]=(o*t-n*i)*p,e):null}var Uo=be,td="matrix",f6=["zIndex","capture","visible","type"],h6=["repeat"],d6=":",p6="*";function v6(r){for(var e=[],t=0;t<r.length;t++)J(r[t])?e.push([].concat(r[t])):e.push(r[t]);return e}function g6(r,e){var t={},n=e.attrs;for(var a in r)t[a]=n[a];return t}function y6(r,e){var t={},n=e.attr();return j(r,function(a,i){h6.indexOf(i)===-1&&!le(n[i],a)&&(t[i]=a)}),t}function m6(r,e){if(e.onFrame)return r;var t=e.startTime,n=e.delay,a=e.duration,i=Object.prototype.hasOwnProperty;return j(r,function(o){t+n<o.startTime+o.delay+o.duration&&a>o.delay&&j(e.toAttrs,function(l,s){i.call(o.toAttrs,s)&&(delete o.toAttrs[s],delete o.fromAttrs[s])})}),r}var iA=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.attrs={};var a=n.getDefaultAttrs();return zt(a,t.attrs),n.attrs=a,n.initAttrs(a),n.initAnimate(),n}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=n[0],o=n[1];if(!i)return this.attrs;if(jt(i)){for(var l in i)this.setAttr(l,i[l]);return this.afterAttrsChange(i),this}return n.length===2?(this.setAttr(i,o),this.afterAttrsChange((t={},t[i]=o,t)),this):this.attrs[i]},e.prototype.isClipped=function(t,n){var a=this.getClip();return a&&!a.isHit(t,n)},e.prototype.setAttr=function(t,n){var a=this.attrs[t];a!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,a))},e.prototype.onAttrChange=function(t,n,a){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(JC(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(td,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(td)},e.prototype.setMatrix=function(t){this.attr(td,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),a=this.cfg.parentMatrix;a&&n?t=Yx(a,n):t=n||a,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var n=this.attr("matrix"),a=null;t&&n?a=Yx(t,n):a=n||t,this.set("totalMatrix",a),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?Pn(n,t):t},e.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var a=ff(n);if(a)return Pn(a,t)}return t},e.prototype.setClip=function(t){var n=this.getCanvas(),a=null;if(t){var i=this.getShapeBase(),o=Ci(t.type),l=i[o];l&&(a=new l({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",a),this.onCanvasChange("clip"),a},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,n=this.attrs,a={};j(n,function(l,s){J(n[s])?a[s]=v6(n[s]):a[s]=n[s]});var i=this.constructor,o=new i({attrs:a});return j(f6,function(l){o.set(l,t.get(l))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},r.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var a=this.get("timeline");a||(a=this.get("canvas").get("timeline"),this.set("timeline",a));var i=this.get("animations")||[];a.timer||a.initTimer();var o=t[0],l=t[1],s=t[2],u=s===void 0?"easeLinear":s,c=t[3],f=c===void 0?ua:c,h=t[4],d=h===void 0?0:h,p,v,g,y,m;ut(o)?(p=o,o={}):jt(o)&&o.onFrame&&(p=o.onFrame,v=o.repeat),jt(l)?(m=l,l=m.duration,u=m.easing||"easeLinear",d=m.delay||0,v=m.repeat||v||!1,f=m.callback||ua,g=m.pauseCallback||ua,y=m.resumeCallback||ua):(xt(f)&&(d=f,f=null),ut(u)?(f=u,u="easeLinear"):u=u||"easeLinear");var b=y6(o,this),x={fromAttrs:g6(b,this),toAttrs:b,duration:l,easing:u,repeat:v,callback:f,pauseCallback:g,resumeCallback:y,delay:d,startTime:a.getTime(),id:Fa(),onFrame:p,pathFormatted:!1};i.length>0?i=m6(i,x):a.addAnimator(this),i.push(x),this.set("animations",i),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var a=this.get("animations");j(a,function(i){t&&(i.onFrame?n.attr(i.onFrame(1)):n.attr(i.toAttrs)),i.callback&&i.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),a=t.getTime();return j(n,function(i){i._paused=!0,i._pauseTime=a,i.pauseCallback&&i.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:a}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),a=this.get("animations"),i=this.get("_pause").pauseTime;return j(a,function(o){o.startTime=o.startTime+(n-i),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},e.prototype.emitDelegation=function(t,n){var a=this,i=n.propagationPath;this.getEvents();var o;t==="mouseenter"?o=n.fromShape:t==="mouseleave"&&(o=n.toShape);for(var l=function(f){var h=i[f],d=h.get("name");if(d){if((h.isGroup()||h.isCanvas&&h.isCanvas())&&o&&tA(h,o))return"break";J(d)?j(d,function(p){a.emitDelegateEvent(h,p,n)}):s.emitDelegateEvent(h,d,n)}},s=this,u=0;u<i.length;u++){var c=l(u);if(c==="break")break}},e.prototype.emitDelegateEvent=function(t,n,a){var i=this.getEvents(),o=n+d6+a.type;(i[o]||i[p6])&&(a.name=o,a.currentTarget=t,a.delegateTarget=this,a.delegateObject=t.get("delegateObject"),this.emit(o,a))},e.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=this.getMatrix(),i=Uo(a,[["t",t,n]]);return this.setMatrix(i),this},e.prototype.move=function(t,n){var a=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-a,n-i),this},e.prototype.moveTo=function(t,n){return this.move(t,n)},e.prototype.scale=function(t,n){var a=this.getMatrix(),i=Uo(a,[["s",t,n||t]]);return this.setMatrix(i),this},e.prototype.rotate=function(t){var n=this.getMatrix(),a=Uo(n,[["r",t]]);return this.setMatrix(a),this},e.prototype.rotateAtStart=function(t){var n=this.attr(),a=n.x,i=n.y,o=this.getMatrix(),l=Uo(o,[["t",-a,-i],["r",t],["t",a,i]]);return this.setMatrix(l),this},e.prototype.rotateAtPoint=function(t,n,a){var i=this.getMatrix(),o=Uo(i,[["t",-t,-n],["r",a],["t",t,n]]);return this.setMatrix(o),this},e}(uf),Ux={},Qp="_INDEX";function oA(r,e){if(r.set("canvas",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(n){oA(n,e)})}}function lA(r,e){if(r.set("timeline",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(n){lA(n,e)})}}function x6(r,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),JC(r.getChildren(),e)}function b6(r){return function(e,t){var n=r(e,t);return n===0?e[Qp]-t[Qp]:n}}var sA=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});o.length>0?j(o,function(s){var u=s.getBBox(),c=u.minX,f=u.maxX,h=u.minY,d=u.maxY;c<t&&(t=c),f>n&&(n=f),h<a&&(a=h),d>i&&(i=d)}):(t=0,n=0,a=0,i=0);var l={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return l},e.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});o.length>0?j(o,function(s){var u=s.getCanvasBBox(),c=u.minX,f=u.maxX,h=u.minY,d=u.maxY;c<t&&(t=c),f>n&&(n=f),h<a&&(a=h),d>i&&(i=d)}):(t=0,n=0,a=0,i=0);var l={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return l},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,n,a){if(r.prototype.onAttrChange.call(this,t,n,a),t==="matrix"){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();r.prototype.applyMatrix.call(this,t);var a=this.getTotalMatrix();a!==n&&this._applyChildrenMarix(a)},e.prototype._applyChildrenMarix=function(t){var n=this.getChildren();j(n,function(a){a.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1];jt(a)?i=a:i.type=a;var o=Ux[i.type];o||(o=Ci(i.type),Ux[i.type]=o);var l=this.getShapeBase(),s=new l[o](i);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1],o;if(ut(a))i?o=new a(i):o=new a({parent:this});else{var l=a||{},s=this.getGroupBase();o=new s(l)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,n,a){if(!jl(this))return null;var i=this.getChildren(),o;if(this.isCanvas())o=this._findShape(i,t,n,a);else{var l=[t,n,1];l=this.invertFromMatrix(l),this.isClipped(l[0],l[1])||(o=this._findShape(i,l[0],l[1],a))}return o},e.prototype._findShape=function(t,n,a,i){for(var o=null,l=t.length-1;l>=0;l--){var s=t[l];if(jl(s)&&(s.isGroup()?o=s.getShape(n,a,i):s.isHit(n,a)&&(o=s)),o)break}return o},e.prototype.add=function(t){var n=this.getCanvas(),a=this.getChildren(),i=this.get("timeline"),o=t.getParent();o&&x6(o,t,!1),t.set("parent",this),n&&oA(t,n),i&&lA(t,i),a.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var t=this.getChildren();j(t,function(n,a){return n[Qp]=a,n}),t.sort(b6(function(n,a){return n.get("zIndex")-a.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},e.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},e.prototype.findAll=function(t){var n=[],a=this.getChildren();return j(a,function(i){t(i)&&n.push(i),i.isGroup()&&(n=n.concat(i.findAll(t)))}),n},e.prototype.find=function(t){var n=null,a=this.getChildren();return j(a,function(i){if(t(i)?n=i:i.isGroup()&&(n=i.find(t)),n)return!1}),n},e.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},e}(iA),ho=0,ul=0,Xo=0,uA=1e3,hc,cl,dc=0,vi=0,hf=0,Hl=typeof performance=="object"&&performance.now?performance:Date,cA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function fA(){return vi||(cA(w6),vi=Hl.now()+hf)}function w6(){vi=0}function Jp(){this._call=this._time=this._next=null}Jp.prototype=hA.prototype={constructor:Jp,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?fA():+t)+(e==null?0:+e),!this._next&&cl!==this&&(cl?cl._next=this:hc=this,cl=this),this._call=r,this._time=t,tv()},stop:function(){this._call&&(this._call=null,this._time=1/0,tv())}};function hA(r,e,t){var n=new Jp;return n.restart(r,e,t),n}function S6(){fA(),++ho;for(var r=hc,e;r;)(e=vi-r._time)>=0&&r._call.call(null,e),r=r._next;--ho}function Xx(){vi=(dc=Hl.now())+hf,ho=ul=0;try{S6()}finally{ho=0,A6(),vi=0}}function C6(){var r=Hl.now(),e=r-dc;e>uA&&(hf-=e,dc=r)}function A6(){for(var r,e=hc,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:hc=t);cl=r,tv(n)}function tv(r){if(!ho){ul&&(ul=clearTimeout(ul));var e=r-vi;e>24?(r<1/0&&(ul=setTimeout(Xx,r-Hl.now()-hf)),Xo&&(Xo=clearInterval(Xo))):(Xo||(dc=Hl.now(),Xo=setInterval(C6,uA)),ho=1,cA(Xx))}}function Ag(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function dA(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function ws(){}var zl=.7,pc=1/zl,Ji="\\s*([+-]?\\d+)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E6=/^#([0-9a-f]{3,8})$/,T6=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),I6=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),M6=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${Wl}\\)$`),O6=new RegExp(`^rgba\\(${gn},${gn},${gn},${Wl}\\)$`),F6=new RegExp(`^hsl\\(${Wl},${gn},${gn}\\)$`),k6=new RegExp(`^hsla\\(${Wl},${gn},${gn},${Wl}\\)$`),Kx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ag(ws,Gl,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Zx,formatHex:Zx,formatHex8:P6,formatHsl:R6,formatRgb:Qx,toString:Qx});function Zx(){return this.rgb().formatHex()}function P6(){return this.rgb().formatHex8()}function R6(){return pA(this).formatHsl()}function Qx(){return this.rgb().formatRgb()}function Gl(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=E6.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Jx(e):t===3?new ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ru(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ru(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=T6.exec(r))?new ar(e[1],e[2],e[3],1):(e=I6.exec(r))?new ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=M6.exec(r))?ru(e[1],e[2],e[3],e[4]):(e=O6.exec(r))?ru(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=F6.exec(r))?rb(e[1],e[2]/100,e[3]/100,1):(e=k6.exec(r))?rb(e[1],e[2]/100,e[3]/100,e[4]):Kx.hasOwnProperty(r)?Jx(Kx[r]):r==="transparent"?new ar(NaN,NaN,NaN,0):null}function Jx(r){return new ar(r>>16&255,r>>8&255,r&255,1)}function ru(r,e,t,n){return n<=0&&(r=e=t=NaN),new ar(r,e,t,n)}function L6(r){return r instanceof ws||(r=Gl(r)),r?(r=r.rgb(),new ar(r.r,r.g,r.b,r.opacity)):new ar}function ev(r,e,t,n){return arguments.length===1?L6(r):new ar(r,e,t,n??1)}function ar(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Ag(ar,ev,dA(ws,{brighter(r){return r=r==null?pc:Math.pow(pc,r),new ar(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?zl:Math.pow(zl,r),new ar(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new ar(ai(this.r),ai(this.g),ai(this.b),vc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tb,formatHex:tb,formatHex8:D6,formatRgb:eb,toString:eb}));function tb(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function D6(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function eb(){const r=vc(this.opacity);return`${r===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${r===1?")":`, ${r})`}`}function vc(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ai(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Ka(r){return r=ai(r),(r<16?"0":"")+r.toString(16)}function rb(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Gr(r,e,t,n)}function pA(r){if(r instanceof Gr)return new Gr(r.h,r.s,r.l,r.opacity);if(r instanceof ws||(r=Gl(r)),!r)return new Gr;if(r instanceof Gr)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),i=Math.max(e,t,n),o=NaN,l=i-a,s=(i+a)/2;return l?(e===i?o=(t-n)/l+(t<n)*6:t===i?o=(n-e)/l+2:o=(e-t)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Gr(o,l,s,r.opacity)}function _6(r,e,t,n){return arguments.length===1?pA(r):new Gr(r,e,t,n??1)}function Gr(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Ag(Gr,_6,dA(ws,{brighter(r){return r=r==null?pc:Math.pow(pc,r),new Gr(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?zl:Math.pow(zl,r),new Gr(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new ar(ed(r>=240?r-240:r+120,a,n),ed(r,a,n),ed(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new Gr(nb(this.h),nu(this.s),nu(this.l),vc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=vc(this.opacity);return`${r===1?"hsl(":"hsla("}${nb(this.h)}, ${nu(this.s)*100}%, ${nu(this.l)*100}%${r===1?")":`, ${r})`}`}}));function nb(r){return r=(r||0)%360,r<0?r+360:r}function nu(r){return Math.max(0,Math.min(1,r||0))}function ed(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const Eg=r=>()=>r;function B6(r,e){return function(t){return r+t*e}}function N6(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function $6(r){return(r=+r)==1?vA:function(e,t){return t-e?N6(e,t,r):Eg(isNaN(e)?t:e)}}function vA(r,e){var t=e-r;return t?B6(r,t):Eg(isNaN(r)?e:r)}const ab=function r(e){var t=$6(e);function n(a,i){var o=t((a=ev(a)).r,(i=ev(i)).r),l=t(a.g,i.g),s=t(a.b,i.b),u=vA(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=l(c),a.b=s(c),a.opacity=u(c),a+""}}return n.gamma=r,n}(1);function gA(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(i){for(a=0;a<t;++a)n[a]=r[a]*(1-i)+e[a]*i;return n}}function yA(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function j6(r,e){return(yA(e)?gA:mA)(r,e)}function mA(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),i=new Array(t),o;for(o=0;o<n;++o)a[o]=gc(r[o],e[o]);for(;o<t;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function V6(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function rv(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function H6(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=gc(r[a],e[a]):n[a]=e[a];return function(i){for(a in t)n[a]=t[a](i);return n}}var nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rd=new RegExp(nv.source,"g");function z6(r){return function(){return r}}function W6(r){return function(e){return r(e)+""}}function G6(r,e){var t=nv.lastIndex=rd.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(r=r+"",e=e+"";(n=nv.exec(r))&&(a=rd.exec(e));)(i=a.index)>t&&(i=e.slice(t,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:rv(n,a)})),t=rd.lastIndex;return t<e.length&&(i=e.slice(t),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?W6(s[0].x):z6(e):(e=s.length,function(u){for(var c=0,f;c<e;++c)l[(f=s[c]).i]=f.x(u);return l.join("")})}function gc(r,e){var t=typeof e,n;return e==null||t==="boolean"?Eg(e):(t==="number"?rv:t==="string"?(n=Gl(e))?(e=n,ab):G6:e instanceof Gl?ab:e instanceof Date?V6:yA(e)?gA:Array.isArray(e)?mA:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?H6:rv)(r,e)}function q6(r){return+r}function Y6(r){return r*r}function U6(r){return r*(2-r)}function ib(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function X6(r){return r*r*r}function K6(r){return--r*r*r+1}function ob(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var Tg=3,Z6=function r(e){e=+e;function t(n){return Math.pow(n,e)}return t.exponent=r,t}(Tg),Q6=function r(e){e=+e;function t(n){return 1-Math.pow(1-n,e)}return t.exponent=r,t}(Tg),lb=function r(e){e=+e;function t(n){return((n*=2)<=1?Math.pow(n,e):2-Math.pow(2-n,e))/2}return t.exponent=r,t}(Tg),xA=Math.PI,bA=xA/2;function J6(r){return+r==1?1:1-Math.cos(r*bA)}function tG(r){return Math.sin(r*bA)}function sb(r){return(1-Math.cos(xA*r))/2}function ba(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}function eG(r){return ba(1-+r)}function rG(r){return 1-ba(r)}function ub(r){return((r*=2)<=1?ba(1-r):2-ba(r-1))/2}function nG(r){return 1-Math.sqrt(1-r*r)}function aG(r){return Math.sqrt(1- --r*r)}function cb(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var av=4/11,iG=6/11,oG=8/11,lG=3/4,sG=9/11,uG=10/11,cG=15/16,fG=21/22,hG=63/64,au=1/av/av;function dG(r){return 1-ql(1-r)}function ql(r){return(r=+r)<av?au*r*r:r<oG?au*(r-=iG)*r+lG:r<uG?au*(r-=sG)*r+cG:au*(r-=fG)*r+hG}function pG(r){return((r*=2)<=1?1-ql(1-r):ql(r-1)+1)/2}var Ig=1.70158,vG=function r(e){e=+e;function t(n){return(n=+n)*n*(e*(n-1)+n)}return t.overshoot=r,t}(Ig),gG=function r(e){e=+e;function t(n){return--n*n*((n+1)*e+n)+1}return t.overshoot=r,t}(Ig),fb=function r(e){e=+e;function t(n){return((n*=2)<1?n*n*((e+1)*n-e):(n-=2)*n*((e+1)*n+e)+2)/2}return t.overshoot=r,t}(Ig),po=2*Math.PI,Mg=1,Og=.3,yG=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=po);function a(i){return e*ba(- --i)*Math.sin((n-i)/t)}return a.amplitude=function(i){return r(i,t*po)},a.period=function(i){return r(e,i)},a}(Mg,Og),hb=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=po);function a(i){return 1-e*ba(i=+i)*Math.sin((i+n)/t)}return a.amplitude=function(i){return r(i,t*po)},a.period=function(i){return r(e,i)},a}(Mg,Og),mG=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=po);function a(i){return((i=i*2-1)<0?e*ba(-i)*Math.sin((n-i)/t):2-e*ba(i)*Math.sin((n+i)/t))/2}return a.amplitude=function(i){return r(i,t*po)},a.period=function(i){return r(e,i)},a}(Mg,Og);const xG=Object.freeze(Object.defineProperty({__proto__:null,easeBack:fb,easeBackIn:vG,easeBackInOut:fb,easeBackOut:gG,easeBounce:ql,easeBounceIn:dG,easeBounceInOut:pG,easeBounceOut:ql,easeCircle:cb,easeCircleIn:nG,easeCircleInOut:cb,easeCircleOut:aG,easeCubic:ob,easeCubicIn:X6,easeCubicInOut:ob,easeCubicOut:K6,easeElastic:hb,easeElasticIn:yG,easeElasticInOut:mG,easeElasticOut:hb,easeExp:ub,easeExpIn:eG,easeExpInOut:ub,easeExpOut:rG,easeLinear:q6,easePoly:lb,easePolyIn:Z6,easePolyInOut:lb,easePolyOut:Q6,easeQuad:ib,easeQuadIn:Y6,easeQuadInOut:ib,easeQuadOut:U6,easeSin:sb,easeSinIn:J6,easeSinInOut:sb,easeSinOut:tG},Symbol.toStringTag,{value:"Module"}));var wA={};function bG(r){return wA[r.toLowerCase()]||xG[r]}function SA(r,e){wA[r.toLowerCase()]=e}var wG=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},SG=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},db=[1,0,0,0,1,0,0,0,1];function CG(r,e,t){var n={},a=e.fromAttrs,i=e.toAttrs;if(!r.destroyed){var o;for(var l in i)if(!le(a[l],i[l]))if(l==="path"){var s=i[l],u=a[l];s.length>u.length?(s=Gi(i[l]),u=Gi(a[l]),u=ZC(u,s),u=Kp(u,s),e.fromAttrs.path=u,e.toAttrs.path=s):e.pathFormatted||(s=Gi(i[l]),u=Gi(a[l]),u=Kp(u,s),e.fromAttrs.path=u,e.toAttrs.path=s,e.pathFormatted=!0),n[l]=[];for(var c=0;c<s.length;c++){for(var f=s[c],h=u[c],d=[],p=0;p<f.length;p++)xt(f[p])&&h&&xt(h[p])?(o=gc(h[p],f[p]),d.push(o(t))):d.push(f[p]);n[l].push(d)}}else if(l==="matrix"){var v=j6(a[l]||db,i[l]||db),g=v(t);n[l]=g}else wG(l)&&SG(i[l])?n[l]=i[l]:ut(i[l])||(o=gc(a[l],i[l]),n[l]=o(t));r.attr(n)}}function AG(r,e,t){var n=e.startTime,a=e.delay;if(t<n+a||e._paused)return!1;var i,o=e.duration,l=e.easing,s=bG(l);if(t=t-n-e.delay,e.repeat)i=t%o/o,i=s(i);else if(i=t/o,i<1)i=s(i);else return e.onFrame?r.attr(e.onFrame(1)):r.attr(e.toAttrs),!0;if(e.onFrame){var u=e.onFrame(i);r.attr(u)}else CG(r,e,i);return!1}var EG=function(){function r(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return r.prototype.initTimer=function(){var e=this,t=!1,n,a,i;this.timer=hA(function(o){if(e.current=o,e.animators.length>0){for(var l=e.animators.length-1;l>=0;l--){if(n=e.animators[l],n.destroyed){e.removeAnimator(l);continue}if(!n.isAnimatePaused()){a=n.get("animations");for(var s=a.length-1;s>=0;s--)i=a[s],t=AG(n,i,o),t&&(a.splice(s,1),t=!1,i.callback&&i.callback())}a.length===0&&e.removeAnimator(l)}var u=e.canvas.get("autoDraw");u||e.canvas.draw()}})},r.prototype.addAnimator=function(e){this.animators.push(e)},r.prototype.removeAnimator=function(e){this.animators.splice(e,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}(),TG=40,pb=0,vb=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function gb(r,e,t){t.name=e,t.target=r,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}function IG(r,e,t){if(t.bubbles){var n=void 0,a=!1;if(e==="mouseenter"?(n=t.fromShape,a=!0):e==="mouseleave"&&(a=!0,n=t.toShape),r.isCanvas()&&a)return;if(n&&tA(r,n)){t.bubbles=!1;return}t.name=e,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}}var MG=function(){function r(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var a=n.type;t._triggerEvent(a,n)},this._onDocumentMove=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,o,t.draggingShape)}},this._onDocumentMouseUp=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&t.dragging){var o=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,o,null),t._emitEvent("dragend",n,o,t.draggingShape),t._afterDrag(t.draggingShape,o,n)}},this.canvas=e.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");j(vb,function(n){t.addEventListener(n,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");j(vb,function(n){t.removeEventListener(n,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(e,t,n,a,i,o){var l=new bs(e,t);return l.fromShape=i,l.toShape=o,l.x=n.x,l.y=n.y,l.clientX=n.clientX,l.clientY=n.clientY,l.propagationPath.push(a),l},r.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},r.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),a=t.getPointByEvent(e);return{x:a.x,y:a.y,clientX:n.x,clientY:n.y}},r.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),a=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,a,t);else{var l=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,n,null,null,a),a&&this._emitEvent(e,t,n,a,null,a),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,l&&this._emitEvent(e,t,n,l,l,null),this._emitEvent(e,t,n,null,l,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,a,null,null)}if(o||(this.currentShape=a),a&&!a.get("destroyed")){var s=this.canvas,u=s.get("el");u.style.cursor=a.attr("cursor")||s.get("cursor")}},r.prototype._onmousedown=function(e,t,n){n.button===pb&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},r.prototype._emitMouseoverEvents=function(e,t,n,a){var i=this.canvas.get("el");n!==a&&(n&&(this._emitEvent("mouseout",e,t,n,n,a),this._emitEvent("mouseleave",e,t,n,n,a),(!a||a.get("destroyed"))&&(i.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",e,t,a,n,a),this._emitEvent("mouseenter",e,t,a,n,a)))},r.prototype._emitDragoverEvents=function(e,t,n,a,i){a?(a!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,a),this._emitEvent("dragenter",e,t,a,n,a)),i||this._emitEvent("dragover",e,t,a)):n&&this._emitEvent("dragleave",e,t,n,n,a),i&&this._emitEvent("dragover",e,t,a)},r.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var a=this._getShape(t,n);a!==e&&this._emitMouseoverEvents(n,t,e,a),this.currentShape=a},r.prototype._onmouseup=function(e,t,n){if(n.button===pb){var a=this.draggingShape;this.dragging?(a&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,a),this._afterDrag(a,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(e,t,n){n.preventDefault();var a=this.currentShape;this._emitDragoverEvents(n,e,a,t,!0)},r.prototype._onmousemove=function(e,t,n){var a=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var l=this.mousedownPoint;if(l){var s=this.mousedownShape,u=n.timeStamp,c=u-this.mousedownTimeStamp,f=l.clientX-e.clientX,h=l.clientY-e.clientY,d=f*f+h*h;c>120||d>TG?s&&s.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&a.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},r.prototype._emitEvent=function(e,t,n,a,i,o){var l=this._getEventObj(e,t,n,a,i,o);if(a){l.shape=a,gb(a,e,l);for(var s=a.getParent();s;)s.emitDelegation(e,l),l.propagationStopped||IG(s,e,l),l.propagationPath.push(s),s=s.getParent()}else{var u=this.canvas;gb(u,e,l)}},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}(),yb="px",mb=eA(),OG=mb&&mb.name==="firefox",df=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");gt(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new MG({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new EG(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,n){var a=this.get("el");Hx&&(a.style.width=t+yb,a.style.height=n+yb)},e.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");Hx&&n&&(n.style.cursor=t)},e.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(OG&&!Q(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Q(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var a=this.getClientByEvent(t),i=a.x,o=a.y;return this.getPointByClient(i,o)},e.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},e.prototype.getPointByClient=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t-i.left,y:n-i.top}},e.prototype.getClientByPoint=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t+i.left,y:n+i.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},e}(sA),pf=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=r.prototype.clone.call(this),n=this.getChildren(),a=0;a<n.length;a++){var i=n[a];t.add(i.clone())}return t},e}(sA),vf=function(r){U(e,r);function e(t){return r.call(this,t)||this}return e.prototype._isInBBox=function(t,n){var a=this.getBBox();return a.minX<=t&&a.maxX>=t&&a.minY<=n&&a.maxY>=n},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),a=t.minX,i=t.minY,o=t.maxX,l=t.maxY;if(n){var s=Pn(n,[t.minX,t.minY]),u=Pn(n,[t.maxX,t.minY]),c=Pn(n,[t.minX,t.maxY]),f=Pn(n,[t.maxX,t.maxY]);a=Math.min(s[0],u[0],c[0],f[0]),o=Math.max(s[0],u[0],c[0],f[0]),i=Math.min(s[1],u[1],c[1],f[1]),l=Math.max(s[1],u[1],c[1],f[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,p=d===void 0?0:d,v=h.shadowOffsetX,g=v===void 0?0:v,y=h.shadowOffsetY,m=y===void 0?0:y,b=a-p+g,x=o+p+g,w=i-p+m,S=l+p+m;a=Math.min(a,b),o=Math.max(o,x),i=Math.min(i,w),l=Math.max(l,S)}return{x:a,y:i,minX:a,minY:i,maxX:o,maxY:l,width:o-a,height:l-i}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,n){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,n){var a=this.get("startArrowShape"),i=this.get("endArrowShape"),o=[t,n,1];o=this.invertFromMatrix(o);var l=o[0],s=o[1],u=this._isInBBox(l,s);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(l,s)&&(this.isInShape(l,s)||a&&a.isHit(l,s)||i&&i.isHit(l,s)))},e}(iA),CA=new Map;function Br(r,e){CA.set(r,e)}function gf(r){return CA.get(r)}function AA(r){var e=r.attr(),t=e.x,n=e.y,a=e.width,i=e.height;return{x:t,y:n,width:a,height:i}}function EA(r){var e=r.attr(),t=e.x,n=e.y,a=e.r;return{x:t-a,y:n-a,width:a*2,height:a*2}}function We(r,e,t,n){var a=r-t,i=e-n;return Math.sqrt(a*a+i*i)}function ju(r,e){return Math.abs(r-e)<.001}function Do(r,e){var t=Lr(r),n=Lr(e),a=yr(r),i=yr(e);return{x:t,y:n,width:a-t,height:i-n}}function yf(r){return(r+Math.PI*2)%(Math.PI*2)}const De={box:function(r,e,t,n){return Do([r,t],[e,n])},length:function(r,e,t,n){return We(r,e,t,n)},pointAt:function(r,e,t,n,a){return{x:(1-a)*r+a*t,y:(1-a)*e+a*n}},pointDistance:function(r,e,t,n,a,i){var o=(t-r)*(a-r)+(n-e)*(i-e);if(o<0)return We(r,e,a,i);var l=(t-r)*(t-r)+(n-e)*(n-e);return o>l?We(t,n,a,i):this.pointToLine(r,e,t,n,a,i)},pointToLine:function(r,e,t,n,a,i){var o=[t-r,n-e];if(s6(o,[0,0]))return Math.sqrt((a-r)*(a-r)+(i-e)*(i-e));var l=[-o[1],o[0]];nA(l,l);var s=[a-r,i-e];return Math.abs(o6(s,l))},tangentAngle:function(r,e,t,n){return Math.atan2(n-e,t-r)}};var FG=1e-4;function TA(r,e,t,n,a,i){var o,l=1/0,s=[t,n],u=20;i&&i>200&&(u=i/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var d=h*c,p=[a.apply(null,r.concat([d])),a.apply(null,e.concat([d]))],v=We(s[0],s[1],p[0],p[1]);v<l&&(o=d,l=v)}if(o===0)return{x:r[0],y:e[0]};if(o===1){var g=r.length;return{x:r[g-1],y:e[g-1]}}l=1/0;for(var h=0;h<32&&!(f<FG);h++){var y=o-f,m=o+f,p=[a.apply(null,r.concat([y])),a.apply(null,e.concat([y]))],v=We(s[0],s[1],p[0],p[1]);if(y>=0&&v<l)o=y,l=v;else{var b=[a.apply(null,r.concat([m])),a.apply(null,e.concat([m]))],x=We(s[0],s[1],b[0],b[1]);m<=1&&x<l?(o=m,l=x):f*=.5}}return{x:a.apply(null,r.concat([o])),y:a.apply(null,e.concat([o]))}}function kG(r,e){for(var t=0,n=r.length,a=0;a<n;a++){var i=r[a],o=e[a],l=r[(a+1)%n],s=e[(a+1)%n];t+=We(i,o,l,s)}return t/2}function na(r,e,t,n){var a=1-n;return a*a*r+2*n*a*e+n*n*t}function xb(r,e,t){var n=r+t-2*e;if(ju(n,0))return[.5];var a=(r-e)/n;return a<=1&&a>=0?[a]:[]}function bb(r,e,t,n){return 2*(1-n)*(e-r)+2*n*(t-e)}function IA(r,e,t,n,a,i,o){var l=na(r,t,a,o),s=na(e,n,i,o),u=De.pointAt(r,e,t,n,o),c=De.pointAt(t,n,a,i,o);return[[r,e,u.x,u.y,l,s],[l,s,c.x,c.y,a,i]]}function iv(r,e,t,n,a,i,o){if(o===0)return(We(r,e,t,n)+We(t,n,a,i)+We(r,e,a,i))/2;var l=IA(r,e,t,n,a,i,.5),s=l[0],u=l[1];return s.push(o-1),u.push(o-1),iv.apply(null,s)+iv.apply(null,u)}const MA={box:function(r,e,t,n,a,i){var o=xb(r,t,a)[0],l=xb(e,n,i)[0],s=[r,a],u=[e,i];return o!==void 0&&s.push(na(r,t,a,o)),l!==void 0&&u.push(na(e,n,i,l)),Do(s,u)},length:function(r,e,t,n,a,i){return iv(r,e,t,n,a,i,3)},nearestPoint:function(r,e,t,n,a,i,o,l){return TA([r,t,a],[e,n,i],o,l,na)},pointDistance:function(r,e,t,n,a,i,o,l){var s=this.nearestPoint(r,e,t,n,a,i,o,l);return We(s.x,s.y,o,l)},interpolationAt:na,pointAt:function(r,e,t,n,a,i,o){return{x:na(r,t,a,o),y:na(e,n,i,o)}},divide:function(r,e,t,n,a,i,o){return IA(r,e,t,n,a,i,o)},tangentAngle:function(r,e,t,n,a,i,o){var l=bb(r,t,a,o),s=bb(e,n,i,o),u=Math.atan2(s,l);return yf(u)}};function aa(r,e,t,n,a){var i=1-a;return i*i*i*r+3*e*a*i*i+3*t*a*a*i+n*a*a*a}function wb(r,e,t,n,a){var i=1-a;return 3*(i*i*(e-r)+2*i*a*(t-e)+a*a*(n-t))}function nd(r,e,t,n){var a=-3*r+9*e-9*t+3*n,i=6*r-12*e+6*t,o=3*e-3*r,l=[],s,u,c;if(ju(a,0))ju(i,0)||(s=-o/i,s>=0&&s<=1&&l.push(s));else{var f=i*i-4*a*o;ju(f,0)?l.push(-i/(2*a)):f>0&&(c=Math.sqrt(f),s=(-i+c)/(2*a),u=(-i-c)/(2*a),s>=0&&s<=1&&l.push(s),u>=0&&u<=1&&l.push(u))}return l}function OA(r,e,t,n,a,i,o,l,s){var u=aa(r,t,a,o,s),c=aa(e,n,i,l,s),f=De.pointAt(r,e,t,n,s),h=De.pointAt(t,n,a,i,s),d=De.pointAt(a,i,o,l,s),p=De.pointAt(f.x,f.y,h.x,h.y,s),v=De.pointAt(h.x,h.y,d.x,d.y,s);return[[r,e,f.x,f.y,p.x,p.y,u,c],[u,c,v.x,v.y,d.x,d.y,o,l]]}function ov(r,e,t,n,a,i,o,l,s){if(s===0)return kG([r,t,a,o],[e,n,i,l]);var u=OA(r,e,t,n,a,i,o,l,.5),c=u[0],f=u[1];return c.push(s-1),f.push(s-1),ov.apply(null,c)+ov.apply(null,f)}const Sl={extrema:nd,box:function(r,e,t,n,a,i,o,l){for(var s=[r,o],u=[e,l],c=nd(r,t,a,o),f=nd(e,n,i,l),h=0;h<c.length;h++)s.push(aa(r,t,a,o,c[h]));for(var h=0;h<f.length;h++)u.push(aa(e,n,i,l,f[h]));return Do(s,u)},length:function(r,e,t,n,a,i,o,l){return ov(r,e,t,n,a,i,o,l,3)},nearestPoint:function(r,e,t,n,a,i,o,l,s,u,c){return TA([r,t,a,o],[e,n,i,l],s,u,aa,c)},pointDistance:function(r,e,t,n,a,i,o,l,s,u,c){var f=this.nearestPoint(r,e,t,n,a,i,o,l,s,u,c);return We(f.x,f.y,s,u)},interpolationAt:aa,pointAt:function(r,e,t,n,a,i,o,l,s){return{x:aa(r,t,a,o,s),y:aa(e,n,i,l,s)}},divide:function(r,e,t,n,a,i,o,l,s){return OA(r,e,t,n,a,i,o,l,s)},tangentAngle:function(r,e,t,n,a,i,o,l,s){var u=wb(r,t,a,o,s),c=wb(e,n,i,l,s);return yf(Math.atan2(c,u))}};function Sb(r,e){var t=Math.abs(r);return e>0?t:t*-1}const PG={box:function(r,e,t,n){return{x:r-t,y:e-n,width:t*2,height:n*2}},length:function(r,e,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(r,e,t,n,a,i){var o=t,l=n;if(o===0||l===0)return{x:r,y:e};for(var s=a-r,u=i-e,c=Math.abs(s),f=Math.abs(u),h=o*o,d=l*l,p=Math.PI/4,v,g,y=0;y<4;y++){v=o*Math.cos(p),g=l*Math.sin(p);var m=(h-d)*Math.pow(Math.cos(p),3)/o,b=(d-h)*Math.pow(Math.sin(p),3)/l,x=v-m,w=g-b,S=c-m,C=f-b,T=Math.hypot(w,x),F=Math.hypot(C,S),I=T*Math.asin((x*C-w*S)/(T*F)),M=I/Math.sqrt(h+d-v*v-g*g);p+=M,p=Math.min(Math.PI/2,Math.max(0,p))}return{x:r+Sb(v,s),y:e+Sb(g,u)}},pointDistance:function(r,e,t,n,a,i){var o=this.nearestPoint(r,e,t,n,a,i);return We(o.x,o.y,a,i)},pointAt:function(r,e,t,n,a){var i=2*Math.PI*a;return{x:r+t*Math.cos(i),y:e+n*Math.sin(i)}},tangentAngle:function(r,e,t,n,a){var i=2*Math.PI*a,o=Math.atan2(n*Math.cos(i),-t*Math.sin(i));return yf(o)}};function RG(r,e,t,n,a,i,o,l){return-1*t*Math.cos(a)*Math.sin(l)-n*Math.sin(a)*Math.cos(l)}function LG(r,e,t,n,a,i,o,l){return-1*t*Math.sin(a)*Math.sin(l)+n*Math.cos(a)*Math.cos(l)}function DG(r,e,t){return Math.atan(-e/r*Math.tan(t))}function _G(r,e,t){return Math.atan(e/(r*Math.tan(t)))}function Cb(r,e,t,n,a,i){return t*Math.cos(a)*Math.cos(i)-n*Math.sin(a)*Math.sin(i)+r}function Ab(r,e,t,n,a,i){return t*Math.sin(a)*Math.cos(i)+n*Math.cos(a)*Math.sin(i)+e}function BG(r,e,t,n){var a=Math.atan2(n*r,t*e);return(a+Math.PI*2)%(Math.PI*2)}function Eb(r,e,t){return{x:r*Math.cos(t),y:e*Math.sin(t)}}function Tb(r,e,t){var n=Math.cos(t),a=Math.sin(t);return[r*n-e*a,r*a+e*n]}const NG={box:function(r,e,t,n,a,i,o){for(var l=DG(t,n,a),s=1/0,u=-1/0,c=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var h=l+f;i<o?i<h&&h<o&&c.push(h):o<h&&h<i&&c.push(h)}for(var f=0;f<c.length;f++){var d=Cb(r,e,t,n,a,c[f]);d<s&&(s=d),d>u&&(u=d)}for(var p=_G(t,n,a),v=1/0,g=-1/0,y=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var m=p+f;i<o?i<m&&m<o&&y.push(m):o<m&&m<i&&y.push(m)}for(var f=0;f<y.length;f++){var b=Ab(r,e,t,n,a,y[f]);b<v&&(v=b),b>g&&(g=b)}return{x:s,y:v,width:u-s,height:g-v}},length:function(r,e,t,n,a,i,o){},nearestPoint:function(r,e,t,n,a,i,o,l,s){var u=Tb(l-r,s-e,-a),c=u[0],f=u[1],h=PG.nearestPoint(0,0,t,n,c,f),d=BG(t,n,h.x,h.y);d<i?h=Eb(t,n,i):d>o&&(h=Eb(t,n,o));var p=Tb(h.x,h.y,a);return{x:p[0]+r,y:p[1]+e}},pointDistance:function(r,e,t,n,a,i,o,l,s){var u=this.nearestPoint(r,e,t,n,l,s);return We(u.x,u.y,l,s)},pointAt:function(r,e,t,n,a,i,o,l){var s=(o-i)*l+i;return{x:Cb(r,e,t,n,a,s),y:Ab(r,e,t,n,a,s)}},tangentAngle:function(r,e,t,n,a,i,o,l){var s=(o-i)*l+i,u=RG(r,e,t,n,a,i,o,s),c=LG(r,e,t,n,a,i,o,s);return yf(Math.atan2(c,u))}};function FA(r){for(var e=0,t=[],n=0;n<r.length-1;n++){var a=r[n],i=r[n+1],o=We(a[0],a[1],i[0],i[1]),l={from:a,to:i,length:o};t.push(l),e+=o}return{segments:t,totalLength:e}}function $G(r){if(r.length<2)return 0;for(var e=0,t=0;t<r.length-1;t++){var n=r[t],a=r[t+1];e+=We(n[0],n[1],a[0],a[1])}return e}function jG(r,e){if(e>1||e<0||r.length<2)return null;var t=FA(r),n=t.segments,a=t.totalLength;if(a===0)return{x:r[0][0],y:r[0][1]};for(var i=0,o=null,l=0;l<n.length;l++){var s=n[l],u=s.from,c=s.to,f=s.length/a;if(e>=i&&e<=i+f){var h=(e-i)/f;o=De.pointAt(u[0],u[1],c[0],c[1],h);break}i+=f}return o}function VG(r,e){if(e>1||e<0||r.length<2)return 0;for(var t=FA(r),n=t.segments,a=t.totalLength,i=0,o=0,l=0;l<n.length;l++){var s=n[l],u=s.from,c=s.to,f=s.length/a;if(e>=i&&e<=i+f){o=Math.atan2(c[1]-u[1],c[0]-u[0]);break}i+=f}return o}function HG(r,e,t){for(var n=1/0,a=0;a<r.length-1;a++){var i=r[a],o=r[a+1],l=De.pointDistance(i[0],i[1],o[0],o[1],e,t);l<n&&(n=l)}return n}const kA={box:function(r){for(var e=[],t=[],n=0;n<r.length;n++){var a=r[n];e.push(a[0]),t.push(a[1])}return Do(e,t)},length:function(r){return $G(r)},pointAt:function(r,e){return jG(r,e)},pointDistance:function(r,e,t){return HG(r,e,t)},tangentAngle:function(r,e){return VG(r,e)}};function Ib(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function Fg(r,e){var t=r.get("startArrowShape"),n=r.get("endArrowShape"),a=null,i=null;return t&&(a=t.getCanvasBBox(),e=Ib(e,a)),n&&(i=n.getCanvasBBox(),e=Ib(e,i)),e}function zG(r){for(var e=r.attr(),t=e.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}var l=Do(n,a),s=l.x,u=l.y,c=l.width,f=l.height,h={minX:s,minY:u,maxX:s+c,maxY:u+f};return h=Fg(r,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function WG(r){for(var e=r.attr(),t=e.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}return Do(n,a)}var ad=null;function mf(){if(!ad){var r=document.createElement("canvas");r.width=1,r.height=1,ad=r.getContext("2d")}return ad}function xf(r,e,t){var n=1;if(gt(r)&&(n=r.split(`
`).length),n>1){var a=GG(e,t);return e*n+a*(n-1)}return e}function GG(r,e){return e?e-r:r*.14}function qG(r,e){var t=mf(),n=0;if(Q(r)||r==="")return n;if(t.save(),t.font=e,gt(r)&&r.includes(`
`)){var a=r.split(`
`);j(a,function(i){var o=t.measureText(i).width;n<o&&(n=o)})}else n=t.measureText(r).width;return t.restore(),n}function bf(r){var e=r.fontSize,t=r.fontFamily,n=r.fontWeight,a=r.fontStyle,i=r.fontVariant;return[a,i,n,e+"px",t].join(" ").trim()}function YG(r){var e=r.attr(),t=e.x,n=e.y,a=e.text,i=e.fontSize,o=e.lineHeight,l=e.font;l||(l=bf(e));var s=qG(a,l),u;if(!s)u={x:t,y:n,width:0,height:0};else{var c=e.textAlign,f=e.textBaseline,h=xf(a,i,o),d={x:t,y:n-h};c&&(c==="end"||c==="right"?d.x-=s:c==="center"&&(d.x-=s/2)),f&&(f==="top"?d.y+=h:f==="middle"&&(d.y+=h/2)),u={x:d.x,y:d.y,width:s,height:h}}return u}var UG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,XG=/[^\s\,]+/ig;function KG(r){var e=r||[];if(J(e))return e;if(gt(e))return e=e.match(UG),j(e,function(t,n){if(t=t.match(XG),t[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}j(t,function(i,o){isNaN(i)||(t[o]=+i)}),e[n]=t}),e}function ZG(r,e,t,n){var a=[],i=!!n,o,l,s,u,c,f,h;if(i){s=n[0],u=n[1];for(var d=0,p=r.length;d<p;d+=1){var v=r[d];s=Pe([0,0],s,v),u=Re([0,0],u,v)}}for(var d=0,g=r.length;d<g;d+=1){var v=r[d];if(d===0&&!t)h=v;else if(d===g-1&&!t)f=v,a.push(h),a.push(f);else{var y=[d?d-1:g-1,d-1][t?0:1];o=r[y],l=r[t?(d+1)%g:d+1];var m=[0,0];m=ni(m,l,o),m=Ue(m,m,e);var b=fo(v,o),x=fo(v,l),w=b+x;w!==0&&(b/=w,x/=w);var S=Ue([0,0],m,-b),C=Ue([0,0],m,x);f=hn([0,0],v,S),c=hn([0,0],v,C),c=Pe([0,0],c,Re([0,0],l,v)),c=Re([0,0],c,Pe([0,0],l,v)),S=ni([0,0],c,v),S=Ue([0,0],S,-b/x),f=hn([0,0],v,S),f=Pe([0,0],f,Re([0,0],o,v)),f=Re([0,0],f,Pe([0,0],o,v)),C=ni([0,0],v,f),C=Ue([0,0],C,x/b),c=hn([0,0],v,C),i&&(f=Re([0,0],f,s),f=Pe([0,0],f,u),c=Re([0,0],c,s),c=Pe([0,0],c,u)),a.push(h),a.push(f),h=c}}return t&&a.push(a.shift()),a}function QG(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!e,a=[],i=0,o=r.length;i<o;i+=2)a.push([r[i],r[i+1]]);for(var l=ZG(a,.4,n,t),s=a.length,u=[],c,f,h,i=0;i<s-1;i+=1)c=l[i*2],f=l[i*2+1],h=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=l[s],f=l[s+1],h=a[0],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),u}var Cl=`	
\v\f\r   ᠎             　\u2028\u2029`,JG=new RegExp("([a-z])["+Cl+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Cl+"]*,?["+Cl+"]*)+)","ig"),tq=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Cl+"]*,?["+Cl+"]*","ig");function PA(r){if(!r)return null;if(J(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(JG,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace(tq,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=e[l]&&(t.push([a].concat(o.splice(0,e[l]))),!!e[l]););return""}),t}var eq=/[a-z]/;function Mb(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function RA(r){var e=PA(r);if(!e||!e.length)return[["M",0,0]];for(var t=!1,n=0;n<e.length;n++){var a=e[n][0];if(eq.test(a)||["V","H","T","S"].indexOf(a)>=0){t=!0;break}}if(!t)return e;var i=[],o=0,l=0,s=0,u=0,c=0,f=e[0];(f[0]==="M"||f[0]==="m")&&(o=+f[1],l=+f[2],s=o,u=l,c++,i[0]=["M",o,l]);for(var n=c,h=e.length;n<h;n++){var d=e[n],p=i[n-1],v=[],a=d[0],g=a.toUpperCase();if(a!==g)switch(v[0]=g,g){case"A":v[1]=d[1],v[2]=d[2],v[3]=d[3],v[4]=d[4],v[5]=d[5],v[6]=+d[6]+o,v[7]=+d[7]+l;break;case"V":v[1]=+d[1]+l;break;case"H":v[1]=+d[1]+o;break;case"M":s=+d[1]+o,u=+d[2]+l,v[1]=s,v[2]=u;break;default:for(var y=1,m=d.length;y<m;y++)v[y]=+d[y]+(y%2?o:l)}else v=e[n];switch(g){case"Z":o=+s,l=+u;break;case"H":o=v[1],v=["L",o,l];break;case"V":l=v[1],v=["L",o,l];break;case"T":o=v[1],l=v[2];var b=Mb([p[1],p[2]],[p[3],p[4]]);v=["Q",b[0],b[1],o,l];break;case"S":o=v[v.length-2],l=v[v.length-1];var x=p.length,w=Mb([p[x-4],p[x-3]],[p[x-2],p[x-1]]);v=["C",w[0],w[1],v[1],v[2],o,l];break;case"M":s=v[v.length-2],u=v[v.length-1];break;default:o=v[v.length-2],l=v[v.length-1]}i.push(v)}return i}function iu(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function lv(r,e){return iu(r)*iu(e)?(r[0]*e[0]+r[1]*e[1])/(iu(r)*iu(e)):1}function Ob(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(lv(r,e))}function sv(r,e){return r[0]===e[0]&&r[1]===e[1]}function rq(r,e){var t=e[1],n=e[2],a=vg(gg(e[3]),Math.PI*2),i=e[4],o=e[5],l=r[0],s=r[1],u=e[6],c=e[7],f=Math.cos(a)*(l-u)/2+Math.sin(a)*(s-c)/2,h=-1*Math.sin(a)*(l-u)/2+Math.cos(a)*(s-c)/2,d=f*f/(t*t)+h*h/(n*n);d>1&&(t*=Math.sqrt(d),n*=Math.sqrt(d));var p=t*t*(h*h)+n*n*(f*f),v=p?Math.sqrt((t*t*(n*n)-p)/p):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*t*h/n:0,y=t?v*-n*f/t:0,m=(l+u)/2+Math.cos(a)*g-Math.sin(a)*y,b=(s+c)/2+Math.sin(a)*g+Math.cos(a)*y,x=[(f-g)/t,(h-y)/n],w=[(-1*f-g)/t,(-1*h-y)/n],S=Ob([1,0],x),C=Ob(x,w);return lv(x,w)<=-1&&(C=Math.PI),lv(x,w)>=1&&(C=0),o===0&&C>0&&(C=C-2*Math.PI),o===1&&C<0&&(C=C+2*Math.PI),{cx:m,cy:b,rx:sv(r,[u,c])?0:t,ry:sv(r,[u,c])?0:n,startAngle:S,endAngle:S+C,xRotation:a,arcFlag:i,sweepFlag:o}}function Fb(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function LA(r){r=KG(r);for(var e=[],t=null,n=null,a=null,i=0,o=r.length,l=0;l<o;l++){var s=r[l];n=r[l+1];var u=s[0],c={command:u,prePoint:t,params:s,startTangent:null,endTangent:null};switch(u){case"M":a=[s[1],s[2]],i=l;break;case"A":var f=rq(t,s);c.arcParams=f;break}if(u==="Z")t=a,n=r[i+1];else{var h=s.length;t=[s[h-2],s[h-1]]}n&&n[0]==="Z"&&(n=r[i],e[i]&&(e[i].prePoint=t)),c.currentPoint=t,e[i]&&sv(t,e[i].currentPoint)&&(e[i].prePoint=c.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=d;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]];else if(u==="Q"){var v=[s[1],s[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[t[0]-v[0],t[1]-v[1]]}else if(u==="T"){var g=e[l-1],v=Fb(g.currentPoint,p);g.command==="Q"?(c.command="Q",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[t[0]-v[0],t[1]-v[1]]):(c.command="TL",c.startTangent=[p[0]-t[0],p[1]-t[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]])}else if(u==="C"){var y=[s[1],s[2]],m=[s[3],s[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[t[0]-m[0],t[1]-m[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-m[0],y[1]-m[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[m[0]-y[0],m[1]-y[1]])}else if(u==="S"){var g=e[l-1],y=Fb(g.currentPoint,p),m=[s[1],s[2]];g.command==="C"?(c.command="C",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[t[0]-m[0],t[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[t[0]-m[0],t[1]-m[1]])}else if(u==="A"){var b=.001,x=c.arcParams||{},w=x.cx,S=w===void 0?0:w,C=x.cy,T=C===void 0?0:C,F=x.rx,I=F===void 0?0:F,M=x.ry,O=M===void 0?0:M,k=x.sweepFlag,L=k===void 0?0:k,N=x.startAngle,R=N===void 0?0:N,D=x.endAngle,W=D===void 0?0:D;L===0&&(b*=-1);var V=I*Math.cos(R-b)+S,B=O*Math.sin(R-b)+T;c.startTangent=[V-a[0],B-a[1]];var P=I*Math.cos(R+W+b)+S,$=O*Math.sin(R+W-b)+T;c.endTangent=[p[0]-P,p[1]-$]}e.push(c)}return e}var kb=function(r,e,t){return r>=e&&r<=t};function nq(r,e,t,n){var a=.001,i={x:t.x-r.x,y:t.y-r.y},o={x:e.x-r.x,y:e.y-r.y},l={x:n.x-t.x,y:n.y-t.y},s=o.x*l.y-o.y*l.x,u=s*s,c=o.x*o.x+o.y*o.y,f=l.x*l.x+l.y*l.y,h=null;if(u>a*c*f){var d=(i.x*l.y-i.y*l.x)/s,p=(i.x*o.y-i.y*o.x)/s;kb(d,0,1)&&kb(p,0,1)&&(h={x:r.x+d*o.x,y:r.y+d*o.y})}return h}var aq=1e-6;function id(r){return Math.abs(r)<aq?0:r<0?-1:1}function iq(r,e,t){return(t[0]-r[0])*(e[1]-r[1])===(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function Pb(r,e,t){var n=!1,a=r.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=r[i],l=r[(i+1)%a];if(iq(o,l,[e,t]))return!0;id(o[1]-t)>0!=id(l[1]-t)>0&&id(e-(t-o[1])*(o[0]-l[0])/(o[1]-l[1])-o[0])<0&&(n=!n)}return n}function Rb(r){for(var e=[],t=r.length,n=0;n<t-1;n++){var a=r[n],i=r[n+1];e.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(e.length>1){var o=r[0],l=r[t-1];e.push({from:{x:l[0],y:l[1]},to:{x:o[0],y:o[1]}})}return e}function oq(r,e){var t=!1;return j(r,function(n){if(nq(n.from,n.to,e.from,e.to))return t=!0,!1}),t}function Lb(r){var e=r.map(function(n){return n[0]}),t=r.map(function(n){return n[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function lq(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function sq(r,e){if(r.length<2||e.length<2)return!1;var t=Lb(r),n=Lb(e);if(!lq(t,n))return!1;var a=!1;if(j(e,function(s){if(Pb(r,s[0],s[1]))return a=!0,!1}),a||(j(r,function(s){if(Pb(e,s[0],s[1]))return a=!0,!1}),a))return!0;var i=Rb(r),o=Rb(e),l=!1;return j(o,function(s){if(oq(i,s))return l=!0,!1}),l}function uq(r,e){for(var t=[],n=[],a=[],i=0;i<r.length;i++){var o=r[i],l=o.currentPoint,s=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=MA.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=Sl.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var f=o.arcParams;c=NG.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(l[0]),n.push(l[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&a.push(o)}t=t.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0}),n=n.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0});var h=Lr(t),d=Lr(n),p=yr(t),v=yr(n);if(a.length===0)return{x:h,y:d,width:p-h,height:v-d};for(var i=0;i<a.length;i++){var o=a[i],l=o.currentPoint,g=void 0;l[0]===h?(g=ou(o,e),h=h-g.xExtra):l[0]===p&&(g=ou(o,e),p=p+g.xExtra),l[1]===d?(g=ou(o,e),d=d-g.yExtra):l[1]===v&&(g=ou(o,e),v=v+g.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function ou(r,e){var t=r.prePoint,n=r.currentPoint,a=r.nextPoint,i=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),l=Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2),s=Math.acos((i+o-l)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!s||Math.sin(s)===0||Le(s,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(a[1]-n[1],a[0]-n[0])),c=Math.abs(Math.atan2(a[0]-n[0],a[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(s/2-u)*(e/2*(1/Math.sin(s/2)))-e/2||0,yExtra:Math.cos(c-s/2)*(e/2*(1/Math.sin(s/2)))-e/2||0};return f}function cq(r){var e=r.attr(),t=e.path,n=e.stroke,a=n?e.lineWidth:0,i=r.get("segments")||LA(t),o=uq(i,a),l=o.x,s=o.y,u=o.width,c=o.height,f={minX:l,minY:s,maxX:l+u,maxY:s+c};return f=Fg(r,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function fq(r){var e=r.attr(),t=e.x1,n=e.y1,a=e.x2,i=e.y2,o=Math.min(t,a),l=Math.max(t,a),s=Math.min(n,i),u=Math.max(n,i),c={minX:o,maxX:l,minY:s,maxY:u};return c=Fg(r,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function hq(r){var e=r.attr(),t=e.x,n=e.y,a=e.rx,i=e.ry;return{x:t-a,y:n-i,width:a*2,height:i*2}}Br("rect",AA);Br("image",AA);Br("circle",EA);Br("marker",EA);Br("polyline",zG);Br("polygon",WG);Br("text",YG);Br("path",cq);Br("line",fq);Br("ellipse",hq);var Db=0,dq=1/2,pq=1/2,vq=.05,wf=function(){function r(e){var t=e.xField,n=e.yField,a=e.adjustNames,i=a===void 0?["x","y"]:a,o=e.dimValuesMap;this.adjustNames=i,this.xField=t,this.yField=n,this.dimValuesMap=o}return r.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},r.prototype.getAdjustRange=function(e,t,n){var a=this.yField,i=n.indexOf(t),o=n.length,l,s;return!a&&this.isAdjust("y")?(l=0,s=1):o>1?(l=n[i===0?0:i-1],s=n[i===o-1?o-1:i+1],i!==0?l+=(t-l)/2:l-=(s-t)/2,i!==o-1?s-=(s-t)/2:s+=(t-n[o-2])/2):(l=t===0?0:t-.5,s=t===0?1:t+.5),{pre:l,next:s}},r.prototype.adjustData=function(e,t){var n=this,a=this.getDimValues(t);j(e,function(i,o){j(a,function(l,s){n.adjustDim(s,l,i,o)})})},r.prototype.groupData=function(e,t){return j(e,function(n){n[t]===void 0&&(n[t]=Db)}),dr(e,t)},r.prototype.adjustDim=function(e,t,n,a){},r.prototype.getDimValues=function(e){var t=this,n=t.xField,a=t.yField,i=zt({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),a&&this.isAdjust("y")&&o.push(a),o.forEach(function(s){i&&i[s]||(i[s]=Zr(e,s).sort(function(u,c){return u-c}))}),!a&&this.isAdjust("y")){var l="y";i[l]=[Db,1]}return i},r}(),DA={},_A=function(r){return DA[r.toLowerCase()]},Sf=function(r,e){if(_A(r))throw new Error("Adjust type '"+r+"' existed.");DA[r.toLowerCase()]=e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uv=function(r,e){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},uv(r,e)};function Cf(r,e){uv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dn=function(){return dn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dn.apply(this,arguments)},gq=function(r){Cf(e,r);function e(t){var n=r.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var a=t.marginRatio,i=a===void 0?dq:a,o=t.dodgeRatio,l=o===void 0?pq:o,s=t.dodgeBy,u=t.intervalPadding,c=t.dodgePadding,f=t.xDimensionLength,h=t.groupNum,d=t.defaultSize,p=t.maxColumnWidth,v=t.minColumnWidth,g=t.columnWidthRatio,y=t.customOffset;return n.marginRatio=i,n.dodgeRatio=l,n.dodgeBy=s,n.intervalPadding=u,n.dodgePadding=c,n.xDimensionLegenth=f,n.groupNum=h,n.defaultSize=d,n.maxColumnWidth=p,n.minColumnWidth=v,n.columnWidthRatio=g,n.customOffset=y,n}return e.prototype.process=function(t){var n=Ye(t),a=gr(n),i=this.dodgeBy,o=i?QW(a,i):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=a,this.adjustData(o,a),this.adjustDataArray=[],this.mergeData=[],n},e.prototype.adjustDim=function(t,n,a,i){var o=this,l=this.customOffset,s=this.getDistribution(t),u=this.groupData(a,t);return j(u,function(c,f){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=o.getAdjustRange(t,parseFloat(f),n),j(c,function(d){var p=d[t],v=s[p],g=v.indexOf(i);if(Q(l))d[t]=o.getDodgeOffset(h,g,v.length);else{var y=h.pre,m=h.next;d[t]=ut(l)?l(d,h):(y+m)/2+l}})}),[]},e.prototype.getDodgeOffset=function(t,n,a){var i=this,o=i.dodgeRatio,l=i.marginRatio,s=i.intervalPadding,u=i.dodgePadding,c=t.pre,f=t.next,h=f-c,d;if(!Q(s)&&Q(u)&&s>=0){var p=this.getIntervalOnlyOffset(a,n);d=c+p}else if(!Q(u)&&Q(s)&&u>=0){var p=this.getDodgeOnlyOffset(a,n);d=c+p}else if(!Q(s)&&!Q(u)&&s>=0&&u>=0){var p=this.getIntervalAndDodgeOffset(a,n);d=c+p}else{var v=h*o/a,g=l*v,p=1/2*(h-a*v-(a-1)*g)+((n+1)*v+n*g)-1/2*v-1/2*h;d=(c+f)/2+p}return d},e.prototype.getIntervalOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.intervalPadding,l=a.xDimensionLegenth,s=a.groupNum,u=a.dodgeRatio,c=a.maxColumnWidth,f=a.minColumnWidth,h=a.columnWidthRatio,d=o/l,p=(1-(s-1)*d)/s*u/(t-1),v=((1-d*(s-1))/s-p*(t-1))/t;if(v=Q(h)?v:1/s/t*h,!Q(c)){var g=c/l;v=Math.min(v,g)}if(!Q(f)){var y=f/l;v=Math.max(v,y)}v=i?i/l:v,p=((1-(s-1)*d)/s-t*v)/(t-1);var m=((1/2+n)*v+n*p+1/2*d)*s-d/2;return m},e.prototype.getDodgeOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.dodgePadding,l=a.xDimensionLegenth,s=a.groupNum,u=a.marginRatio,c=a.maxColumnWidth,f=a.minColumnWidth,h=a.columnWidthRatio,d=o/l,p=1*u/(s-1),v=((1-p*(s-1))/s-d*(t-1))/t;if(v=h?1/s/t*h:v,!Q(c)){var g=c/l;v=Math.min(v,g)}if(!Q(f)){var y=f/l;v=Math.max(v,y)}v=i?i/l:v,p=(1-(v*t+d*(t-1))*s)/(s-1);var m=((1/2+n)*v+n*d+1/2*p)*s-p/2;return m},e.prototype.getIntervalAndDodgeOffset=function(t,n){var a=this,i=a.intervalPadding,o=a.dodgePadding,l=a.xDimensionLegenth,s=a.groupNum,u=i/l,c=o/l,f=((1-u*(s-1))/s-c*(t-1))/t,h=((1/2+n)*f+n*c+1/2*u)*s-u/2;return h},e.prototype.getDistribution=function(t){var n=this.adjustDataArray,a=this.cacheMap,i=a[t];return i||(i={},j(n,function(o,l){var s=Zr(o,t);s.length||s.push(0),j(s,function(u){i[u]||(i[u]=[]),i[u].push(l)})}),a[t]=i),i},e}(wf);function yq(r,e){return(e-r)*Math.random()+r}var mq=function(r){Cf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var n=Ye(t),a=gr(n);return this.adjustData(n,a),n},e.prototype.adjustDim=function(t,n,a){var i=this,o=this.groupData(a,t);return j(o,function(l,s){return i.adjustGroup(l,t,parseFloat(s),n)})},e.prototype.getAdjustOffset=function(t){var n=t.pre,a=t.next,i=(a-n)*vq;return yq(n+i,a-i)},e.prototype.adjustGroup=function(t,n,a,i){var o=this,l=this.getAdjustRange(n,a,i);return j(t,function(s){s[n]=o.getAdjustOffset(l)}),t},e}(wf),od=g8,xq=function(r){Cf(e,r);function e(t){var n=r.call(this,t)||this,a=t.adjustNames,i=a===void 0?["y"]:a,o=t.height,l=o===void 0?NaN:o,s=t.size,u=s===void 0?10:s,c=t.reverseOrder,f=c===void 0?!1:c;return n.adjustNames=i,n.height=l,n.size=u,n.reverseOrder=f,n}return e.prototype.process=function(t){var n=this,a=n.yField,i=n.reverseOrder,o=a?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var n=this,a=n.xField,i=n.yField,o=n.reverseOrder,l=o?this.reverse(t):t,s=new od,u=new od;return l.map(function(c){return c.map(function(f){var h,d=H(f,a,0),p=H(f,[i]),v=d.toString();if(p=J(p)?p[1]:p,!Q(p)){var g=p>=0?s:u;g.has(v)||g.set(v,0);var y=g.get(v),m=p+y;return g.set(v,m),dn(dn({},f),(h={},h[i]=[y,m],h))}return f})})},e.prototype.processOneDimStack=function(t){var n=this,a=this,i=a.xField,o=a.height,l=a.reverseOrder,s="y",u=l?this.reverse(t):t,c=new od;return u.map(function(f){return f.map(function(h){var d,p=n.size,v=h[i],g=p*2/o;c.has(v)||c.set(v,g/2);var y=c.get(v);return c.set(v,y+g),dn(dn({},h),(d={},d[s]=y,d))})})},e}(wf),bq=function(r){Cf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var n=gr(t),a=this,i=a.xField,o=a.yField,l=this.getXValuesMaxMap(n),s=Math.max.apply(Math,Object.keys(l).map(function(u){return l[u]}));return Qt(t,function(u){return Qt(u,function(c){var f,h,d=c[o],p=c[i];if(J(d)){var v=(s-l[p])/2;return dn(dn({},c),(f={},f[o]=Qt(d,function(y){return v+y}),f))}var g=(s-d)/2;return dn(dn({},c),(h={},h[o]=[g,d+g],h))})})},e.prototype.getXValuesMaxMap=function(t){var n=this,a=this,i=a.xField,o=a.yField,l=dr(t,function(s){return s[i]});return h8(l,function(s){return n.getDimMaxValue(s,o)})},e.prototype.getDimMaxValue=function(t,n){var a=Qt(t,function(o){return H(o,n,[])}),i=gr(a);return Math.max.apply(Math,i)},e}(wf);Sf("Dodge",gq);Sf("Jitter",mq);Sf("Stack",xq);Sf("Symmetric",bq);var _b=function(r,e){return gt(e)?e:r.invert(r.scale(e))},Ss=function(){function r(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return r.prototype.mapping=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.map(function(i,o){return e._toOriginParam(i,e.scales[o])});return this.callback.apply(this,a)},r.prototype.getLinearValue=function(e){var t=this.values.length-1,n=Math.floor(t*e),a=t*e-n,i=this.values[n],o=n===t?i:this.values[n+1];return i+(o-i)*a},r.prototype.getNames=function(){for(var e=this.scales,t=this.names,n=Math.min(e.length,t.length),a=[],i=0;i<n;i+=1)a.push(t[i]);return a},r.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},r.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},r.prototype.defaultCallback=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(a,i){var o=e.scales[i];return o.type==="identity"?o.values[0]:e._getAttributeValue(o,a)})},r.prototype._parseCfg=function(e){var t=this,n=e.type,a=n===void 0?"base":n,i=e.names,o=i===void 0?[]:i,l=e.scales,s=l===void 0?[]:l,u=e.values,c=u===void 0?[]:u,f=e.callback;this.type=a,this.scales=s,this.values=c,this.names=o,this.callback=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(f){var p=f.apply(void 0,h);if(!Q(p))return[p]}return t.defaultCallback.apply(t,h)}},r.prototype._getAttributeValue=function(e,t){if(e.isCategory&&!this.linear){var n=e.translate(t);return this.values[n%this.values.length]}var a=e.scale(t);return this.getLinearValue(a)},r.prototype._toOriginParam=function(e,t){return t.isLinear?e:J(e)?e.map(function(n){return _b(t,n)}):_b(t,e)},r}(),wq=/rgba?\(([\s.,0-9]+)\)/,Sq=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Cq=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Aq=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Eq=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},Tq=function(){var r=document.createElement("i");return r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r},ld=function(r,e,t,n){return r[n]+(e[n]-r[n])*t};function BA(r){return"#"+sd(r[0])+sd(r[1])+sd(r[2])}var NA=function(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]},sd=function(r){var e=Math.round(r).toString(16);return e.length===1?"0"+e:e},Iq=function(r,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),n=r.length-1,a=Math.floor(n*t),i=n*t-a,o=r[a],l=a===n?o:r[a+1];return BA([ld(o,l,i,0),ld(o,l,i,1),ld(o,l,i,2)])},lu,$A=function(r){if(r[0]==="#"&&r.length===7)return r;lu||(lu=Tq()),lu.style.color=r;var e=document.defaultView.getComputedStyle(lu,"").getPropertyValue("color"),t=wq.exec(e),n=t[1].split(/\s*,\s*/).map(function(a){return Number(a)});return e=BA(n),e},Mq=function(r){var e=gt(r)?r.split("-"):r,t=Qt(e,function(n){return NA(n.indexOf("#")===-1?$A(n):n)});return function(n){return Iq(t,n)}},Oq=function(r){if(Eq(r)){var e,t=void 0;if(r[0]==="l"){var n=Sq.exec(r),a=+n[1]+90;t=n[2],e="linear-gradient("+a+"deg, "}else if(r[0]==="r"){e="radial-gradient(";var n=Cq.exec(r);t=n[4]}var i=t.match(Aq);return j(i,function(o,l){var s=o.split(":");e+=s[1]+" "+s[0]*100+"%",l!==i.length-1&&(e+=", ")}),e+=")",e}return r};const pa={rgb2arr:NA,gradient:Mq,toRGB:Lo($A),toCSSGradient:Oq};var Fq=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.type="color",n.names=["color"],gt(n.values)&&(n.linear=!0),n.gradient=pa.gradient(n.values),n}return e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(Ss),kq=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return e}(Ss),Pq=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return e.prototype.mapping=function(t,n){var a=this.scales,i=a[0],o=a[1];return Q(t)||Q(n)?[]:[J(t)?t.map(function(l){return i.scale(l)}):i.scale(t),J(n)?n.map(function(l){return o.scale(l)}):o.scale(n)]},e}(Ss),Rq=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return e.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},e}(Ss),Lq=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.type="size",n.names=["size"],n}return e}(Ss),jA={};function Dq(r){return jA[r]}function Sn(r,e){jA[r]=e}var kg=function(){function r(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return r.prototype.translate=function(e){return e},r.prototype.change=function(e){zt(this.__cfg__,e),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var e=this;return Qt(this.ticks,function(t,n){return jt(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}})},r.prototype.getText=function(e,t){var n=this.formatter,a=n?n(e,t):e;return Q(a)||!ut(a.toString)?"":a.toString()},r.prototype.getConfig=function(e){return this.__cfg__[e]},r.prototype.init=function(){zt(this,this.__cfg__),this.setDomain(),ir(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(gt(e)){var n=Dq(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else ut(e)&&(t=e(this));return t},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(e,t,n){return xt(e)?(e-t)/(n-t):NaN},r.prototype.calcValue=function(e,t,n){return t+e*(n-t)},r}(),Af=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=xt(t)?t:NaN),n},e.prototype.scale=function(t){var n=this.translate(t),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var n=this.max-this.min,a=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},e.prototype.getText=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=t;return xt(t)&&!this.values.includes(t)&&(i=this.values[i]),r.prototype.getText.apply(this,$l([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Q(this.getConfig("min"))&&(this.min=0),Q(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(kg),VA=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ta="\\d\\d?",Xn="\\d\\d",_q="\\d{3}",Bq="\\d{4}",Al="[^\\s]+",HA=/\[([^]*?)\]/gm;function zA(r,e){for(var t=[],n=0,a=r.length;n<a;n++)t.push(r[n].substr(0,e));return t}var Bb=function(r){return function(e,t){var n=t[r].map(function(i){return i.toLowerCase()}),a=n.indexOf(e.toLowerCase());return a>-1?a:null}};function wa(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0,a=e;n<a.length;n++){var i=a[n];for(var o in i)r[o]=i[o]}return r}var WA=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],GA=["January","February","March","April","May","June","July","August","September","October","November","December"],Nq=zA(GA,3),$q=zA(WA,3),Pg={dayNamesShort:$q,dayNames:WA,monthNamesShort:Nq,monthNames:GA,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!==10?1:0)*r%10]}},yc=wa({},Pg),qA=function(r){return yc=wa(yc,r)},Nb=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ke=function(r,e){for(e===void 0&&(e=2),r=String(r);r.length<e;)r="0"+r;return r},jq={D:function(r){return String(r.getDate())},DD:function(r){return Ke(r.getDate())},Do:function(r,e){return e.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return Ke(r.getDay())},ddd:function(r,e){return e.dayNamesShort[r.getDay()]},dddd:function(r,e){return e.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return Ke(r.getMonth()+1)},MMM:function(r,e){return e.monthNamesShort[r.getMonth()]},MMMM:function(r,e){return e.monthNames[r.getMonth()]},YY:function(r){return Ke(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return Ke(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return Ke(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return Ke(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return Ke(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return Ke(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return Ke(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return Ke(r.getMilliseconds(),3)},a:function(r,e){return r.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(r,e){return r.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Ke(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Ke(Math.floor(Math.abs(e)/60),2)+":"+Ke(Math.abs(e)%60,2)}},$b=function(r){return+r-1},jb=[null,ta],Vb=[null,Al],Hb=["isPm",Al,function(r,e){var t=r.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],zb=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var e=(r+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],Vq={D:["day",ta],DD:["day",Xn],Do:["day",ta+Al,function(r){return parseInt(r,10)}],M:["month",ta,$b],MM:["month",Xn,$b],YY:["year",Xn,function(r){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+r>68?t-1:t)+r)}],h:["hour",ta,void 0,"isPm"],hh:["hour",Xn,void 0,"isPm"],H:["hour",ta],HH:["hour",Xn],m:["minute",ta],mm:["minute",Xn],s:["second",ta],ss:["second",Xn],YYYY:["year",Bq],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",Xn,function(r){return+r*10}],SSS:["millisecond",_q],d:jb,dd:jb,ddd:Vb,dddd:Vb,MMM:["month",Al,Bb("monthNamesShort")],MMMM:["month",Al,Bb("monthNames")],a:Hb,A:Hb,ZZ:zb,Z:zb},mc={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},YA=function(r){return wa(mc,r)},UA=function(r,e,t){if(e===void 0&&(e=mc.default),t===void 0&&(t={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");e=mc[e]||e;var n=[];e=e.replace(HA,function(i,o){return n.push(o),"@@@"});var a=wa(wa({},yc),t);return e=e.replace(VA,function(i){return jq[i](r,a)}),e.replace(/@@@/g,function(){return n.shift()})};function XA(r,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=mc[e]||e,r.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],l=e.replace(HA,function(x,w){return o.push(Nb(w)),"@@@"}),s={},u={};l=Nb(l).replace(VA,function(x){var w=Vq[x],S=w[0],C=w[1],T=w[3];if(s[S])throw new Error("Invalid format. "+S+" specified twice in format");return s[S]=!0,T&&(u[T]=!0),i.push(w),"("+C+")"}),Object.keys(u).forEach(function(x){if(!s[x])throw new Error("Invalid format. "+x+" is required in specified format")}),l=l.replace(/@@@/g,function(){return o.shift()});var c=r.match(new RegExp(l,"i"));if(!c)return null;for(var f=wa(wa({},yc),t),h=1;h<c.length;h++){var d=i[h-1],p=d[0],v=d[2],g=v?v(c[h],f):+c[h];if(g==null)return null;a[p]=g}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var y;if(a.timezoneOffset==null){y=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,b=m.length;h<b;h++)if(s[m[h][0]]&&a[m[h][0]]!==y[m[h][1]]())return null}else if(y=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return y}var KA={format:UA,parse:XA,defaultI18n:Pg,setGlobalDateI18n:qA,setGlobalDateMasks:YA};const Hq=Object.freeze(Object.defineProperty({__proto__:null,assign:wa,default:KA,defaultI18n:Pg,format:UA,parse:XA,setGlobalDateI18n:qA,setGlobalDateMasks:YA},Symbol.toStringTag,{value:"Module"}));function zq(r){return function(e,t,n,a){for(var i=Q(n)?0:n,o=Q(a)?e.length:a;i<o;){var l=i+o>>>1;r(e[l])>t?o=l:i=l+1}return i}}var Wb="format";function ZA(r,e){var t=Hq[Wb]||KA[Wb];return t(r,e)}function xc(r){return gt(r)&&(r.indexOf("T")>0?r=new Date(r).getTime():r=new Date(r.replace(/-/gi,"/")).getTime()),jC(r)&&(r=r.getTime()),r}var Wr=1e3,ii=60*Wr,oi=60*ii,Rn=24*oi,El=Rn*31,Gb=Rn*365,Ko=[["HH:mm:ss",Wr],["HH:mm:ss",Wr*10],["HH:mm:ss",Wr*30],["HH:mm",ii],["HH:mm",ii*10],["HH:mm",ii*30],["HH",oi],["HH",oi*6],["HH",oi*12],["YYYY-MM-DD",Rn],["YYYY-MM-DD",Rn*4],["YYYY-WW",Rn*7],["YYYY-MM",El],["YYYY-MM",El*4],["YYYY-MM",El*6],["YYYY",Rn*380]];function Wq(r,e,t){var n=(e-r)/t,a=zq(function(o){return o[1]})(Ko,n)-1,i=Ko[a];return a<0?i=Ko[0]:a>=Ko.length&&(i=we(Ko)),i}var Gq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=xc(t);var n=this.values.indexOf(t);return n===-1&&(xt(t)&&t<this.values.length?n=t:n=NaN),n},e.prototype.getText=function(t,n){var a=this.translate(t);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):ZA(i,this.mask),i}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;j(t,function(n,a){t[a]=xc(n)}),t.sort(function(n,a){return n-a}),r.prototype.setDomain.call(this)},e}(Af),Ef=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if(Q(t))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var l=this.getScalePercent(t);return n+l*(a-n)},e.prototype.init=function(){r.prototype.init.call(this);var t=this.ticks,n=hr(t),a=we(t);n<this.min&&(this.min=n),a>this.max&&(this.max=a),Q(this.minLimit)||(this.min=n),Q(this.maxLimit)||(this.max=a)},e.prototype.setDomain=function(){var t=_C(this.values),n=t.min,a=t.max;Q(this.min)&&(this.min=n),Q(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},e.prototype.calculateTicks=function(){var t=this,n=r.prototype.calculateTicks.call(this);return this.nice||(n=Be(n,function(a){return a>=t.min&&a<=t.max})),n},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;return(t-a)/(n-a)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(kg),Tf=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Ef);function ia(r,e){var t=Math.E,n;return e>=0?n=Math.pow(t,Math.log(e)/r):n=Math.pow(t,Math.log(-e)/r)*-1,n}function Or(r,e){return r===1?1:Math.log(e)/Math.log(r)}function QA(r,e,t){Q(t)&&(t=Math.max.apply(null,r));var n=t;return j(r,function(a){a>0&&a<n&&(n=a)}),n===t&&(n=t/e),n>1&&(n=1),n}var qq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var n=this.base,a=Or(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,l,s=this.positiveMin;if(s){if(t===0)return 0;l=Or(n,s/n);var u=1/(a-l)*o;if(t<u)return t/u*s}else l=Or(n,this.min);var c=(t-i)/o,f=c*(a-l)+l;return Math.pow(n,f)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){r.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=QA(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a||t<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var l;return t<o?l=t/o/(Or(i,n)-Or(i,a)):l=(Or(i,t)-Or(i,a))/(Or(i,n)-Or(i,a)),l},e}(Ef),Yq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t),a=this.exponent,i=ia(a,this.max),o=ia(a,this.min),l=n*(i-o)+o,s=l>=0?1:-1;return Math.pow(l,a)*s},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(ia(i,t)-ia(i,a))/(ia(i,n)-ia(i,a));return o},e}(Ef),Uq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,n){var a=this.translate(t),i=this.formatter;return i?i(a,n):ZA(a,this.mask)},e.prototype.scale=function(t){var n=t;return(gt(n)||jC(n))&&(n=this.translate(n)),r.prototype.scale.call(this,n)},e.prototype.translate=function(t){return xc(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!Q(n)||!xt(n))&&(this.min=this.translate(this.min)),(!Q(a)||!xt(a))&&(this.max=this.translate(this.max)),t&&t.length){var i=[],o=1/0,l=o,s=0;j(t,function(u){var c=xc(u);if(isNaN(c))throw new TypeError("Invalid Time: "+u+" in time scale!");o>c?(l=o,o=c):l>c&&(l=c),s<c&&(s=c),i.push(c)}),t.length>1&&(this.minTickInterval=l-o),Q(n)&&(this.min=o),Q(a)&&(this.max=s)}},e}(Tf),JA=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var n=this.ticks,a=n.length,i=this.getInvertPercent(t),o=Math.floor(i*(a-1));if(o>=a-1)return we(n);if(o<0)return hr(n);var l=n[o],s=n[o+1],u=o/(a-1),c=(o+1)/(a-1);return l+(i-u)/(c-u)*(s-l)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=r.prototype.calculateTicks.call(this);return this.nice||(we(t)!==this.max&&t.push(this.max),hr(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var n=this.ticks;if(t<hr(n))return 0;if(t>we(n))return 1;var a=0;return j(n,function(i,o){if(t>=i)a=o;else return!1}),a/(n.length-1)},e}(Ef),Xq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(JA),tE={};function cv(r){return tE[r]}function Cn(r,e){if(cv(r))throw new Error("type '"+r+"' existed.");tE[r]=e}var Kq=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&xt(t)?t:this.range[0]},e.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},e}(kg);function eE(r){var e=r.values,t=r.tickInterval,n=r.tickCount,a=r.showLast;if(xt(t)){var i=Be(e,function(p,v){return v%t===0}),o=we(e);return a&&we(i)!==o&&i.push(o),i}var l=e.length,s=r.min,u=r.max;if(Q(s)&&(s=0),Q(u)&&(u=e.length-1),!xt(n)||n>=l)return e.slice(s,u+1);if(n<=0||u<=0)return[];for(var c=n===1?l:Math.floor(l/(n-1)),f=[],h=s,d=0;d<n&&!(h>=u);d++)h=Math.min(s+d*c,u),d===n-1&&a?f.push(e[u]):f.push(e[h]);return f}function Zq(r){var e=r.min,t=r.max,n=r.nice,a=r.tickCount,i=new Qq;return i.domain([e,t]),n&&i.nice(a),i.ticks(a)}var ud=5,qb=Math.sqrt(50),Yb=Math.sqrt(10),Ub=Math.sqrt(2),Qq=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},r.prototype.nice=function(e){var t,n;e===void 0&&(e=ud);var a=this._domain.slice(),i=0,o=this._domain.length-1,l=this._domain[i],s=this._domain[o],u;return s<l&&(t=[s,l],l=t[0],s=t[1],n=[o,i],i=n[0],o=n[1]),u=Vu(l,s,e),u>0?(l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u,u=Vu(l,s,e)):u<0&&(l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u,u=Vu(l,s,e)),u>0?(a[i]=Math.floor(l/u)*u,a[o]=Math.ceil(s/u)*u,this.domain(a)):u<0&&(a[i]=Math.ceil(l*u)/u,a[o]=Math.floor(s*u)/u,this.domain(a)),this},r.prototype.ticks=function(e){return e===void 0&&(e=ud),Jq(this._domain[0],this._domain[this._domain.length-1],e||ud)},r}();function Jq(r,e,t){var n,a=-1,i,o,l;if(e=+e,r=+r,t=+t,r===e&&t>0)return[r];if((n=e<r)&&(i=r,r=e,e=i),(l=Vu(r,e,t))===0||!isFinite(l))return[];if(l>0)for(r=Math.ceil(r/l),e=Math.floor(e/l),o=new Array(i=Math.ceil(e-r+1));++a<i;)o[a]=(r+a)*l;else for(r=Math.floor(r*l),e=Math.ceil(e*l),o=new Array(i=Math.ceil(r-e+1));++a<i;)o[a]=(r-a)/l;return n&&o.reverse(),o}function Vu(r,e,t){var n=(e-r)/Math.max(0,t),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=qb?10:i>=Yb?5:i>=Ub?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=qb?10:i>=Yb?5:i>=Ub?2:1)}function Xb(r,e,t){var n;return t==="ceil"?n=Math.ceil(r/e):t==="floor"?n=Math.floor(r/e):n=Math.round(r/e),n*e}function Rg(r,e,t){var n=Xb(r,t,"floor"),a=Xb(e,t,"ceil");n=Kh(n,t),a=Kh(a,t);for(var i=[],o=Math.max((a-n)/(Math.pow(2,12)-1),t),l=n;l<=a;l=l+o){var s=Kh(l,o);i.push(s)}return{min:n,max:a,ticks:i}}function Lg(r,e,t){var n,a=r.minLimit,i=r.maxLimit,o=r.min,l=r.max,s=r.tickCount,u=s===void 0?5:s,c=Q(a)?Q(e)?o:e:a,f=Q(i)?Q(t)?l:t:i;if(c>f&&(n=[c,f],f=n[0],c=n[1]),u<=2)return[c,f];for(var h=(f-c)/(u-1),d=[],p=0;p<u;p++)d.push(c+h*p);return d}function tY(r){var e=r.min,t=r.max,n=r.tickInterval,a=r.minLimit,i=r.maxLimit,o=Zq(r);return!Q(a)||!Q(i)?Lg(r,hr(o),we(o)):n?Rg(e,t,n).ticks:o}function Ha(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var eY=[1,5,2,2.5,4,3],Kb=Number.EPSILON*100;function rY(r,e){return(r%e+e)%e}function nY(r){return Math.round(r*1e12)/1e12}function aY(r,e,t,n,a,i){var o=Ie(e),l=WC(e,r),s=0,u=rY(n,i);return(u<Kb||i-u<Kb)&&n<=0&&a>=0&&(s=1),1-l/(o-1)-t+s}function iY(r,e,t){var n=Ie(e),a=WC(e,r),i=1;return 1-a/(n-1)-t+i}function oY(r,e,t,n,a,i){var o=(r-1)/(i-a),l=(e-1)/(Math.max(i,n)-Math.min(t,a));return 2-Math.max(o/l,l/o)}function lY(r,e){return r>=e?2-(r-1)/(e-1):1}function sY(r,e,t,n){var a=e-r;return 1-.5*(Math.pow(e-n,2)+Math.pow(r-t,2))/Math.pow(.1*a,2)}function uY(r,e,t){var n=e-r;if(t>n){var a=(t-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function cY(){return 1}function fY(r,e,t,n,a,i){t===void 0&&(t=5),n===void 0&&(n=!0),a===void 0&&(a=eY),i===void 0&&(i=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(r)||Number.isNaN(e)||typeof r!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-r<1e-15||o===1)return{min:r,max:e,ticks:[r]};if(e-r>1e148){var l=t||5,s=(e-r)/l;return{min:r,max:e,ticks:Array(l).fill(null).map(function(P,$){return Ha(r+s*$)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var f=0;f<a.length;f+=1){var h=a[f],d=iY(h,a,c);if(i[0]*d+i[1]+i[2]+i[3]<u.score){c=1/0;break}for(var p=2;p<1/0;){var v=lY(p,o);if(i[0]*d+i[1]+i[2]*v+i[3]<u.score)break;for(var g=(e-r)/(p+1)/c/h,y=Math.ceil(Math.log10(g));y<1/0;){var m=c*h*Math.pow(10,y),b=uY(r,e,m*(p-1));if(i[0]*d+i[1]*b+i[2]*v+i[3]<u.score)break;var x=Math.floor(e/m)*c-(p-1)*c,w=Math.ceil(r/m)*c;if(x<=w)for(var l=w-x,S=0;S<=l;S+=1){var C=x+S,T=C*(m/c),F=T+m*(p-1),I=m,M=aY(h,a,c,T,F,I),O=sY(r,e,T,F),k=oY(p,o,r,e,T,F),L=cY(),N=i[0]*M+i[1]*O+i[2]*k+i[3]*L;N>u.score&&(!n||T<=r&&F>=e)&&(u.lmin=T,u.lmax=F,u.lstep=I,u.score=N)}y+=1}p+=1}}c+=1}var R=Ha(u.lmax),D=Ha(u.lmin),W=Ha(u.lstep),V=Math.floor(nY((R-D)/W))+1,B=new Array(V);B[0]=Ha(D);for(var f=1;f<V;f++)B[f]=Ha(B[f-1]+W);return{min:Math.min(r,hr(B)),max:Math.max(e,we(B)),ticks:B}}function hY(r){var e=r.min,t=r.max,n=r.tickCount,a=r.nice,i=r.tickInterval,o=r.minLimit,l=r.maxLimit,s=fY(e,t,n,a).ticks;return!Q(o)||!Q(l)?Lg(r,hr(s),we(s)):i?Rg(e,t,i).ticks:s}function dY(r){var e=r.base,t=r.tickCount,n=r.min,a=r.max,i=r.values,o,l=Or(e,a);if(n>0)o=Math.floor(Or(e,n));else{var s=QA(i,e,a);o=Math.floor(Or(e,s))}for(var u=l-o,c=Math.ceil(u/t),f=[],h=o;h<l+c;h=h+c)f.push(Math.pow(e,h));return n<=0&&f.unshift(0),f}function rE(r,e,t){if(t===void 0&&(t=5),r===e)return{max:e,min:r,ticks:[r]};var n=t<0?0:Math.round(t);if(n===0)return{max:e,min:r,ticks:[]};var a=1.5,i=.5+1.5*a,o=e-r,l=o/n,s=Math.pow(10,Math.floor(Math.log10(l))),u=s;2*s-l<a*(l-u)&&(u=2*s,5*s-l<i*(l-u)&&(u=5*s,10*s-l<a*(l-u)&&(u=10*s)));for(var c=Math.ceil(e/u),f=Math.floor(r/u),h=Math.max(c*u,e),d=Math.min(f*u,r),p=Math.floor((h-d)/u)+1,v=new Array(p),g=0;g<p;g++)v[g]=Ha(d+g*u);return{min:d,max:h,ticks:v}}function pY(r){var e=r.exponent,t=r.tickCount,n=Math.ceil(ia(e,r.max)),a=Math.floor(ia(e,r.min)),i=rE(a,n,t).ticks;return i.map(function(o){var l=o>=0?1:-1;return Math.pow(o,e)*l})}function vY(r,e){var t=r.length*e;return e===1?r[r.length-1]:e===0?r[0]:t%1!==0?r[Math.ceil(t)-1]:r.length%2===0?(r[t-1]+r[t])/2:r[t]}function gY(r){var e=r.tickCount,t=r.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(l,s){return l-s}),a=[],i=0;i<e;i++){var o=i/(e-1);a.push(vY(n,o))}return a}function yY(r){var e=r.min,t=r.max,n=r.tickCount,a=r.tickInterval,i=r.minLimit,o=r.maxLimit,l=rE(e,t,n).ticks;return!Q(i)||!Q(o)?Lg(r,hr(l),we(l)):a?Rg(e,t,a).ticks:l}function mY(r){var e=r.min,t=r.max,n=r.minTickInterval,a=r.tickInterval,i=r.tickCount;if(a)i=Math.ceil((t-e)/a);else{a=Wq(e,t,i)[1];var o=(t-e)/a,l=o/i;l>1&&(a=a*Math.ceil(l)),n&&a<n&&(a=n)}a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);for(var s=[],u=e;u<t+a;u+=a)s.push(u);return s}function xY(r){var e=eE(E({showLast:!0},r));return e}function bc(r){return new Date(r).getFullYear()}function bY(r){return new Date(r,0,1).getTime()}function fv(r){return new Date(r).getMonth()}function wY(r,e){var t=bc(r),n=bc(e),a=fv(r),i=fv(e);return(n-t)*12+(i-a)%12}function SY(r,e){return new Date(r,e,1).getTime()}function CY(r,e){return Math.ceil((e-r)/Rn)}function AY(r,e){return Math.ceil((e-r)/oi)}function EY(r,e){return Math.ceil((e-r)/(60*1e3))}function TY(r){var e=r.min,t=r.max,n=r.minTickInterval,a=r.tickCount,i=r.tickInterval,o=[];i||(i=(t-e)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),i);var l=bc(e);if(i>Gb)for(var s=bc(t),u=Math.ceil(i/Gb),c=l;c<=s+u;c=c+u)o.push(bY(c));else if(i>El)for(var f=Math.ceil(i/El),h=fv(e),d=wY(e,t),c=0;c<=d+f;c=c+f)o.push(SY(l,c+h));else if(i>Rn)for(var p=new Date(e),v=p.getFullYear(),g=p.getMonth(),y=p.getDate(),m=Math.ceil(i/Rn),b=CY(e,t),c=0;c<b+m;c=c+m)o.push(new Date(v,g,y+c).getTime());else if(i>oi)for(var p=new Date(e),v=p.getFullYear(),g=p.getMonth(),m=p.getDate(),x=p.getHours(),w=Math.ceil(i/oi),S=AY(e,t),c=0;c<=S+w;c=c+w)o.push(new Date(v,g,m,x+c).getTime());else if(i>ii)for(var C=EY(e,t),T=Math.ceil(i/ii),c=0;c<=C+T;c=c+T)o.push(e+c*ii);else{var F=i;F<Wr&&(F=Wr);for(var I=Math.floor(e/Wr)*Wr,M=Math.ceil((t-e)/Wr),O=Math.ceil(F/Wr),c=0;c<M+O;c=c+O)o.push(I+c*Wr)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}Sn("cat",eE);Sn("time-cat",xY);Sn("wilkinson-extended",hY);Sn("r-pretty",yY);Sn("time",mY);Sn("time-pretty",TY);Sn("log",dY);Sn("pow",pY);Sn("quantile",gY);Sn("d3-linear",tY);Cn("cat",Af);Cn("category",Af);Cn("identity",Kq);Cn("linear",Tf);Cn("log",qq);Cn("pow",Yq);Cn("time",Uq);Cn("timeCat",Gq);Cn("quantize",JA);Cn("quantile",Xq);var nE={},aE=function(r){return nE[r.toLowerCase()]},Cs=function(r,e){if(aE(r))throw new Error("Attribute type '".concat(r,"' existed."));nE[r.toLowerCase()]=e};Cs("Color",Fq);Cs("Opacity",kq);Cs("Position",Pq);Cs("Shape",Rq);Cs("Size",Lq);var Dg=function(){function r(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=e.start,n=e.end,a=e.matrix,i=a===void 0?[1,0,0,0,1,0,0,0,1]:a,o=e.isTransposed,l=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=i,this.originalMatrix=pt([],i),this.isTransposed=l}return r.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},r.prototype.update=function(e){zt(this,e),this.initial()},r.prototype.convertDim=function(e,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),i+e*(o-i)},r.prototype.invertDim=function(e,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),(e-i)/(o-i)},r.prototype.applyMatrix=function(e,t,n){n===void 0&&(n=0);var a=this.matrix,i=[e,t,n];return Vl(i,i,a),i},r.prototype.invertMatrix=function(e,t,n){n===void 0&&(n=0);var a=this.matrix,i=t6([0,0,0,0,0,0,0,0,0],a),o=[e,t,n];return i&&Vl(o,o,i),o},r.prototype.convert=function(e){var t=this.convertPoint(e),n=t.x,a=t.y,i=this.applyMatrix(n,a,1);return{x:i[0],y:i[1]}},r.prototype.invert=function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})},r.prototype.rotate=function(e){var t=this.matrix,n=this.center;return Vi(t,t,[-n.x,-n.y]),Sg(t,t,e),Vi(t,t,[n.x,n.y]),this},r.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},r.prototype.scale=function(e,t){var n=this.matrix,a=this.center;return Vi(n,n,[-a.x,-a.y]),aA(n,n,[e,t]),Vi(n,n,[a.x,a.y]),this},r.prototype.translate=function(e,t){var n=this.matrix;return Vi(n,n,[e,t]),this},r.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},r.prototype.getCenter=function(){return this.center},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRadius=function(){return this.radius},r.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},r.prototype.resetMatrix=function(e){this.matrix=e||pt([],this.originalMatrix)},r}(),iE=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},e.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:this.convertDim(a,"x"),y:this.convertDim(i,"y")}},e.prototype.invertPoint=function(t){var n,a=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:a,y:i}},e}(Dg),IY=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.isHelix=!0,n.type="helix";var a=t.startAngle,i=a===void 0?1.25*Math.PI:a,o=t.endAngle,l=o===void 0?7.25*Math.PI:o,s=t.innerRadius,u=s===void 0?0:s,c=t.radius;return n.startAngle=i,n.endAngle=l,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},e.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;this.isTransposed&&(n=[i,a],a=n[0],i=n[1]);var o=this.convertDim(a,"x"),l=this.a*o,s=this.convertDim(i,"y");return{x:this.center.x+Math.cos(o)*(l+s),y:this.center.y+Math.sin(o)*(l+s)}},e.prototype.invertPoint=function(t){var n,a=this.d+this.y.start,i=rA([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Cg(i,[1,0],!0),l=o*this.a;qi(i)<l&&(l=qi(i));var s=Math.floor((qi(i)-l)/a);o=2*s*Math.PI+o;var u=this.a*o,c=qi(i)-u;c=Le(c,0)?0:c;var f=this.invertDim(o,"x"),h=this.invertDim(c,"y");return f=Le(f,0)?0:f,h=Le(h,0)?0:h,this.isTransposed&&(n=[h,f],f=n[0],h=n[1]),{x:f,y:h}},e}(Dg),MY=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.isPolar=!0,n.type="polar";var a=t.startAngle,i=a===void 0?-Math.PI/2:a,o=t.endAngle,l=o===void 0?Math.PI*3/2:o,s=t.innerRadius,u=s===void 0?0:s,c=t.radius;return n.startAngle=i,n.endAngle=l,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){for(r.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,a=t.maxY-t.minY,i=Math.abs(t.minX)/n,o=Math.abs(t.minY)/a,l;this.height/a>this.width/n?(l=this.width/n,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-o)*l*a}):(l=this.height/a,this.circleCenter={x:this.center.x-(.5-i)*l*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=l*this.radius:(this.radius<=0||this.radius>l)&&(this.polarRadius=l):this.polarRadius=l,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var n,a=this.getCenter(),i=t.x,o=t.y;return this.isTransposed&&(n=[o,i],i=n[0],o=n[1]),i=this.convertDim(i,"x"),o=this.convertDim(o,"y"),{x:a.x+Math.cos(i)*o,y:a.y+Math.sin(i)*o}},e.prototype.invertPoint=function(t){var n,a=this.getCenter(),i=[t.x-a.x,t.y-a.y],o=this,l=o.startAngle,s=o.endAngle;this.isReflect("x")&&(n=[s,l],l=n[0],s=n[1]);var u=[1,0,0,0,1,0,0,0,1];Sg(u,u,l);var c=[1,0,0];Vl(c,c,u);var f=[c[0],c[1]],h=Cg(f,i,s<l);Le(h,Math.PI*2)&&(h=0);var d=qi(i),p=h/(s-l);p=s-l>0?p:-p;var v=this.invertDim(d,"y"),g={x:0,y:0};return g.x=this.isTransposed?v:p,g.y=this.isTransposed?p:v,g},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var a=[0,Math.cos(t),Math.cos(n)],i=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)a.push(Math.cos(o)),i.push(Math.sin(o));return{minX:Math.min.apply(Math,a),maxX:Math.max.apply(Math,a),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},e}(Dg),oE={},OY=function(r){return oE[r.toLowerCase()]},If=function(r,e){oE[r.toLowerCase()]=e};If("rect",iE);If("cartesian",iE);If("polar",MY);If("helix",IY);function lE(r,e,t){var n=new bs(e,t);n.target=r,n.propagationPath.push(r),r.emitDelegation(e,n);for(var a=r.getParent();a;)a.emitDelegation(e,n),n.propagationPath.push(a),a=a.getParent()}var sE=[1,0,0,0,1,0,0,0,1];function gi(r,e,t){if(t===void 0&&(t=sE),!e)return null;var n=be(t,[["t",-r.x,-r.y],["r",e],["t",r.x,r.y]]);return n}function _g(r,e){return!r.x&&!r.y?null:be(e||sE,[["t",r.x,r.y]])}function FY(r){var e=[1,0,0],t=[0,0,0];return Vl(t,e,r),Math.atan2(t[1],t[0])}function su(r,e){var t=[0,0];return l6(t,e,r),t}function kY(r,e){var t=su(r,[e.minX,e.minY]),n=su(r,[e.maxX,e.minY]),a=su(r,[e.minX,e.maxY]),i=su(r,[e.maxX,e.maxY]),o=Math.min(t[0],n[0],a[0],i[0]),l=Math.max(t[0],n[0],a[0],i[0]),s=Math.min(t[1],n[1],a[1],i[1]),u=Math.max(t[1],n[1],a[1],i[1]);return{x:o,y:s,minX:o,minY:s,maxX:l,maxY:u,width:l-o,height:u-s}}function uE(r,e,t,n){if(e){var a=gi({x:t,y:n},e,r.getMatrix());r.setMatrix(a)}}function Bg(r,e,t){var n=_g({x:e,y:t});r.attr("matrix",n)}function wc(r){var e=0,t=0,n=0,a=0;return xt(r)?e=t=n=a=r:J(r)&&(e=r[0],n=Q(r[1])?r[0]:r[1],a=Q(r[2])?r[0]:r[2],t=Q(r[3])?n:r[3]),[e,n,a,t]}function Ng(r){for(var e=r.childNodes,t=e.length,n=t-1;n>=0;n--)r.removeChild(e[n])}function PY(r,e){return!!r.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Yl(r){var e=r.start,t=r.end,n=Math.min(e.x,t.x),a=Math.min(e.y,t.y),i=Math.max(e.x,t.x),o=Math.max(e.y,t.y);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function RY(r){var e=r.map(function(l){return l.x}),t=r.map(function(l){return l.y}),n=Math.min.apply(Math,e),a=Math.min.apply(Math,t),i=Math.max.apply(Math,e),o=Math.max.apply(Math,t);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function Mf(r,e,t,n){var a=r+t,i=e+n;return{x:r,y:e,width:t,height:n,minX:r,minY:e,maxX:isNaN(a)?0:a,maxY:isNaN(i)?0:i}}function li(r,e,t){return(1-t)*r+e*t}function to(r,e,t){return{x:r.x+Math.cos(t)*e,y:r.y+Math.sin(t)*e}}function LY(r,e){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}var Sc=function(r,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[r,e].includes(1/0)?Math.abs(r)===Math.abs(e):Math.abs(r-e)<t};function DY(r,e){var t=Math.max(r.minX,e.minX),n=Math.max(r.minY,e.minY),a=Math.min(r.maxX,e.maxX),i=Math.min(r.maxY,e.maxY);return Mf(t,n,a-t,i-n)}function cE(r){var e=r.getClip(),t=e&&e.getBBox(),n;if(!r.isGroup())n=r.getBBox();else{var a=1/0,i=-1/0,o=1/0,l=-1/0,s=r.getChildren();s.length>0?j(s,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var c=cE(u),f=u.applyToMatrix([c.minX,c.minY,1]),h=u.applyToMatrix([c.minX,c.maxY,1]),d=u.applyToMatrix([c.maxX,c.minY,1]),p=u.applyToMatrix([c.maxX,c.maxY,1]),v=Math.min(f[0],h[0],d[0],p[0]),g=Math.max(f[0],h[0],d[0],p[0]),y=Math.min(f[1],h[1],d[1],p[1]),m=Math.max(f[1],h[1],d[1],p[1]);v<a&&(a=v),g>i&&(i=g),y<o&&(o=y),m>l&&(l=m)}}):(a=0,i=0,o=0,l=0),n=Mf(a,o,i-a,l-o)}return t?DY(n,t):n}function _Y(r,e){if(!(!r.getClip()&&!e.getClip())){var t=e.getClip();if(!t){r.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};r.setClip(n)}}function Je(r){return r+"px"}function fE(r,e,t,n){var a=LY(r,e),i=n/a,o=0;return t==="start"?o=0-i:t==="end"&&(o=1+i),{x:li(r.x,e.x,o),y:li(r.y,e.y,o)}}var BY={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},hE=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.initCfg(),n}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var n=this,a=this.get("defaultCfg")||{};j(t,function(i,o){var l=n.get(o),s=i;l!==i&&(jt(i)&&a[o]&&(s=lt({},a[o],i)),n.set(o,s))}),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){xa(t,"visible")&&(t.visible?this.show():this.hide()),xa(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},e.prototype.setLocation=function(t){var n=E({},t);this.update(n)},e.prototype.getLocation=function(){var t=this,n={},a=this.get("locationType"),i=BY[a];return j(i,function(o){n[o]=t.get(o)}),n},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");j(n,function(a,i){var o=t.get(i);if(jt(o)){var l=lt({},a,o);t.set(i,l)}})},e}(uf),$a="update_status",NY=["visible","tip","delegateObject"],$Y=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Ve=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var n=this.getElementById(t),a=n&&n.get("component");return a},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},e.prototype.getElementsByName=function(t){var n=[];return j(this.get("shapesMap"),function(a){a.get("name")===t&&n.push(a)}),n},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),r.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),a=t.getTotalMatrix();return a&&(n=kY(a,n)),n},e.prototype.on=function(t,n,a){var i=this.get("group");return i.on(t,n,a),this},e.prototype.off=function(t,n){var a=this.get("group");return a&&a.off(t,n),this},e.prototype.emit=function(t,n){var a=this.get("group");a.emit(t,n)},e.prototype.init=function(){r.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,n){var a=this.get("group");n.target=a,a.emit(t,n),lE(a,t,n)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),a=new n({delegateObject:this.getDelegateObject()});return a},e.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",cE(t)),t},e.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var a=t.addGroup(n);return this.get("isRegister")&&this.registerElement(a),a},e.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var a=t.addShape(n);return this.get("isRegister")&&this.registerElement(a),a},e.prototype.addComponent=function(t,n){var a=n.id,i=n.component,o=Ht(n,["id","component"]),l=new i(E(E({},o),{id:a,container:t,updateAutoRender:this.get("updateAutoRender")}));return l.init(),l.render(),this.get("isRegister")&&this.registerElement(l.get("group")),l},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var n=this.get("id"),a=this.get("name");return n+"-"+a+"-"+t},e.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},e.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},e.prototype.moveElementTo=function(t,n){var a=_g(n);t.attr("matrix",a)},e.prototype.addAnimation=function(t,n,a){var i=n.attr("opacity");Q(i)&&(i=1),n.attr("opacity",0),n.animate({opacity:i},a)},e.prototype.removeAnimation=function(t,n,a){n.animate({opacity:0},a)},e.prototype.updateAnimation=function(t,n,a,i){n.animate(a,i)},e.prototype.updateElements=function(t,n){var a=this,i=this.get("animate"),o=this.get("animateOption"),l=t.getChildren().slice(0),s;j(l,function(u){var c=u.get("id"),f=a.getElementById(c),h=u.get("name");if(f)if(u.get("isComponent")){var d=u.get("component"),p=f.get("component"),v=yg(d.cfg,WW(Po(d.cfg),$Y));p.update(v),f.set($a,"update")}else{var g=a.getReplaceAttrs(f,u);i&&o.update?a.updateAnimation(h,f,g,o.update):f.attr(g),u.isGroup()&&a.updateElements(u,f),j(NY,function(x){f.set(x,u.get(x))}),_Y(f,u),s=f,f.set($a,"update")}else{n.add(u);var y=n.getChildren();if(y.splice(y.length-1,1),s){var m=y.indexOf(s);y.splice(m+1,0,u)}else y.unshift(u);if(a.registerElement(u),u.set($a,"add"),u.get("isComponent")){var d=u.get("component");d.set("container",n)}else u.isGroup()&&a.registerNewGroup(u);if(s=u,i){var b=a.get("isInit")?o.appear:o.enter;b&&a.addAnimation(h,u,b)}}})},e.prototype.clearUpdateStatus=function(t){var n=t.getChildren();j(n,function(a){a.set($a,null)})},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,n=this.get("name"),a=(t={},t[n]=this,t.component=this,t);return a},e.prototype.appendDelegateObject=function(t,n){var a=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),zt(n.delegateObject,a)},e.prototype.getReplaceAttrs=function(t,n){var a=t.attr(),i=n.attr();return j(a,function(o,l){i[l]===void 0&&(i[l]=void 0)}),i},e.prototype.registerNewGroup=function(t){var n=this,a=t.getChildren();j(a,function(i){n.registerElement(i),i.set($a,"add"),i.isGroup()&&n.registerNewGroup(i)})},e.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),a=[];j(n,function(l,s){!l.get($a)||l.destroyed?a.push([s,l]):l.set($a,null)});var i=this.get("animate"),o=this.get("animateOption");j(a,function(l){var s=l[0],u=l[1];if(!u.destroyed){var c=u.get("name");if(i&&o.leave){var f=zt({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(c,u,f)}else t.removeElement(u)}delete n[s]})},e.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},e}(hE),cd="…";function jY(r){for(var e=0,t=0;t<r.length;t++)e+=za(r,t);return e}function za(r,e){return r.charCodeAt(e)>0&&r.charCodeAt(e)<128?1:2}function VY(r,e,t){t===void 0&&(t="tail");var n=r.length,a="";if(t==="tail"){for(var i=0,o=0;i<e;){var l=za(r,o);if(i+l<=e)a+=r[o],i+=za(r,o),o++;else break}a+=cd}else if(t==="head"){for(var i=0,o=n-1;i<e;){var l=za(r,o);if(i+l<=e)a+=r[o],i+=za(r,o),o--;else break}a=cd+a}else{for(var s="",u="",i=0,c=0,f=n-1;i<e;){var h=za(r,c),d=!1;h+i<=e&&(s+=r[c],c++,i+=h,d=!0);var p=za(r,f);if(p+i<=e&&(u=r[f]+u,i+=p,f--,d=!0),!d)break}a=s+cd+u}return a}var HY="…",zY=2,WY=400;function GY(r){for(var e=r.map(function(s){var u=s.attr("text");return Q(u)?"":""+u}),t=0,n=0,a=0;a<e.length;a+=1){for(var i=0,o=0;o<=e[a].length;o+=1){var l=e[a].charCodeAt(o);l>=19968&&l<=40869?i+=2:i+=1}i>t&&(t=i,n=a)}return r[n].getBBox().width}function hv(r){if(r.length>WY)return GY(r);var e=0;return j(r,function(t){var n=t.getBBox(),a=n.width;e<a&&(e=a)}),e}function qY(r,e){var t=e.getCanvasBBox();return r?t.width:t.height}function Tl(r,e,t,n){var a;n===void 0&&(n="tail");var i=(a=e.attr("text"))!==null&&a!==void 0?a:"";if(n==="tail"){var o=yg(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),l=v8(i,t,o,"…");return i!==l?(e.attr("text",l),e.set("tip",i),!0):(e.set("tip",null),!1)}var s=qY(r,e),u=jY(i),c=!1;if(t<s){var f=Math.floor(t/s*u)-zY,h=void 0;f>=0?h=VY(i,f,n):h=HY,h&&(e.attr("text",h),c=!0)}return c?e.set("tip",i):e.set("tip",null),c}function Of(r,e){var t=e.x,n=e.y,a=e.content,i=e.style,o=e.id,l=e.name,s=e.rotate,u=e.maxLength,c=e.autoEllipsis,f=e.isVertical,h=e.ellipsisPosition,d=e.background,p=r.addGroup({id:o+"-group",name:l+"-group",attrs:{x:t,y:n}}),v=p.addShape({type:"text",id:o,name:l,attrs:E({x:0,y:0,text:a},i)}),g=wc(H(d,"padding",0));if(u&&c){var y=u-(g[1]+g[3]);Tl(!f,v,y,h)}if(d){var m=H(d,"style",{}),b=v.getCanvasBBox(),x=b.minX,w=b.minY,S=b.width,C=b.height,T=p.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:E({x:x-g[3],y:w-g[0],width:S+g[1]+g[3],height:C+g[0]+g[2]},m)});T.toBack()}Bg(p,t,n),uE(p,s,t,n)}const At={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var YY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:At.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:At.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:At.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:E({x1:n.x,y1:n.y,x2:a.x,y2:a.y},i)})},e.prototype.getLabelPoint=function(t,n,a){var i;return a==="start"?i=0:a==="center"?i=.5:gt(a)&&a.indexOf("%")!==-1?i=parseInt(a,10)/100:xt(a)?i=a:i=1,(i>1||i<0)&&(i=1),{x:li(t.x,n.x,i),y:li(t.y,n.y,i)}},e.prototype.renderLabel=function(t){var n=this.get("text"),a=this.get("start"),i=this.get("end"),o=n.position,l=n.content,s=n.style,u=n.offsetX,c=n.offsetY,f=n.autoRotate,h=n.maxLength,d=n.autoEllipsis,p=n.ellipsisPosition,v=n.background,g=n.isVertical,y=g===void 0?!1:g,m=this.getLabelPoint(a,i,o),b=m.x+u,x=m.y+c,w={id:this.getElementId("line-text"),name:"annotation-line-text",x:b,y:x,content:l,style:s,maxLength:h,autoEllipsis:d,ellipsisPosition:p,background:v,isVertical:y};if(f){var S=[i.x-a.x,i.y-a.y];w.rotate=Math.atan2(S[1],S[0])}Of(t,w)},e}(Ve),UY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:At.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:At.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("content"),l=this.get("style"),s=this.getElementId("text"),u=this.get("name")+"-text",c=this.get("maxLength"),f=this.get("autoEllipsis"),h=this.get("isVertical"),d=this.get("ellipsisPosition"),p=this.get("background"),v=this.get("rotate"),g={id:s,name:u,x:a,y:i,content:o,style:l,maxLength:c,autoEllipsis:f,isVertical:h,ellipsisPosition:d,background:p,rotate:v};Of(t,g)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("rotate");Bg(t,a,i),uE(t,o,a,i)}},e}(Ve),XY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,l=to(n,a,i),s=to(n,a,o),u=o-i>Math.PI?1:0,c=[["M",l.x,l.y]];if(o-i===Math.PI*2){var f=to(n,a,i+Math.PI);c.push(["A",a,a,0,u,1,f.x,f.y]),c.push(["A",a,a,0,u,1,s.x,s.y])}else c.push(["A",a,a,0,u,1,s.x,s.y]);return c},e.prototype.renderArc=function(t){var n=this.getArcPath(),a=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:E({path:n},a)})},e}(Ve),KY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:At.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style"),o=Yl({start:n,end:a});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:E({x:o.x,y:o.y,width:o.width,height:o.height},i)})},e}(Ve),ZY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),a=this.get("style"),i=Yl({start:t,end:n}),o=this.get("src");return E({x:i.x,y:i.y,img:o,width:i.width,height:i.height},a)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Ve),QY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:At.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:At.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:At.fontFamily}}}})},e.prototype.renderInner=function(t){H(this.get("line"),"display")&&this.renderLine(t),H(this.get("text"),"display")&&this.renderText(t),H(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},e.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},e.prototype.renderText=function(t){var n=this.getShapeAttrs().text,a=n.x,i=n.y,o=n.text,l=Ht(n,["x","y","text"]),s=this.get("text"),u=s.background,c=s.maxLength,f=s.autoEllipsis,h=s.isVertival,d=s.ellipsisPosition,p={x:a,y:i,id:this.getElementId("text"),name:"annotation-text",content:o,style:l,background:u,maxLength:c,autoEllipsis:f,isVertival:h,ellipsisPosition:d};Of(t,p)},e.prototype.autoAdjust=function(t){var n=this.get("direction"),a=this.get("x"),i=this.get("y"),o=H(this.get("line"),"length",0),l=this.get("coordinateBBox"),s=t.getBBox(),u=s.minX,c=s.maxX,f=s.minY,h=s.maxY,d=t.findById(this.getElementId("text-group")),p=t.findById(this.getElementId("text")),v=t.findById(this.getElementId("line"));if(l&&d){var g=d.attr("x"),y=d.attr("y"),m=p.getCanvasBBox(),b=m.width,x=m.height,w=0,S=0;if(a+u<=l.minX)if(n==="leftward")w=1;else{var C=l.minX-(a+u);g=d.attr("x")+C}else if(a+c>=l.maxX)if(n==="rightward")w=-1;else{var C=a+c-l.maxX;g=d.attr("x")-C}if(w&&(v&&v.attr("path",[["M",0,0],["L",o*w,0]]),g=(o+2+b)*w),i+f<=l.minY)if(n==="upward")S=1;else{var C=l.minY-(i+f);y=d.attr("y")+C}else if(i+h>=l.maxY)if(n==="downward")S=-1;else{var C=i+h-l.maxY;y=d.attr("y")-C}S&&(v&&v.attr("path",[["M",0,0],["L",0,o*S]]),y=(o+2+x)*S),(g!==d.attr("x")||y!==d.attr("y"))&&Bg(d,g,y)}},e.prototype.getShapeAttrs=function(){var t=H(this.get("line"),"display"),n=H(this.get("point"),"style",{}),a=H(this.get("line"),"style",{}),i=H(this.get("text"),"style",{}),o=this.get("direction"),l=t?H(this.get("line"),"length",0):0,s=0,u=0,c="top",f="start";switch(o){case"upward":u=-1,c="bottom";break;case"downward":u=1,c="top";break;case"leftward":s=-1,f="end";break;case"rightward":s=1,f="start";break}return{point:E({x:0,y:0},n),line:E({path:[["M",0,0],["L",l*s,l*u]]},a),text:E({x:(l+2)*s,y:(l+2)*u,text:H(this.get("text"),"content",""),textBaseline:c,textAlign:f},i)}},e}(Ve),JY=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:At.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:At.textColor,fontFamily:At.fontFamily}}}})},e.prototype.renderInner=function(t){var n=H(this.get("region"),"style",{});H(this.get("text"),"style",{});var a=this.get("lineLength")||0,i=this.get("points");if(i.length){var o=RY(i),l=[];l.push(["M",i[0].x,o.minY-a]),i.forEach(function(u){l.push(["L",u.x,u.y])}),l.push(["L",i[i.length-1].x,i[i.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:E({path:l},n)});var s=E({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-a},this.get("text"));Of(t,s)}},e}(Ve),t9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var n=this,a=this.get("start"),i=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});j(this.get("shapes"),function(s,u){var c=s.get("type"),f=Ye(s.attr());n.adjustShapeAttrs(f),n.addShape(o,{id:n.getElementId("shape-"+c+"-"+u),capture:!1,type:c,attrs:f})});var l=Yl({start:a,end:i});o.setClip({type:"rect",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}})},e.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},e}(Ve),e9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"shape",draw:ua})},e.prototype.renderInner=function(t){var n=this.get("render");ut(n)&&n(t)},e}(Ve),$g=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.getContainer(),a=t?"auto":"none";n.style.pointerEvents=a,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,a=parseFloat(t.style.top)||0;return Mf(n,a,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");Ng(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},e.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Q(t)){t=this.createDom();var n=this.get("parent");gt(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else gt(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=lt({},n,t):t=n,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var a=this.get("containerClassName");if(a&&PY(n,a)){var i=t[a];He(n,i)}}},e.prototype.applyChildrenStyles=function(t,n){j(n,function(a,i){var o=t.getElementsByClassName(i);j(o,function(l){He(l,a)})})},e.prototype.applyStyle=function(t,n){var a=this.get("domStyles");He(n,a[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return da(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){xa(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(hE),r9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),n=this.get("html");Ng(t);var a=ut(n)?n(t):n;if(VC(a))t.appendChild(a);else if(gt(a)||xt(a)){var i=da(""+a);i&&t.appendChild(i)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),a=n.x,i=n.y,o=this.get("alignX"),l=this.get("alignY"),s=this.get("offsetX"),u=this.get("offsetY"),c=S8(t),f=b8(t),h={x:a,y:i};o==="middle"?h.x-=Math.round(c/2):o==="right"&&(h.x-=Math.round(c)),l==="middle"?h.y-=Math.round(f/2):l==="bottom"&&(h.y-=Math.round(f)),s&&(h.x+=s),u&&(h.y+=u),He(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},e}($g);const n9=Object.freeze(Object.defineProperty({__proto__:null,Arc:XY,DataMarker:QY,DataRegion:JY,Html:r9,Image:ZY,Line:YY,Region:KY,RegionFilter:t9,Shape:e9,Text:UY},Symbol.toStringTag,{value:"Module"}));function fl(r,e,t){var n=e+"Style",a=null;return j(t,function(i,o){r[o]&&i[n]&&(a||(a={}),zt(a,i[n]))}),a}var dE=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:At.lineColor}},tickLine:{style:{lineWidth:1,stroke:At.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:At.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:At.textColor,fontFamily:At.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:At.textColor,textBaseline:"middle",fontFamily:At.fontFamily,textAlign:"center"},iconStyle:{fill:At.descriptionIconFill,stroke:At.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:At.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,n){zt(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,n,a){t[n]=a,this.updateTickStates(t)},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("tickStates"),a=[];return j(n,function(i,o){t[o]&&a.push(o)}),a},e.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);j(a,function(i){n.setItemState(i,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return Be(a,function(i){return n.hasState(i,t)})},e.prototype.getSidePoint=function(t,n){var a=this,i=a.getSideVector(n,t);return{x:t.x+i[0],y:t.y+i[1]}},e.prototype.getTextAnchor=function(t){var n;return Le(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},e.prototype.getTextBaseline=function(t){var n;return Le(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var n=this.getLinePath(),a=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:zt({path:n},a.style)})},e.prototype.getTickLineItems=function(t){var n=this,a=[],i=this.get("tickLine"),o=i.alignTick,l=i.length,s=1,u=t.length;return u>=2&&(s=t[1].value-t[0].value),j(t,function(c){var f=c.point;o||(f=n.getTickPoint(c.value-s/2));var h=n.getSidePoint(f,l);a.push({startPoint:f,tickValue:c.value,endPoint:h,tickId:c.id,id:"tickline-"+c.id})}),a},e.prototype.getSubTickLineItems=function(t){var n=[],a=this.get("subTickLine"),i=a.count,o=t.length;if(o>=2)for(var l=0;l<o-1;l++)for(var s=t[l],u=t[l+1],c=0;c<i;c++){var f=(c+1)/(i+1),h=(1-f)*s.tickValue+f*u.tickValue,d=this.getTickPoint(h),p=this.getSidePoint(d,a.length);n.push({startPoint:d,endPoint:p,tickValue:h,id:"sub-"+s.id+"-"+c})}return n},e.prototype.getTickLineAttrs=function(t,n,a,i){var o=this.get(n).style,l={points:[t.startPoint,t.endPoint]},s=H(this.get("theme"),["tickLine","style"],{});o=ut(o)?zt({},s,o(l,a,i)):o;var u=t.startPoint,c=t.endPoint;return E({x1:u.x,y1:u.y,x2:c.x,y2:c.y},o)},e.prototype.drawTick=function(t,n,a,i,o){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+a,attrs:this.getTickLineAttrs(t,a,i,o)})},e.prototype.drawTickLines=function(t){var n=this,a=this.get("ticks"),i=this.get("subTickLine"),o=this.getTickLineItems(a),l=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");if(j(o,function(c,f){if(s.displayWithLabel){var h=n.getElementId("label-"+c.tickId);t.findById(h)&&n.drawTick(c,l,"tickLine",f,o)}else n.drawTick(c,l,"tickLine",f,o)}),i){var u=this.getSubTickLineItems(o);j(u,function(c,f){n.drawTick(c,l,"subTickLine",f,u)})}},e.prototype.processTicks=function(){var t=this,n=this.get("ticks");j(n,function(a){a.point=t.getTickPoint(a.value),Q(a.id)&&(a.id=a.name)})},e.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var a=this.get("ticks");j(a,function(i){n.applyTickStates(i,t)})},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var a=Ie(n);if(a>t.threshold){var i=Math.ceil(a/t.threshold),o=n.filter(function(l,s){return s%i===0});this.set("ticks",o),this.set("originalTicks",n)}}},e.prototype.getLabelAttrs=function(t,n,a){var i=this.get("label"),o=i.offset,l=i.offsetX,s=i.offsetY,u=i.rotate,c=i.formatter,f=this.getSidePoint(t.point,o),h=this.getSideVector(o,f),d=c?c(t.name,t,n):t.name,p=i.style;p=ut(p)?H(this.get("theme"),["label","style"],{}):p;var v=zt({x:f.x+l,y:f.y+s,text:d,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},p);return u&&(v.matrix=gi(f,u)),v},e.prototype.drawLabels=function(t){var n=this,a=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});j(a,function(h,d){n.addShape(i,{type:"text",name:"axis-label",id:n.getElementId("label-"+h.id),attrs:n.getLabelAttrs(h,d,a),delegateObject:{tick:h,item:h,index:d}})}),this.processOverlap(i);var o=i.getChildren(),l=H(this.get("theme"),["label","style"],{}),s=this.get("label"),u=s.style,c=s.formatter;if(ut(u)){var f=o.map(function(h){return H(h.get("delegateObject"),"tick")});j(o,function(h,d){var p=h.get("delegateObject").tick,v=c?c(p.name,p,d):p.name,g=zt({},l,u(v,d,f));h.attr(g)})}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,a=t.position,i=t.offset,o=t.spacing,l=o===void 0?0:o,s=t.autoRotate,u=n.fontSize,c=.5;a==="start"?c=0:a==="end"&&(c=1);var f=this.getTickPoint(c),h=this.getSidePoint(f,i||l+u/2),d=zt({x:h.x,y:h.y,text:t.text},n),p=t.rotate,v=p;if(Q(p)&&s){var g=this.getAxisVector(f),y=[1,0];v=Cg(g,y,!0)}if(v){var m=gi(h,v);d.matrix=m}return d},e.prototype.drawTitle=function(t){var n,a=this.getTitleAttrs(),i=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:a});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(t,i,a.matrix)},e.prototype.drawDescriptionIcon=function(t,n,a){var i=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),l=o.maxX,s=o.maxY,u=o.height,c=this.get("title").iconStyle,f=4,h=u/2,d=h/6,p=l+f,v=s-u/2,g=[p+h,v-h],y=g[0],m=g[1],b=[y+h,m+h],x=b[0],w=b[1],S=[y,w+h],C=S[0],T=S[1],F=[p,m+h],I=F[0],M=F[1],O=[p+h,v-u/4],k=O[0],L=O[1],N=[k,L+d],R=N[0],D=N[1],W=[R,D+d],V=W[0],B=W[1],P=[V,B+h*3/4],$=P[0],z=P[1];this.addShape(i,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:E({path:[["M",y,m],["A",h,h,0,0,1,x,w],["A",h,h,0,0,1,C,T],["A",h,h,0,0,1,I,M],["A",h,h,0,0,1,y,m],["M",k,L],["L",R,D],["M",V,B],["L",$,z]],lineWidth:d,matrix:a},c)}),this.addShape(i,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:p,y:v-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:a,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,n){var a=this.getItemStates(t);if(a.length){var i=this.get("tickStates"),o=this.getElementId("label-"+t.id),l=n.findById(o);if(l){var s=fl(t,"label",i);s&&l.attr(s)}var u=this.getElementId("tickline-"+t.id),c=n.findById(u);if(c){var f=fl(t,"tickLine",i);f&&c.attr(f)}}},e.prototype.updateTickStates=function(t){var n=this.getItemStates(t),a=this.get("tickStates"),i=this.get("label"),o=this.getElementByLocalId("label-"+t.id),l=this.get("tickLine"),s=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(o){var u=fl(t,"label",a);u&&o.attr(u)}if(s){var c=fl(t,"tickLine",a);c&&s.attr(c)}}else o&&o.attr(i.style),s&&s.attr(l.style)},e}(Ve);function jg(r,e,t,n){var a=e.getChildren(),i=!1;return j(a,function(o){var l=Tl(r,o,t,n);i=i||l}),i}function a9(){return pE}function i9(r,e,t){return jg(r,e,t,"head")}function pE(r,e,t){return jg(r,e,t,"tail")}function o9(r,e,t){return jg(r,e,t,"middle")}const l9=Object.freeze(Object.defineProperty({__proto__:null,ellipsisHead:i9,ellipsisMiddle:o9,ellipsisTail:pE,getDefault:a9},Symbol.toStringTag,{value:"Module"}));function s9(r){var e=r.attr("matrix");return e&&e[0]!==1}function vE(r){var e=s9(r)?FY(r.attr("matrix")):0;return e%360}function dv(r,e,t,n){var a=!1,i=vE(e),o=Math.abs(r?t.attr("y")-e.attr("y"):t.attr("x")-e.attr("x")),l=(r?t.attr("y")>e.attr("y"):t.attr("x")>e.attr("x"))?e.getBBox():t.getBBox();if(r){var s=Math.abs(Math.cos(i));Sc(s,0,Math.PI/180)?a=l.width+n>o:a=l.height/s+n>o}else{var s=Math.abs(Math.sin(i));Sc(s,0,Math.PI/180)?a=l.width+n>o:a=l.height/s+n>o}return a}function Ul(r,e,t,n){var a=(n==null?void 0:n.minGap)||0,i=e.getChildren().slice().filter(function(d){return d.get("visible")});if(!i.length)return!1;var o=!1;t&&i.reverse();for(var l=i.length,s=i[0],u=s,c=1;c<l;c++){var f=i[c];f.getBBox();var h=dv(r,u,f,a);h?(f.hide(),o=!0):u=f}return o}function gE(r,e,t){var n=(t==null?void 0:t.minGap)||0,a=e.getChildren().slice();if(a.length<2)return!1;var i=!1,o=a[0],l=o.getBBox(),s=a[1],u=a.length,c=vE(o),f=Math.abs(r?s.attr("y")-o.attr("y"):s.attr("x")-o.attr("x")),h=0;if(r){var d=Math.abs(Math.cos(c));if(Sc(d,0,Math.PI/180)){var p=hv(a);h=(p+n)/f}else h=(l.height/d+n)/f}else{var d=Math.abs(Math.sin(c));if(Sc(d,0,Math.PI/180)){var p=hv(a);h=(p+n)/f}else h=(l.height/d+n)/f}if(h>1){h=Math.ceil(h);for(var v=0;v<u;v++)v%h!==0&&(a[v].hide(),i=!0)}return i}function u9(){return yE}function c9(r,e,t,n){return Ul(r,e,!1,n)}function f9(r,e,t,n){return Ul(r,e,!0,n)}function h9(r,e,t,n){var a=(n==null?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<=2)return!1;for(var o=!1,l=i.length,s=i[0],u=i[l-1],c=s,f=1;f<l-1;f++){var h=i[f];h.getBBox();var d=dv(r,c,h,a);d?(h.hide(),o=!0):c=h}var p=dv(r,c,u,a);return p&&(c.hide(),o=!0),o}function yE(r,e,t,n){var a=gE(r,e,n);return Ul(r,e,!1)&&(a=!0),a}function d9(r,e,t,n){var a=e.getChildren().slice(),i=gE(r,e,n);if(a.length>2){var o=a[0],l=a[a.length-1];o.get("visible")||(o.show(),Ul(r,e,!1,n)&&(i=!0)),l.get("visible")||(l.show(),Ul(r,e,!0,n)&&(i=!0))}return i}const p9=Object.freeze(Object.defineProperty({__proto__:null,equidistance:yE,equidistanceWithReverseBoth:d9,getDefault:u9,reserveBoth:h9,reserveFirst:c9,reserveLast:f9},Symbol.toStringTag,{value:"Module"}));function v9(r,e){j(r,function(t){var n=t.attr("x"),a=t.attr("y"),i=gi({x:n,y:a},e);t.attr("matrix",i)})}function mE(r,e,t,n){var a=e.getChildren();if(!a.length||!r&&a.length<2)return!1;var i=hv(a),o=!1;if(r)o=!!t&&i>t;else{var l=Math.abs(a[1].attr("x")-a[0].attr("x"));o=i>l}if(o){var s=n(t,i);v9(a,s)}return o}function g9(){return xE}function xE(r,e,t,n){return mE(r,e,t,function(){return xt(n)?n:r?At.verticalAxisRotate:At.horizontalAxisRotate})}function y9(r,e,t){return mE(r,e,t,function(n,a){if(!n)return r?At.verticalAxisRotate:At.horizontalAxisRotate;if(r)return-Math.acos(n/a);var i=0;return n>a?i=Math.PI/4:(i=Math.asin(n/a),i>Math.PI/4&&(i=Math.PI/4)),i})}const m9=Object.freeze(Object.defineProperty({__proto__:null,fixedAngle:xE,getDefault:g9,unfixedAngle:y9},Symbol.toStringTag,{value:"Module"})),bE=Object.freeze(Object.defineProperty({__proto__:null,autoEllipsis:l9,autoHide:p9,autoRotate:m9},Symbol.toStringTag,{value:"Module"}));var x9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),a=[];return a.push(["M",t.x,t.y]),a.push(["L",n.x,n.y]),a},e.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),a=r.prototype.getInnerLayoutBBox.call(this),i=Math.min(t.x,n.x,a.x),o=Math.min(t.y,n.y,a.y),l=Math.max(t.x,n.x,a.maxX),s=Math.max(t.y,n.y,a.maxY);return{x:i,y:o,minX:i,minY:o,maxX:l,maxY:s,width:l-i,height:s-o}},e.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return Le(t.x,n.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return Le(t.y,n.y)},e.prototype.getTickPoint=function(t){var n=this,a=n.get("start"),i=n.get("end"),o=i.x-a.x,l=i.y-a.y;return{x:a.x+o*t,y:a.y+l*t}},e.prototype.getSideVector=function(t){var n=this.getAxisVector(),a=nA([0,0],n),i=this.get("verticalFactor"),o=[a[1],a[0]*-1];return Ue([0,0],o,t*i)},e.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},e.prototype.processOverlap=function(t){var n=this,a=this.isVertical(),i=this.isHorizontal();if(!(!a&&!i)){var o=this.get("label"),l=this.get("title"),s=this.get("verticalLimitLength"),u=o.offset,c=s,f=0,h=0;l&&(f=l.style.fontSize,h=l.spacing),c&&(c=c-u-h-f);var d=this.get("overlapOrder");if(j(d,function(g){o[g]&&n.canProcessOverlap(g)&&n.autoProcessOverlap(g,o[g],t,c)}),l&&Q(l.offset)){var p=t.getCanvasBBox(),v=a?p.width:p.height;l.offset=u+v+h+f/2}}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?Q(n.rotate):!0},e.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,l=this.isVertical(),s=!1,u=bE[t];if(n===!0)this.get("label"),s=u.getDefault()(l,a,i);else if(ut(n))s=n(l,a,i);else if(jt(n)){var c=n;u[c.type]&&(s=u[c.type](l,a,i,c.cfg))}else u[n]&&(s=u[n](l,a,i));if(t==="autoRotate"){if(s){var f=a.getChildren(),h=this.get("verticalFactor");j(f,function(p){var v=p.attr("textAlign");if(v==="center"){var g=h>0?"end":"start";p.attr("textAlign",g)}})}}else if(t==="autoHide"){var d=a.getChildren().slice(0);j(d,function(p){p.get("visible")||(o.get("isRegister")&&o.unregisterElement(p),p.remove())})}},e}(dE),b9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,a=t.y,i=this.get("radius"),o=i,l=this.get("startAngle"),s=this.get("endAngle"),u=[];if(Math.abs(s-l)===Math.PI*2)u=[["M",n,a-o],["A",i,o,0,1,1,n,a+o],["A",i,o,0,1,1,n,a-o],["Z"]];else{var c=this.getCirclePoint(l),f=this.getCirclePoint(s),h=Math.abs(s-l)>Math.PI?1:0,d=l>s?0:1;u=[["M",n,a],["L",c.x,c.y],["A",i,o,0,h,d,f.x,f.y],["L",n,a]]}return u},e.prototype.getTickPoint=function(t){var n=this.get("startAngle"),a=this.get("endAngle"),i=n+(a-n)*t;return this.getCirclePoint(i)},e.prototype.getSideVector=function(t,n){var a=this.get("center"),i=[n.x-a.x,n.y-a.y],o=this.get("verticalFactor"),l=qi(i);return Ue(i,i,o*t/l),i},e.prototype.getAxisVector=function(t){var n=this.get("center"),a=[t.x-n.x,t.y-n.y];return[a[1],-1*a[0]]},e.prototype.getCirclePoint=function(t,n){var a=this.get("center");return n=n||this.get("radius"),{x:a.x+Math.cos(t)*n,y:a.y+Math.sin(t)*n}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?Q(n.rotate):!0},e.prototype.processOverlap=function(t){var n=this,a=this.get("label"),i=this.get("title"),o=this.get("verticalLimitLength"),l=a.offset,s=o,u=0,c=0;i&&(u=i.style.fontSize,c=i.spacing),s&&(s=s-l-c-u);var f=this.get("overlapOrder");if(j(f,function(d){a[d]&&n.canProcessOverlap(d)&&n.autoProcessOverlap(d,a[d],t,s)}),i&&Q(i.offset)){var h=t.getCanvasBBox().height;i.offset=l+h+c+u/2}},e.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,l=!1,s=bE[t];if(i>0)if(n===!0)l=s.getDefault()(!1,a,i);else if(ut(n))l=n(!1,a,i);else if(jt(n)){var u=n;s[u.type]&&(l=s[u.type](!1,a,i,u.cfg))}else s[n]&&(l=s[n](!1,a,i));if(t==="autoRotate"){if(l){var c=a.getChildren(),f=this.get("verticalFactor");j(c,function(d){var p=d.attr("textAlign");if(p==="center"){var v=f>0?"end":"start";d.attr("textAlign",v)}})}}else if(t==="autoHide"){var h=a.getChildren().slice(0);j(h,function(d){d.get("visible")||(o.get("isRegister")&&o.unregisterElement(d),d.remove())})}},e}(dE),Vg=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:At.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:At.textColor,textAlign:"center",textBaseline:"middle",fontFamily:At.fontFamily}},textBackground:{padding:5,style:{stroke:At.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var n=this.get("text"),a=n.style,i=n.autoRotate,o=n.content;if(!Q(o)){var l=this.getTextPoint(),s=null;if(i){var u=this.getRotateAngle();s=gi(l,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:E(E(E({},l),{text:o,matrix:s}),a)})}},e.prototype.renderLine=function(t){var n=this.getLinePath(),a=this.get("line"),i=a.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:E({path:n},i)})},e.prototype.renderBackground=function(t){var n=this.getElementId("text"),a=t.findById(n),i=this.get("textBackground");if(i&&a){var o=a.getBBox(),l=wc(i.padding),s=i.style,u=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:E({x:o.x-l[3],y:o.y-l[0],width:o.width+l[1]+l[3],height:o.height+l[0]+l[2],matrix:a.attr("matrix")},s)});u.toBack()}},e}(Ve),wE=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text").position,o=Math.atan2(a.y-n.y,a.x-n.x),l=i==="start"?o-Math.PI/2:o+Math.PI/2;return l},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,l=i.offset;return fE(n,a,o,l)},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,a=t.end;return[["M",n.x,n.y],["L",a.x,a.y]]},e}(Vg),w9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,a=t.endAngle,i=this.get("text").position,o=i==="start"?n+Math.PI/2:a-Math.PI/2;return o},e.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,a=t.offset,i=this.getLocation(),o=i.center,l=i.radius,s=i.startAngle,u=i.endAngle,c=n==="start"?s:u,f=this.getRotateAngle()-Math.PI,h=to(o,l,c),d=Math.cos(f)*a,p=Math.sin(f)*a;return{x:h.x+d,y:h.y+p}},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,l=null;if(o-i===Math.PI*2){var s=n.x,u=n.y;l=[["M",s,u-a],["A",a,a,0,1,1,s,u+a],["A",a,a,0,1,1,s,u-a],["Z"]]}else{var c=to(n,a,i),f=to(n,a,o),h=Math.abs(o-i)>Math.PI?1:0,d=i>o?0:1;l=[["M",c.x,c.y],["A",a,a,0,h,d,f.x,f.y]]}return l},e}(Vg),Xl="g2-crosshair",pv=Xl+"-line",vv=Xl+"-text",Zo;const S9=(Zo={},Zo[""+Xl]={position:"relative"},Zo[""+pv]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Zo[""+vv]={position:"absolute",color:At.textColor,fontFamily:At.fontFamily},Zo);var C9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Xl+'"></div>',crosshairTpl:'<div class="'+pv+'"></div>',textTpl:'<span class="'+vv+'">{content}</span>',domStyles:null,containerClassName:Xl,defaultStyles:S9,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),a=da(n);t.appendChild(a),this.applyStyle(pv,a),this.set("crosshairEl",a)},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,l=i.offset;return fE(n,a,o,l)},e.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var a=t.content;if(!n){var i=this.getContainer(),o=$C(this.get("textTpl"),t);n=da(o),i.appendChild(n),this.applyStyle(vv,n),this.set("textEl",n)}n.innerHTML=a}else n&&n.remove()},e.prototype.isVertical=function(t,n){return t.x===n.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),a=this.get("end"),i=Math.min(n.x,a.x),o=Math.min(n.y,a.y);this.isVertical(n,a)?He(t,{width:"1px",height:Je(Math.abs(a.y-n.y))}):He(t,{height:"1px",width:Je(Math.abs(a.x-n.x))}),He(t,{top:Je(o),left:Je(i)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,a=t.clientWidth,i=this.getTextPoint();switch(n){case"center":i.x=i.x-a/2;break;case"right":i.x=i.x-a}He(t,{top:Je(i.y),left:Je(i.x)})}},e.prototype.updateInner=function(t){xa(t,"text")&&this.resetText(),r.prototype.updateInner.call(this,t)},e}($g);const Zb=Object.freeze(Object.defineProperty({__proto__:null,Base:Vg,Circle:w9,Html:C9,Line:wE},Symbol.toStringTag,{value:"Module"}));var SE=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:At.lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,n){var a=this.getGridPath(t),i=n.slice(0).reverse(),o=this.getGridPath(i,!0),l=this.get("closed");return l?a=a.concat(o):(o[0][0]="L",a=a.concat(o),a.push(["Z"])),a},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var n=this,a=this.get("line"),i=this.get("items"),o=this.get("alternateColor"),l=null;j(i,function(s,u){var c=s.id||u;if(a){var f=n.getPathStyle();f=ut(f)?f(s,u,i):f;var h=n.getElementId("line-"+c),d=n.getGridPath(s.points);n.addShape(t,{type:"path",name:"grid-line",id:h,attrs:zt({path:d},f)})}if(o&&u>0){var p=n.getElementId("region-"+c),v=u%2===0;if(gt(o))v&&n.drawAlternateRegion(p,t,l.points,s.points,o);else{var g=v?o[1]:o[0];n.drawAlternateRegion(p,t,l.points,s.points,g)}}l=s})},e.prototype.drawAlternateRegion=function(t,n,a,i,o){var l=this.getAlternatePath(a,i);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:l,fill:o}})},e}(Ve);function A9(r,e,t,n){var a=t-r,i=n-e;return Math.sqrt(a*a+i*i)}var E9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,n){var a=this.getLineType(),i=this.get("closed"),o=[];if(t.length)if(a==="circle"){var l=this.get("center"),s=t[0],u=A9(l.x,l.y,s.x,s.y),c=n?0:1;i?(o.push(["M",l.x,l.y-u]),o.push(["A",u,u,0,0,c,l.x,l.y+u]),o.push(["A",u,u,0,0,c,l.x,l.y-u]),o.push(["Z"])):j(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["A",u,u,0,0,c,f.x,f.y])})}else j(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["L",f.x,f.y])}),i&&o.push(["Z"]);return o},e}(SE),T9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"line"})},e.prototype.getGridPath=function(t){var n=[];return j(t,function(a,i){i===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},e}(SE),CE=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var t=r.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),a=this.get("maxHeight"),i=t.width,o=t.height;return n&&(i=Math.min(i,n)),a&&(o=Math.min(o,a)),Mf(t.minX,t.minY,i,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+a,y:n+i})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var n=this.get("background"),a=t.getBBox(),i=wc(n.padding),o=E({x:0,y:0,width:a.width+i[1]+i[3],height:a.height+i[0]+i[2]},n.style),l=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});l.toBack()},e.prototype.drawTitle=function(t){var n=this.get("currentPoint"),a=this.get("title"),i=a.spacing,o=a.style,l=a.text,s=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:E({text:l,x:n.x,y:n.y},o)}),u=s.getBBox();this.set("currentPoint",{x:n.x,y:u.maxY+i})},e.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var a=wc(t.padding);n.x=a[3],n.y=a[0]}this.set("currentPoint",n)},e}(Ve),fd={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},uu={fill:At.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:At.fontFamily,fontWeight:"normal",lineHeight:12},hd="navigation-arrow-right",dd="navigation-arrow-left",Qb={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},I9=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:At.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:At.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:fd,itemName:{spacing:16,style:uu},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:uu,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:At.uncheckedColor},markerStyle:{fill:At.uncheckedColor,stroke:At.uncheckedColor}},inactive:{nameStyle:{fill:At.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,n){zt(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,n,a){t[n]=a;var i=this.getElementByLocalId("item-"+t.id);if(i){var o=this.getItems(),l=o.indexOf(t),s=this.createOffScreenGroup(),u=this.drawItem(t,l,this.getItemHeight(),s);this.updateElements(u,i),this.clearUpdateStatus(i)}},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("itemStates"),a=[];return j(n,function(i,o){t[o]&&a.push(o)}),a},e.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);j(a,function(i){n.setItemState(i,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return Be(a,function(i){return n.hasState(i,t)})},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");j(t,function(n){n.id||(n.id=n.name)})},e.prototype.drawItems=function(t){var n=this,a=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),i=this.addGroup(a,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),l=this.get("itemWidth"),s=this.get("itemSpacing"),u=this.get("itemMarginBottom"),c=this.get("currentPoint"),f=c.x,h=c.y,d=this.get("layout"),p=this.get("items"),v=!1,g=0,y=this.get("maxWidth"),m=this.get("maxHeight");j(p,function(b,x){var w=n.drawItem(b,x,o,i),S=w.getBBox(),C=l||S.width;C>g&&(g=C),d==="horizontal"?(y&&y<c.x+C-f&&(v=!0,c.x=f,c.y+=o+u),n.moveElementTo(w,c),c.x+=C+s):(m&&m<c.y+o+u-h&&(v=!0,c.x+=g+s,c.y=h,g=0),n.moveElementTo(w,c),c.y+=o+u)}),v&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=f,this.startY=h,this.adjustNavigation(t,i))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if(ut(n)){var a=this.getItems();a.forEach(function(i,o){var l=E(E({},uu),n(i,o,a)).fontSize;t<l&&(t=l)})}else n&&(t=n.fontSize)}return t},e.prototype.drawMarker=function(t,n,a,i){var o=E(E(E({x:0,y:i/2},n.style),{symbol:H(a.marker,"symbol","circle")}),H(a.marker,"style",{})),l=this.addShape(t,{type:"marker",id:this.getElementId("item-"+a.id+"-marker"),name:"legend-item-marker",attrs:o}),s=l.getBBox();l.attr("x",s.width/2);var u=l.attr(),c=u.stroke,f=u.fill;return c&&l.set("isStroke",!0),f&&l.set("isFill",!0),l},e.prototype.drawItemText=function(t,n,a,i,o,l,s){var u=a.formatter,c=a.style,f=E(E({x:l,y:o/2,text:u?u(i[n],i,s):i[n]},uu),ut(c)?c(i,s,this.getItems()):c);return this.addShape(t,{type:"text",id:this.getElementId("item-"+i.id+"-"+n),name:"legend-item-"+n,attrs:f})},e.prototype.drawRadio=function(t,n,a,i,o){var l,s,u=n.style||{},c=(l=u.r)!==null&&l!==void 0?l:i/2,f=c*3.6/8,h=[o+c,i/2-c],d=h[0],p=h[1],v=[d+c,p+c],g=v[0],y=v[1],m=[d,y+c],b=m[0],x=m[1],w=[o,p+c],S=w[0],C=w[1],T=a.showRadio,F=E(E({path:[["M",d,p],["A",c,c,0,0,1,g,y],["L",g-f,y],["L",g,y],["A",c,c,0,0,1,b,x],["L",b,x-f],["L",b,x],["A",c,c,0,0,1,S,C],["L",S+f,C],["L",S,C],["A",c,c,0,0,1,d,p],["L",d,p+f]],stroke:"#000000",fill:"#ffffff"},u),{opacity:T?(s=u==null?void 0:u.opacity)!==null&&s!==void 0?s:.45:0}),I=this.addShape(t,{type:"path",id:this.getElementId("item-"+a.id+"-radio"),name:"legend-item-radio",attrs:F});return I.set("tip",n.tip),I},e.prototype.drawItem=function(t,n,a,i){var o="item-"+t.id,l=this.addGroup(i,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:n}}),s=this.addGroup(l,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:n}}),u=this.get("marker"),c=this.get("itemName"),f=this.get("itemValue"),h=this.get("itemBackground"),d=this.get("radio"),p=this.getLimitItemWidth(),v=0;if(u){var g=this.drawMarker(s,u,t,a),y=u.spacing,m=H(t,["marker","spacing"]);xt(m)&&(y=m),v=g.getBBox().maxX+y}if(c){var b=this.drawItemText(s,"name",c,t,a,v,n);p&&Tl(!0,b,Zt(p-v,0,p)),v=b.getBBox().maxX+c.spacing}if(f){var x=this.drawItemText(s,"value",f,t,a,v,n);p&&(f.alignRight?(x.attr({textAlign:"right",x:p}),Tl(!0,x,Zt(p-v,0,p),"head")):Tl(!0,x,Zt(p-v,0,p))),v=x.getBBox().maxX+f.spacing}if(d&&this.drawRadio(s,d,t,a,v),h){var w=s.getBBox(),S=this.addShape(s,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:E({x:0,y:0,width:w.width,height:a},h.style)});S.toBack()}return this.applyItemStates(t,s),s},e.prototype.adjustNavigation=function(t,n){var a=this,i=this.startX,o=this.startY,l=this.get("layout"),s=n.findAll(function(O){return O.get("name")==="legend-item"}),u=this.get("maxWidth"),c=this.get("maxHeight"),f=this.get("itemWidth"),h=this.get("itemSpacing"),d=this.getItemHeight(),p=lt({},fd,this.get("pageNavigator")),v=this.drawNavigation(t,l,"00/00",p),g=v.getBBox(),y={x:i,y:o},m=1,b=0,x=0,w=0,S=this.get("itemMarginBottom");function C(O,k){var L=O.getBBox(),N=f||L.width,R=k.x+N+h+g.width;return R>u}if(l==="horizontal"){var T=this.get("maxRow")||1,F=d+(T===1?0:S),I=u-h-g.width-g.minX;this.pageHeight=F*T,this.pageWidth=I,j(s,function(O){var k=O.getBBox(),L=f||k.width;(b&&b<y.x+L+h||C(O,y))&&(m===1&&(b=y.x+h,a.moveElementTo(v,{x:I,y:y.y+d/2-g.height/2-g.minY})),m+=1,y.x=i,y.y+=F),a.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:L+h,height:d}}),y.x+=L+h})}else{j(s,function(O){var k=O.getBBox();k.width>x&&(x=k.width)}),w=x,x+=h,u&&(x=Math.min(u,x),w=Math.min(u,w)),this.pageWidth=x,this.pageHeight=c-Math.max(g.height,d+S);var M=Math.floor(this.pageHeight/(d+S));j(s,function(O,k){k!==0&&k%M===0&&(m+=1,y.x+=x,y.y=o),a.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:x,height:d}}),y.y+=d+S}),this.totalPagesCnt=m,this.moveElementTo(v,{x:i+w/2-g.width/2-g.minX,y:c-g.height-g.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),l==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(m/this.get("maxRow")):this.totalPagesCnt=m,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(v),n.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,n,a,i){var o={x:0,y:0},l=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),s=H(i.marker,"style",{}),u=s.size,c=u===void 0?12:u,f=Ht(s,["size"]),h=this.drawArrow(l,o,dd,n==="horizontal"?"up":"left",c,f);h.on("click",this.onNavigationBack);var d=h.getBBox();o.x+=d.width+2;var p=this.addShape(l,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:E({x:o.x,y:o.y+c/2,text:a,textBaseline:"middle"},H(i.text,"style"))}),v=p.getBBox();o.x+=v.width+2;var g=this.drawArrow(l,o,hd,n==="horizontal"?"down":"right",c,f);return g.on("click",this.onNavigationAfter),l},e.prototype.updateNavigation=function(t){var n=lt({},fd,this.get("pageNavigator")),a=n.marker.style,i=a.fill,o=a.opacity,l=a.inactiveFill,s=a.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,c=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=t?t.findById(this.getElementId(dd)):this.getElementByLocalId(dd),h=t?t.findById(this.getElementId(hd)):this.getElementByLocalId(hd);c.attr("text",u),f.attr("opacity",this.currentPageIndex===1?s:o),f.attr("fill",this.currentPageIndex===1?l:i),f.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?s:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?l:i),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var d=f.getBBox().maxX+2;c.attr("x",d),d+=c.getBBox().width+2,this.updateArrowPath(h,{x:d,y:0})},e.prototype.drawArrow=function(t,n,a,i,o,l){var s=n.x,u=n.y,c=this.addShape(t,{type:"path",id:this.getElementId(a),name:a,attrs:E({size:o,direction:i,path:[["M",s+o/2,u],["L",s,u+o],["L",s+o,u+o],["Z"]],cursor:"pointer"},l)});return c.attr("matrix",gi({x:s+o/2,y:u+o/2},Qb[i])),c},e.prototype.updateArrowPath=function(t,n){var a=n.x,i=n.y,o=t.attr(),l=o.size,s=o.direction,u=gi({x:a+l/2,y:i+l/2},Qb[s]);t.attr("path",[["M",a+l/2,i],["L",a,i+l],["L",a+l,i+l],["Z"]]),t.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,a=t.pageWidth,i=t.pageHeight,o=this.get("layout"),l=o==="horizontal"?{x:0,y:i*(1-n)}:{x:a*(1-n),y:0};return _g(l)},e.prototype.applyItemStates=function(t,n){var a=this.getItemStates(t),i=a.length>0;if(i){var o=n.getChildren(),l=this.get("itemStates");j(o,function(s){var u=s.get("name"),c=u.split("-")[2],f=fl(t,c,l);f&&(s.attr(f),c==="marker"&&!(s.get("isStroke")&&s.get("isFill"))&&(s.get("isStroke")&&s.attr("fill",null),s.get("isFill")&&s.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},e}(CE),M9=1.4,Jb=.4,O9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:At.textColor,textBaseline:"middle",fontFamily:At.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:At.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,n){this.update({min:t,max:n})},e.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var a=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(a),this.delegateEmit("valuechanged",{originValue:n,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),l=o[1];l<i&&(l=i),n.setValue([i,l])}),t.on("legend-handler-max:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),l=o[0];l>i&&(l=i),n.setValue([l,i])})},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var n=this,a=null;t.on("legend-track:dragstart",function(i){a={x:i.x,y:i.y}}),t.on("legend-track:drag",function(i){if(a){var o=n.getValueByCanvasPoint(a.x,a.y),l=n.getValueByCanvasPoint(i.x,i.y),s=n.getCurrentValue(),u=s[1]-s[0],c=n.getRange(),f=l-o;f<0?s[0]+f>c.min?n.setValue([s[0]+f,s[1]+f]):n.setValue([c.min,c.min+u]):f>0&&(f>0&&s[1]+f<c.max?n.setValue([s[0]+f,s[1]+f]):n.setValue([c.max-u,c.max])),a={x:i.x,y:i.y}}}),t.on("legend-track:dragend",function(i){a=null})},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,n){var a=this.get("label"),i=a.style,o=a.align,l=a.formatter,s=this.get(t),u=this.getLabelAlignAttrs(t,o),c="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(c),name:"legend-label-"+t,attrs:E(E({x:0,y:0,text:ut(l)?l(s):s},i),u)})},e.prototype.getLabelAlignAttrs=function(t,n){var a=this.isVertical(),i="center",o="middle";return a?(i="start",n!=="rail"?t==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",t==="min"?i="start":i="end"):(i="start",o="middle"),{textAlign:i,textBaseline:o}},e.prototype.getRailPath=function(t,n,a,i){var o=this.get("rail"),l=o.size,s=o.defaultLength,u=o.type,c=this.isVertical(),f=s,h=a,d=i;h||(h=c?l:f),d||(d=c?f:l);var p=[];return u==="color"?(p.push(["M",t,n]),p.push(["L",t+h,n]),p.push(["L",t+h,n+d]),p.push(["L",t,n+d]),p.push(["Z"])):(p.push(["M",t+h,n]),p.push(["L",t+h,n+d]),p.push(["L",t,n+d]),p.push(["Z"])),p},e.prototype.drawRail=function(t){var n=this.get("rail"),a=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:E({path:this.getRailPath(0,0)},a)})},e.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var a;this.isVertical()?a="l(90)":a="l(0)";for(var i=0;i<n;i++){var o=i/(n-1);a+=" "+o+":"+t[i]}return a},e.prototype.getTrackPath=function(t){var n=this.getRailShape(t),a=n.attr("path");return Ye(a)},e.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1],o=this.getRailBBox(t),l=this.getPointByValue(a,t),s=this.getPointByValue(i,t),u=this.isVertical(),c,f,h,d;return u?(c=o.minX,f=l.y,h=o.width,d=s.y-l.y):(c=l.x,f=o.minY,h=s.x-l.x,d=o.height),{x:c,y:f,width:h,height:d}},e.prototype.getTrackAttrs=function(t){var n=this.get("track"),a=this.get("colors"),i=this.getTrackPath(t);return zt({path:i,fill:this.getTrackColor(a)},n.style)},e.prototype.resetTrackClip=function(t){var n=t||this.get("group"),a=this.getElementId("track"),i=n.findById(a),o=i.getClip(),l=this.getClipTrackAttrs(t);o?o.attr(l):i.setClip({type:"rect",attrs:l})},e.prototype.resetTrack=function(t){var n=this.getElementId("track"),a=t.findById(n),i=this.getTrackAttrs(t);a?a.attr(i):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:i})},e.prototype.getPointByValue=function(t,n){var a=this.getRange(),i=a.min,o=a.max,l=(t-i)/(o-i),s=this.getRailBBox(n),u=this.isVertical(),c={x:0,y:0};return u?(c.x=s.minX+s.width/2,c.y=li(s.minY,s.maxY,l)):(c.x=li(s.minX,s.maxX,l),c.y=s.minY+s.height/2),c},e.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var n=this.getRailShape(t),a=n.getBBox();return a},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),a=n.getCanvasBBox();return a},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(t,n){var a=this.getRange(),i=a.min,o=a.max,l=this.getRailCanvasBBox(),s=this.isVertical(),u=this.get("step"),c;s?c=(n-l.minY)/l.height:c=(t-l.minX)/l.width;var f=li(i,o,c);if(u){var h=Math.round((f-i)/u);f=i+h*u}return f>o&&(f=o),f<i&&(f=i),f},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,$l(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,$l(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1];this.resetHandler(t,"min",a),this.resetHandler(t,"max",i)},e.prototype.getHandlerPath=function(t,n){var a=this.isVertical(),i=[],o=t.size,l=n.x,s=n.y,u=o*M9,c=o/2,f=o/6;if(a){var h=l+u*Jb;i.push(["M",l,s]),i.push(["L",h,s+c]),i.push(["L",l+u,s+c]),i.push(["L",l+u,s-c]),i.push(["L",h,s-c]),i.push(["Z"]),i.push(["M",h,s+f]),i.push(["L",l+u-2,s+f]),i.push(["M",h,s-f]),i.push(["L",l+u-2,s-f])}else{var d=s+u*Jb;i.push(["M",l,s]),i.push(["L",l-c,d]),i.push(["L",l-c,s+u]),i.push(["L",l+c,s+u]),i.push(["L",l+c,d]),i.push(["Z"]),i.push(["M",l-f,d]),i.push(["L",l-f,s+u-2]),i.push(["M",l+f,d]),i.push(["L",l+f,s+u-2])}return i},e.prototype.resetHandler=function(t,n,a){var i=this.getPointByValue(a,t),o=this.get("handler"),l=this.getHandlerPath(o,i),s=this.getElementId("handler-"+n),u=t.findById(s),c=this.isVertical();u?u.attr("path",l):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:s,attrs:E(E({path:l},o.style),{cursor:c?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),a=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(a,i,n,o):this.fixedHorizontal(a,i,n,o)},e.prototype.fitRailLength=function(t,n,a,i){var o=this.isVertical(),l=o?"height":"width",s=this.get("label"),u=s.align,c=s.spacing,f=this.get("max"+Ci(l));if(f){var h=u==="rail"?a[l]+t[l]+n[l]+c*2:a[l],d=h-f;d>0&&this.changeRailLength(i,l,a[l]-d)}},e.prototype.changeRailLength=function(t,n,a){var i=t.getBBox(),o;n==="height"?o=this.getRailPath(i.x,i.y,i.width,a):o=this.getRailPath(i.x,i.y,a,i.height),t.attr("path",o)},e.prototype.changeRailPosition=function(t,n,a){var i=t.getBBox(),o=this.getRailPath(n,a,i.width,i.height);t.attr("path",o)},e.prototype.fixedHorizontal=function(t,n,a,i){var o=this.get("label"),l=o.align,s=o.spacing,u=a.getBBox(),c=t.getBBox(),f=n.getBBox(),h=u.height;this.fitRailLength(c,f,u,a),u=a.getBBox(),l==="rail"?(t.attr({x:i.x,y:i.y+h/2}),this.changeRailPosition(a,i.x+c.width+s,i.y),n.attr({x:i.x+c.width+u.width+s*2,y:i.y+h/2})):l==="top"?(t.attr({x:i.x,y:i.y}),n.attr({x:i.x+u.width,y:i.y}),this.changeRailPosition(a,i.x,i.y+c.height+s)):(this.changeRailPosition(a,i.x,i.y),t.attr({x:i.x,y:i.y+u.height+s}),n.attr({x:i.x+u.width,y:i.y+u.height+s}))},e.prototype.fixedVertail=function(t,n,a,i){var o=this.get("label"),l=o.align,s=o.spacing,u=a.getBBox(),c=t.getBBox(),f=n.getBBox();if(this.fitRailLength(c,f,u,a),u=a.getBBox(),l==="rail")t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x,i.y+c.height+s),n.attr({x:i.x,y:i.y+c.height+u.height+s*2});else if(l==="right")t.attr({x:i.x+u.width+s,y:i.y}),this.changeRailPosition(a,i.x,i.y),n.attr({x:i.x+u.width+s,y:i.y+u.height});else{var h=Math.max(c.width,f.width);t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x+h+s,i.y),n.attr({x:i.x,y:i.y+u.height})}},e}(CE),$n="g2-tooltip",jn="g2-tooltip-title",Kl="g2-tooltip-list",Ff="g2-tooltip-list-item",kf="g2-tooltip-marker",Pf="g2-tooltip-value",AE="g2-tooltip-name",Hg="g2-tooltip-crosshair-x",zg="g2-tooltip-crosshair-y";const F9=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:$n,CROSSHAIR_X:Hg,CROSSHAIR_Y:zg,LIST_CLASS:Kl,LIST_ITEM_CLASS:Ff,MARKER_CLASS:kf,NAME_CLASS:AE,TITLE_CLASS:jn,VALUE_CLASS:Pf},Symbol.toStringTag,{value:"Module"}));var an;const k9=(an={},an[""+$n]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:At.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},an[""+jn]={marginBottom:"4px"},an[""+Kl]={margin:"0px",listStyleType:"none",padding:"0px"},an[""+Ff]={listStyleType:"none",marginBottom:"4px"},an[""+kf]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},an[""+Pf]={display:"inline-block",float:"right",marginLeft:"30px"},an[""+Hg]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},an[""+zg]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},an);function P9(r,e,t,n,a){var i={left:r<a.x,right:r+t>a.x+a.width,top:e<a.y,bottom:e+n>a.y+a.height};return i}function R9(r,e,t,n,a,i){var o=r,l=e;switch(i){case"left":o=r-n-t,l=e-a/2;break;case"right":o=r+t,l=e-a/2;break;case"top":o=r-n/2,l=e-a-t;break;case"bottom":o=r-n/2,l=e+t;break;default:o=r+t,l=e-a-t;break}return{x:o,y:l}}function L9(r,e,t,n,a,i,o){var l=R9(r,e,t,n,a,i);if(o){var s=P9(l.x,l.y,n,a,o);i==="auto"?(s.right&&(l.x=Math.max(0,r-n-t)),s.top&&(l.y=Math.max(0,e-a-t))):i==="top"||i==="bottom"?(s.left&&(l.x=o.x),s.right&&(l.x=o.x+o.width-n),i==="top"&&s.top&&(l.y=e+t),i==="bottom"&&s.bottom&&(l.y=e-a-t)):(s.top&&(l.y=o.y),s.bottom&&(l.y=o.y+o.height-a),i==="left"&&s.left&&(l.x=r+t),i==="right"&&s.right&&(l.x=r-n-t))}return l}function D9(r,e){var t=!1;return j(e,function(n){if(xa(r,n))return t=!0,!1}),t}var _9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+$n+'"><div class="'+jn+'"></div><ul class="'+Kl+'"></ul></div>',itemTpl:'<li class="'+Ff+`" data-index={index}>
          <span class="`+kf+`" style="background:{color}"></span>
          <span class="`+AE+`">{name}</span>:
          <span class="`+Pf+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Hg+'"></div>',yCrosshairTpl:'<div class="'+zg+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:$n,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:k9})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),He(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),He(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",a=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");a&&He(a,{display:n}),i&&He(i,{display:n})},e.prototype.initContainer=function(){if(r.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(D9(t,["title","showTitle"])&&this.resetTitle(),xa(t,"items")&&this.renderItems()),r.prototype.updateInner.call(this,t)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offset"),i=this.getOffset(),o=i.offsetX,l=i.offsetY,s=this.get("position"),u=this.get("region"),c=this.getContainer(),f=this.getBBox(),h=f.width,d=f.height,p;u&&(p=Yl(u));var v=L9(t,n,a,h,d,s,p);He(c,{left:Je(v.x+o),top:Je(v.y+l)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),a=this.get("container");a&&a.parentNode===n?n.replaceChild(t,a):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var a=n(this.get("title"),this.get("items"));VC(a)?t=a:t=da(a)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(jn)[0],a=t.getElementsByClassName(Kl)[0];this.set("titleDom",n),this.set("listDom",a)},e.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var a=Yl(t),i=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",a),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",a),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",a),this.resetCrosshair("y",a)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(t,n){var a=this.checkCrosshair(t),i=this.get(t);t==="x"?He(a,{left:Je(i),top:Je(n.y),height:Je(n.height)}):He(a,{top:Je(i),left:Je(n.x),width:Je(n.width)})},e.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",a=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),o=F9[i],l=this.get(n),s=this.get("parent");return l||(l=da(this.get(a)),this.applyStyle(o,l),s.appendChild(l),this.set(n,l)),l},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),a=this.get("listDom");a&&(j(t,function(i){var o=pa.toCSSGradient(i.color),l=E(E({},i),{color:o}),s=$C(n,l),u=da(s);a.appendChild(u)}),this.applyChildrenStyles(a,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&Ng(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}($g),B9={opacity:0},N9={stroke:"#C5C5C5",strokeOpacity:.85},$9={fill:"#CACED4",opacity:.85};function j9(r){return Qt(r,function(e,t){var n=t===0?"M":"L",a=e[0],i=e[1];return[n,a,i]})}function EE(r){return j9(r)}function V9(r){if(r.length<=2)return EE(r);var e=[];j(r,function(o){le(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=QG(e,!1),n=hr(r),a=n[0],i=n[1];return t.unshift(["M",a,i]),t}function H9(r,e,t,n){n===void 0&&(n=!0);var a=new Tf({values:r}),i=new Af({values:Qt(r,function(l,s){return s})}),o=Qt(r,function(l,s){return[i.scale(s)*e,t-a.scale(l)*t]});return n?V9(o):EE(o)}function z9(r,e){var t=new Tf({values:r}),n=t.max<0?t.max:Math.max(0,t.min);return e-t.scale(n)*e}function W9(r,e,t,n){var a=$l(r),i=z9(n,t);return a.push(["L",e,i]),a.push(["L",0,i]),a.push(["Z"]),a}var G9=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:B9,lineStyle:N9,areaStyle:$9})},e.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.data,l=n.smooth,s=n.isArea,u=n.backgroundStyle,c=n.lineStyle,f=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:E({x:0,y:0,width:a,height:i},u)});var h=H9(o,a,i,l);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:E({path:h},c)}),s){var d=W9(h,a,i,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:E({path:d},f)})}},e.prototype.applyOffset=function(){var t=this.cfg,n=t.x,a=t.y;this.moveElementTo(this.get("group"),{x:n,y:a})},e}(Ve),TE={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},tw=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"handler",x:0,y:0,width:10,height:24,style:TE})},e.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.style,l=o.fill,s=o.stroke,u=o.radius,c=o.opacity,f=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:a,height:i,fill:l,stroke:s,radius:u,opacity:c,cursor:f}});var h=1/3*a,d=2/3*a,p=1/4*i,v=3/4*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:v,stroke:s,cursor:f}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:d,y1:p,x2:d,y2:v,stroke:s,cursor:f}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(Ve),q9={fill:"#416180",opacity:.05},Y9={fill:"#5B8FF9",opacity:.15,cursor:"move"},Hu=10,U9={width:Hu,height:24},X9={textBaseline:"middle",fill:"#000",opacity:.45},K9="sliderchange",Z9=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(a){t.currentTarget=n;var i=a.originalEvent;i.stopPropagation(),i.preventDefault(),t.prevX=H(i,"touches.0.pageX",i.pageX),t.prevY=H(i,"touches.0.pageY",i.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var a=t.cfg.width,i=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var o=H(n,"touches.0.pageX",n.pageX),l=H(n,"touches.0.pageY",n.pageY),s=o-t.prevX,u=t.adjustOffsetRange(s/a);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=l,t.draw(),t.emit(K9,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:i,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.get("start"),i=this.get("end"),o=Zt(a,t,n),l=Zt(i,t,n);!this.get("isInit")&&(a!==o||i!==l)&&this.setValue([o,l])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var n=this.getRange();if(J(t)&&t.length===2){var a=[this.get("start"),this.get("end")];this.update({start:Zt(t[0],n.min,n.max),end:Zt(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:a,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:q9,foregroundStyle:Y9,handlerStyle:U9,textStyle:X9}})},e.prototype.update=function(t){var n=t.start,a=t.end,i=E({},t);Q(n)||(i.start=Zt(n,0,1)),Q(a)||(i.end=Zt(a,0,1)),r.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Zt(this.get("start"),0,1)),this.set("end",Zt(this.get("end"),0,1)),r.prototype.init.call(this)},e.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var n=this.cfg;n.start,n.end;var a=n.width,i=n.height,o=n.trendCfg,l=o===void 0?{}:o,s=n.minText,u=n.maxText,c=n.backgroundStyle,f=c===void 0?{}:c,h=n.foregroundStyle,d=h===void 0?{}:h,p=n.textStyle,v=p===void 0?{}:p,g=lt({},TE,this.cfg.handlerStyle);Ie(H(l,"data"))&&(this.trend=this.addComponent(t,E({component:G9,id:this.getElementId("trend"),x:0,y:0,width:a,height:i},l))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:E({x:0,y:0,width:a,height:i},f)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:E({y:i/2,textAlign:"right",text:s,silent:!1},v)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:E({y:i/2,textAlign:"left",text:u,silent:!1},v)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:E({y:0,height:i},d)});var y=H(g,"width",Hu),m=H(g,"height",24);this.minHandler=this.addComponent(t,{component:tw,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(i-m)/2,width:y,height:m,cursor:"ew-resize",style:g}),this.maxHandler=this.addComponent(t,{component:tw,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(i-m)/2,width:y,height:m,cursor:"ew-resize",style:g})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,n,a){var i=this.cfg,o=i.start,l=i.end,s=i.width,u=i.minText,c=i.maxText,f=i.handlerStyle,h=i.height,d=o*s,p=l*s;this.trend&&(this.trend.update({width:s,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",d),t.attr("width",p-d);var v=H(f,"width",Hu);n.attr("text",u),a.attr("text",c);var g=this._dodgeText([d,p],n,a),y=g[0],m=g[1];this.minHandler&&(this.minHandler.update({x:d-v/2}),this.get("updateAutoRender")||this.minHandler.render()),j(y,function(b,x){return n.attr(x,b)}),this.maxHandler&&(this.maxHandler.update({x:p-v/2}),this.get("updateAutoRender")||this.maxHandler.render()),j(m,function(b,x){return a.attr(x,b)})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":{var o=0-a,l=1-a;return Math.min(l,Math.max(o,t))}case"maxHandler":{var o=0-i,l=1-i;return Math.min(l,Math.max(o,t))}case"foreground":{var o=0-a,l=1-i;return Math.min(l,Math.max(o,t))}}},e.prototype.updateStartEnd=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":a+=t;break;case"maxHandler":i+=t;break;case"foreground":a+=t,i+=t;break}this.set("start",a),this.set("end",i)},e.prototype._dodgeText=function(t,n,a){var i,o,l=this.cfg,s=l.handlerStyle,u=l.width,c=2,f=H(s,"width",Hu),h=t[0],d=t[1],p=!1;h>d&&(i=[d,h],h=i[0],d=i[1],o=[a,n],n=o[0],a=o[1],p=!0);var v=n.getBBox(),g=a.getBBox(),y=v.width>h-c?{x:h+f/2+c,textAlign:"left"}:{x:h-f/2-c,textAlign:"right"},m=g.width>u-d-c?{x:d-f/2-c,textAlign:"right"}:{x:d+f/2+c,textAlign:"left"};return p?[m,y]:[y,m]},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e}(Ve),Q9={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},pd={default:Q9,hover:{thumbColor:"rgba(0,0,0,0.2)"}},J9=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clearEvents=ua,t.onStartEvent=function(n){return function(a){t.isMobile=n,a.originalEvent.preventDefault();var i=n?H(a.originalEvent,"touches.0.clientX"):a.clientX,o=n?H(a.originalEvent,"touches.0.clientY"):a.clientY;t.startPos=t.cfg.isHorizontal?i:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),a=[];t.isMobile?a=[Di(n,"touchmove",t.onMouseMove),Di(n,"touchend",t.onMouseUp),Di(n,"touchcancel",t.onMouseUp)]:a=[Di(n,"mousemove",t.onMouseMove),Di(n,"mouseup",t.onMouseUp),Di(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){a.forEach(function(i){i.remove()})}},t.onMouseMove=function(n){var a=t.cfg,i=a.isHorizontal,o=a.thumbOffset;n.preventDefault();var l=t.isMobile?H(n,"touches.0.clientX"):n.clientX,s=t.isMobile?H(n,"touches.0.clientY"):n.clientY,u=i?l:s,c=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+c)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var a=t.cfg,i=a.isHorizontal,o=a.x,l=a.y,s=a.thumbLen,u=t.getContainerDOM(),c=u.getBoundingClientRect(),f=n.clientX,h=n.clientY,d=i?f-c.left-o-s/2:h-c.top-l-s/2,p=t.validateRange(d);t.updateThumbOffset(p)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.getValue(),i=Zt(a,t,n);a!==i&&!this.get("isInit")&&this.setValue(i)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},e.prototype.setValue=function(t){var n=this.getRange(),a=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Zt(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:a,value:this.getValue()})},e.prototype.getValue=function(){return Zt(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return E(E({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:pd})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var n=this.cfg,a=n.trackLen,i=n.theme,o=i===void 0?{default:{}}:i,l=lt({},pd,o).default,s=l.lineCap,u=l.trackColor,c=l.size,f=H(this.cfg,"size",c),h=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:a-f/2,y2:f/2,lineWidth:f,stroke:u,lineCap:s}:{x1:f/2,y1:0+f/2,x2:f/2,y2:a-f/2,lineWidth:f,stroke:u,lineCap:s};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},e.prototype.renderThumbShape=function(t){var n=this.cfg,a=n.thumbOffset,i=n.thumbLen,o=n.theme,l=lt({},pd,o).default,s=l.size,u=l.lineCap,c=l.thumbColor,f=H(this.cfg,"size",s),h=this.get("isHorizontal")?{x1:a+f/2,y1:f/2,x2:a+i-f/2,y2:f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"}:{x1:f/2,y1:a+f/2,x2:f/2,y2:a+i-f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var a=t.findById(this.getElementId("thumb"));a.on("mouseover",this.onThumbMouseOver),a.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e.prototype.validateRange=function(t){var n=this.cfg,a=n.thumbLen,i=n.trackLen,o=t;return t+a>i?o=i-a:t+a<a&&(o=0),o},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.updateThumbOffset=function(t){var n=this.cfg,a=n.thumbOffset,i=n.isHorizontal,o=n.thumbLen,l=n.size,s=this.validateRange(t);if(s!==a){var u=this.getElementByLocalId("thumb");i?u.attr({x1:s+l/2,x2:s+o-l/2}):u.attr({y1:s+l/2,y2:s+o-l/2}),this.emitOffsetChange(s)}},e.prototype.emitOffsetChange=function(t){var n=this.cfg,a=n.thumbOffset,i=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Zt(t/(i-o),0,1)}),this.delegateEmit("valuechange",{originalValue:a,value:t})},e}(Ve),tU=x9,eU=b9,rU=T9,nU=E9,ew=I9,aU=O9,Rf=_9;function iU(r){if(ir(r))return null;var e=r[0].x,t=r[0].x,n=r[0].y,a=r[0].y;return j(r,function(i){e=e>i.x?i.x:e,t=t<i.x?i.x:t,n=n>i.y?i.y:n,a=a<i.y?i.y:a}),{minX:e,maxX:t,minY:n,maxY:a,centerX:(e+t)/2,centerY:(n+a)/2}}function rw(r){return Array.from(new Set(r)).length===1}function nw(r){return(Lr(r)+yr(r))/2}function de(r,e,t,n){return{x:r+t*Math.cos(n),y:e+t*Math.sin(n)}}function va(r,e,t,n,a,i){i===void 0&&(i=0);var o=de(r,e,t,n),l=de(r,e,t,a),s=de(r,e,i,n),u=de(r,e,i,a);if(a-n===Math.PI*2){var c=de(r,e,t,n+Math.PI),f=de(r,e,i,n+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,l.x,l.y],["M",s.x,s.y]];return i&&(h.push(["A",i,i,0,1,0,f.x,f.y]),h.push(["A",i,i,0,1,0,u.x,u.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var d=a-n<=Math.PI?0:1,p=[["M",o.x,o.y],["A",t,t,0,d,1,l.x,l.y],["L",u.x,u.y]];return i&&p.push(["A",i,i,0,d,0,s.x,s.y]),p.push(["L",o.x,o.y]),p.push(["Z"]),p}function IE(r,e,t,n,a){var i=de(r,e,t,n),o=de(r,e,t,a);if(Le(a-n,Math.PI*2)){var l=de(r,e,t,n+Math.PI);return[["M",i.x,i.y],["A",t,t,0,1,1,l.x,l.y],["A",t,t,0,1,1,i.x,i.y],["A",t,t,0,1,0,l.x,l.y],["A",t,t,0,1,0,i.x,i.y],["Z"]]}var s=a-n<=Math.PI?0:1;return[["M",i.x,i.y],["A",t,t,0,s,1,o.x,o.y]]}function Zl(r,e){var t=r.points,n=iU(t),a,i,o=e.startAngle,l=e.endAngle,s=l-o;return e.isTransposed?(a=n.maxY*s,i=n.minY*s):(a=n.maxX*s,i=n.minX*s),a+=o,i+=o,{startAngle:i,endAngle:a}}function oU(r,e){if(xt(r)&&xt(e))return[r,e];if(r=r,e=e,rw(r)||rw(e))return[nw(r),nw(e)];for(var t=-1,n=0,a=0,i,o=r.length-1,l,s=0;++t<r.length;)i=o,o=t,s+=l=r[i]*e[o]-r[o]*e[i],n+=(r[i]+r[o])*l,a+=(e[i]+e[o])*l;return s*=3,[n/s,a/s]}function ME(r,e){var t=r.attr(),n=e.attr();return j(t,function(a,i){n[i]===void 0&&(n[i]=void 0)}),n}function Yi(r,e,t){var n=Math.min(e,t),a=Math.max(e,t);return r>=n&&r<=a}function lU(r,e,t){if(gt(r))return r.padEnd(e,t);if(J(r)){var n=r.length;if(n<e)for(var a=e-n,i=0;i<a;i++)r.push(t)}return r}function tr(r,e){return typeof r=="object"&&e.forEach(function(t){delete r[t]}),r}function la(r,e,t){var n,a;e===void 0&&(e=[]),t===void 0&&(t=new Map);try{for(var i=_t(r),o=i.next();!o.done;o=i.next()){var l=o.value;t.has(l)||(e.push(l),t.set(l,!0))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return e}var Xe=function(){function r(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.x=e,this.y=t,this.height=a,this.width=n}return r.fromRange=function(e,t,n,a){return new r(e,t,n-e,a-t)},r.fromObject=function(e){return new r(e.minX,e.minY,e.width,e.height)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},r.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return j(e,function(a){n.x=Math.min(a.x,n.x),n.y=Math.min(a.y,n.y),n.width=Math.max(a.maxX,n.maxX)-n.x,n.height=Math.max(a.maxY,n.maxY)-n.y}),n},r.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return j(e,function(a){n.x=Math.max(a.x,n.x),n.y=Math.max(a.y,n.y),n.width=Math.min(a.maxX,n.maxX)-n.x,n.height=Math.min(a.maxY,n.maxY)-n.y}),n},r.prototype.cut=function(e,t){var n=e.width,a=e.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:return r.fromRange(this.minX,this.minY+a,this.maxX,this.maxY);case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-a);case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:return r.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(e){var t=ct(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return new r(this.x+o,this.y+n,this.width-o-a,this.height-n-i)},r.prototype.expand=function(e){var t=ct(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return new r(this.x-o,this.y-n,this.width+o+a,this.height+n+i)},r.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},r.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},r.prototype.size=function(){return this.width*this.height},r.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},r}();function sU(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}function As(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var e=r.convert({x:0,y:0}),t=r.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function uU(r){if(r.isPolar){var e=r.startAngle,t=r.endAngle;return t-e===Math.PI*2}return!1}function Lf(r,e){var t=r.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cU(r,e){var t=!1;if(r)if(r.type==="theta"){var n=r.start,a=r.end;t=Yi(e.x,n.x,a.x)&&Yi(e.y,n.y,a.y)}else{var i=r.invert(e);t=Yi(i.x,0,1)&&Yi(i.y,0,1)}return t}function vo(r,e){var t=r.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function Wg(r,e){e===void 0&&(e=0);var t=r.start,n=r.end,a=r.getWidth(),i=r.getHeight();if(r.isPolar){var o=r.startAngle,l=r.endAngle,s=r.getCenter(),u=r.getRadius();return{type:"path",startState:{path:va(s.x,s.y,u+e,o,o)},endState:function(f){var h=(l-o)*f+o,d=va(s.x,s.y,u+e,o,h);return{path:d}},attrs:{path:va(s.x,s.y,u+e,o,l)}}}var c;return r.isTransposed?c={height:i+e*2}:c={width:a+e*2},{type:"rect",startState:{x:t.x-e,y:n.y-e,width:r.isTransposed?a+e*2:0,height:r.isTransposed?0:i+e*2},endState:c,attrs:{x:t.x-e,y:n.y-e,width:a+e*2,height:i+e*2}}}function fU(r,e){e===void 0&&(e=0);var t=r.start,n=r.end,a=r.getWidth(),i=r.getHeight(),o=Math.min(t.x,n.x),l=Math.min(t.y,n.y);return Xe.fromRange(o-e,l-e,o+a+e,l+i+e)}var hU=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function dU(r){var e="linear";return hU.test(r)?e="timeCat":gt(r)&&(e="cat"),e}function OE(r,e,t,n){return e===void 0&&(e={}),e.type?e.type:r.type!=="identity"&&Wi.includes(t)&&["interval"].includes(n)||r.isCategory?"cat":r.type}function pU(r,e,t){var n=e||[];if(xt(r)||Q(qW(n,r))&&ir(t)){var a=cv("identity");return new a({field:r.toString(),values:[r]})}var i=Zr(n,r),o=H(t,"type",dU(i[0])),l=cv(o);return new l(E({field:r,values:i},t))}function vU(r,e){if(r.type!=="identity"&&e.type!=="identity"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);r.change(t)}}function Ql(r){return r.alias||r.field}function FE(r,e,t){var n=r.values,a=n.length,i;if(a===1)i=[.5,1];else{var o=1,l=0;uU(e)?e.isTransposed?(o=H(t,"widthRatio.multiplePie",1/1.3),l=1/a*o,i=[l/2,1-l/2]):i=[0,1-1/a]:(l=1/a/2,i=[l,1-l])}return i}function gU(r){var e=r.values.filter(function(t){return!Q(t)&&!isNaN(t)});return Math.max.apply(Math,pt(pt([],ct(e),!1),[Q(r.max)?-1/0:r.max],!1))}function yU(r){var e,t;switch(r){case it.TOP:e={x:0,y:1},t={x:1,y:1};break;case it.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case it.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case it.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function mU(r){var e,t;return r.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function cu(r,e){var t={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?t=yU(e):r.isPolar&&(t=mU(r));var n=t.start,a=t.end;return{start:r.convert(n),end:r.convert(a)}}function kE(r){var e=r.start,t=r.end;return e.x===t.x}function aw(r,e){var t=r.start,n=r.end,a=kE(r);return a?(t.y-n.y)*(e.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-e.y)>0?-1:1}function fu(r,e){var t=H(r,["components","axis"],{});return lt({},H(t,["common"],{}),lt({},H(t,[e],{})))}function iw(r,e,t){var n=H(r,["components","axis"],{});return lt({},H(n,["common","title"],{}),lt({},H(n,[e,"title"],{})),t)}function vd(r){var e=r.x,t=r.y,n=r.circleCenter,a=t.start>t.end,i=r.isTransposed?r.convert({x:a?0:1,y:0}):r.convert({x:0,y:a?0:1}),o=[i.x-n.x,i.y-n.y],l=[1,0],s=i.y>n.y?Zp(o,l):Zp(o,l)*-1,u=s+(e.end-e.start),c=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2));return{center:n,radius:c,startAngle:s,endAngle:u}}function Cc(r,e){return co(r)?r===!1?!1:{}:H(r,[e])}function ow(r,e){return H(r,"position",e)}function lw(r,e){return H(e,["title","text"],Ql(r))}var _o=function(){function r(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=lt({},this.getDefaultCfg(),t)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(e){var t=e.region,n=e.data,a=e.padding,i=a===void 0?this.cfg.padding:a,o=this.view.createView({region:t,padding:i});o.data(n||[]),e.view=o,this.beforeEachView(o,e);var l=this.cfg.eachView;return l&&l(o,e),this.afterEachView(o,e),o},r.prototype.createContainer=function(){var e=this.view.getLayer(ce.FORE);return e.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},r.prototype.clearFacetViews=function(){var e=this;j(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},r.prototype.parseSpacing=function(){var e=this.view.viewBBox,t=e.width,n=e.height,a=this.cfg.spacing;return a.map(function(i,o){return xt(i)?i/(o===0?t:n):parseFloat(i)/100})},r.prototype.getFieldValues=function(e,t){var n=[],a={};return j(e,function(i){var o=i[t];!Q(o)&&!a[o]&&(n.push(o),a[o]=!0)}),n},r.prototype.getRegion=function(e,t,n,a){var i=ct(this.parseSpacing(),2),o=i[0],l=i[1],s=(1+o)/(t===0?1:t)-o,u=(1+l)/(e===0?1:e)-l,c={x:(s+o)*n,y:(u+l)*a},f={x:c.x+s,y:c.y+u};return{start:c,end:f}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},r.prototype.processAxis=function(e,t){var n=e.getOptions(),a=n.coordinate,i=e.geometries,o=H(a,"type","rect");if(o==="rect"&&i.length){Q(n.axes)&&(n.axes={});var l=n.axes,s=ct(i[0].getXYFields(),2),u=s[0],c=s[1],f=Cc(l,u),h=Cc(l,c);f!==!1&&(n.axes[u]=this.getXAxisOption(u,l,f,t)),h!==!1&&(n.axes[c]=this.getYAxisOption(c,l,h,t))}},r.prototype.getFacetDataFilter=function(e){return function(t){return pg(e,function(n){var a=n.field,i=n.value;return!Q(i)&&a?t[a]===i:!0})}},r}(),PE={},xU=function(r){return PE[Ro(r)]},Bo=function(r,e){PE[Ro(r)]=e},Xt=function(){function r(e,t){this.context=e,this.cfg=t,e.addAction(this)}return r.prototype.applyCfg=function(e){zt(this,e)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),bU=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},e}(Xt),Gg={};function wU(r,e){var t=Gg[r],n=null;if(t){var a=t.ActionClass,i=t.cfg;n=new a(e,i),n.name=r,n.init()}return n}function Df(r){var e=Gg[r];return H(e,"ActionClass")}function ht(r,e,t){Gg[r]={ActionClass:e,cfg:t}}function SU(r,e){var t=new bU(e);return t.callback=r,t.name="callback",t}function CU(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var n=1,a=r.length;n<a;n+=1){var i=r[n];t.push(["L",i.x,i.y])}e&&t.push(["Z"])}return t}function gv(r,e){for(var t=[r[0]],n=1,a=r.length;n<a;n=n+2){var i=e.convert({x:r[n],y:r[n+1]});t.push(i.x,i.y)}return t}function RE(r,e){var t=e.isTransposed,n=r[1],a=r[6],i=r[7],o=e.convert({x:a,y:i}),l=t?0:1;return["A",n,n,0,0,l,o.x,o.y]}function AU(r,e,t){var n=t.isTransposed,a=t.startAngle,i=t.endAngle,o=r[0].toLowerCase()==="a"?{x:r[6],y:r[7]}:{x:r[1],y:r[2]},l={x:e[1],y:e[2]},s=[],u=n?"y":"x",c=Math.abs(l[u]-o[u])*(i-a),f=l[u]>=o[u]?1:0,h=c>Math.PI?1:0,d=t.convert(l),p=Lf(t,d);if(p>=.5)if(c===Math.PI*2){var v={x:(l.x+o.x)/2,y:(l.y+o.y)/2},g=t.convert(v);s.push(["A",p,p,0,h,f,g.x,g.y]),s.push(["A",p,p,0,h,f,d.x,d.y])}else s.push(["A",p,p,0,h,f,d.x,d.y]);return s}function EU(r){j(r,function(e,t){var n=e;if(n[0].toLowerCase()==="a"){var a=r[t-1],i=r[t+1];i&&i[0].toLowerCase()==="a"?a&&a[0].toLowerCase()==="l"&&(a[0]="M"):a&&a[0].toLowerCase()==="a"&&i&&i[0].toLowerCase()==="l"&&(i[0]="M")}})}var TU=function(r,e,t,n){var a,i=[],o=!!n,l,s,u,c,f,h,d;if(o){a=ct(n,2),u=a[0],c=a[1];for(var p=0,v=r.length;p<v;p++){var g=r[p];u=Pe([0,0],u,g),c=Re([0,0],c,g)}}for(var p=0,y=r.length;p<y;p++){var g=r[p];if(p===0&&!t)d=g;else if(p===y-1&&!t)h=g,i.push(d),i.push(h);else{l=r[t?p?p-1:y-1:p-1],s=r[t?(p+1)%y:p+1];var m=[0,0];m=ni(m,s,l),m=Ue(m,m,e);var b=fo(g,l),x=fo(g,s),w=b+x;w!==0&&(b/=w,x/=w);var S=Ue([0,0],m,-b),C=Ue([0,0],m,x);h=hn([0,0],g,S),f=hn([0,0],g,C),f=Pe([0,0],f,Re([0,0],s,g)),f=Re([0,0],f,Pe([0,0],s,g)),S=ni([0,0],f,g),S=Ue([0,0],S,-b/x),h=hn([0,0],g,S),h=Pe([0,0],h,Re([0,0],l,g)),h=Re([0,0],h,Pe([0,0],l,g)),C=ni([0,0],g,h),C=Ue([0,0],C,x/b),f=hn([0,0],g,C),o&&(h=Re([0,0],h,u),h=Pe([0,0],h,c),f=Re([0,0],f,u),f=Pe([0,0],f,c)),i.push(d),i.push(h),d=f}}return t&&i.push(i.shift()),i};function LE(r,e,t){for(var n=!!e,a=[],i=0,o=r.length;i<o;i+=2)a.push([r[i],r[i+1]]);for(var l=TU(a,.4,n,t),s=a.length,u=[],c,f,h,i=0;i<s-1;i++)c=l[i*2],f=l[i*2+1],h=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=l[s],f=l[s+1],h=a[0],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),u}function Es(r,e){return CU(r,e)}function Ac(r,e,t){var n=[],a=r[0],i=null;if(r.length<=2)return Es(r,e);for(var o=0,l=r.length;o<l;o++){var s=r[o];(!i||!(i.x===s.x&&i.y===s.y))&&(n.push(s.x),n.push(s.y),i=s)}var u=t||[[0,0],[1,1]],c=LE(n,e,u);return c.unshift(["M",a.x,a.y]),c}function IU(r,e){var t=[];return j(e,function(n){var a=n[0];switch(a.toLowerCase()){case"m":case"l":case"c":t.push(gv(n,r));break;case"a":t.push(RE(n,r));break;case"z":default:t.push(n);break}}),t}function MU(r,e){var t=[],n,a,i,o;return j(e,function(l,s){var u=l[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(gv(l,r));break;case"l":n=e[s-1],a=l,i=r.isTransposed,o=i?n[n.length-2]===a[1]:n[n.length-1]===a[2],o?t=t.concat(AU(n,a,r)):t.push(gv(l,r));break;case"a":t.push(RE(l,r));break;case"z":default:t.push(l);break}}),EU(t),t}function DE(r,e){var t=r.event,n=t.target;return BE(n,e)}function _E(r,e){var t=r.getCanvasBBox(),n=t.width,a=t.height;return n>0&&a>0&&(n>=e||a>=e)}function BE(r,e){var t=r.getCanvasBBox();return _E(r,e)?t:null}function NE(r,e){var t=r.event.maskShapes;return t.map(function(n){return BE(n,e)}).filter(function(n){return!!n})}function OU(r,e){var t=r.event,n=t.target;return $E(n,e)}function $E(r,e){return _E(r,e)?r.attr("path"):null}function FU(r,e){var t=r.event.maskShapes;return t.map(function(n){return $E(n,e)})}function Sa(r){var e=r.event,t,n=e.target;return n&&(t=n.get("element")),t}function yi(r){var e=r.event,t=e.target,n;return t&&(n=t.get("delegateObject")),n}function jE(r){var e=r.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Jl(r){return r&&r.component&&r.component.isList()}function VE(r){return r&&r.component&&r.component.isSlider()}function ts(r){var e=r.event,t=e.target;return t&&(t==null?void 0:t.get("name"))==="mask"||_f(r)}function _f(r){var e;return((e=r.event.target)===null||e===void 0?void 0:e.get("name"))==="multi-mask"}function qg(r,e){var t=r.event.target;if(_f(r))return kU(r,e);if(t.get("type")==="path"){var n=OU(r,e);return n?GE(r.view,n):void 0}var a=DE(r,e);return a?Bf(r.view,a):null}function kU(r,e){var t=r.event.target;if(t.get("type")==="path"){var n=FU(r,e);return n.length>0?n.flatMap(function(i){return GE(r.view,i)}):null}var a=NE(r,e);return a.length>0?a.flatMap(function(i){return Bf(r.view,i)}):null}function HE(r,e,t){if(_f(r))return PU(r,e,t);var n=DE(r,t);return n?zE(n,r,e):null}function zE(r,e,t){var n=e.view,a=yv(n,t,{x:r.x,y:r.y}),i=yv(n,t,{x:r.maxX,y:r.maxY}),o={minX:a.x,minY:a.y,maxX:i.x,maxY:i.y};return Bf(t,o)}function PU(r,e,t){var n=NE(r,t);return n.length>0?n.flatMap(function(a){return zE(a,r,e)}):null}function _e(r){var e=r.geometries,t=[];return j(e,function(n){var a=n.elements;t=t.concat(a)}),r.views&&r.views.length&&j(r.views,function(n){t=t.concat(_e(n))}),t}function RU(r,e,t){var n=_e(r);return n.filter(function(a){return Qr(a,e)===t})}function WE(r,e){var t=r.geometries,n=[];return j(t,function(a){var i=a.getElementsBy(function(o){return o.hasState(e)});n=n.concat(i)}),n}function Qr(r,e){var t=r.getModel(),n=t.data,a;return J(n)?a=n[0][e]:a=n[e],a}function LU(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function Bf(r,e){var t=_e(r),n=[];return j(t,function(a){var i=a.shape,o=i.getCanvasBBox();LU(e,o)&&n.push(a)}),n}function sw(r){var e=[];return j(r,function(t){var n=t[0];if(n!=="A")for(var a=1;a<t.length;a=a+2)e.push([t[a],t[a+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}}),e}function GE(r,e){var t=_e(r),n=sw(e),a=t.filter(function(i){var o=i.shape,l;if(o.get("type")==="path")l=sw(o.attr("path"));else{var s=o.getCanvasBBox();l=sU(s)}return sq(n,l)});return a}function qE(r){return r.getComponents().map(function(e){return e.component})}function Yg(r,e){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}function DU(r,e){if(r.length<=2)return Es(r,!1);var t=r[0],n=[];j(r,function(i){n.push(i.x),n.push(i.y)});var a=LE(n,e,null);return a.unshift(["M",t.x,t.y]),a}function uw(r,e){return r.x<=e.x&&r.maxX>=e.x&&r.y<=e.y&&r.maxY>e.y}function yn(r){var e=r.parent,t=null;return e&&(t=e.views.filter(function(n){return n!==r})),t}function _U(r,e){var t=r.getCoordinate();return t.invert(e)}function yv(r,e,t){var n=_U(r,t);return e.getCoordinate().convert(n)}function YE(r,e,t,n){var a=!1;return j(r,function(i){if(i[t]===e[t]&&i[n]===e[n])return a=!0,!1}),a}function go(r,e){var t=r.getScaleByField(e);return!t&&r.views&&j(r.views,function(n){if(t=go(n,e),t)return!1}),t}var BU=function(){function r(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return r.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},r.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},r.prototype.addAction=function(e){this.actions.push(e)},r.prototype.removeAction=function(e){var t=this.actions,n=this.actions.indexOf(e);n>=0&&t.splice(n,1)},r.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(e.clientX,e.clientY);return n}else return{x:e.x,y:e.y};return null},r.prototype.getCurrentShape=function(){return H(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},r.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},r.prototype.isInComponent=function(e){var t=qE(this.view),n=this.getCurrentPoint();return n?!!t.find(function(a){var i=a.getBBox();return e?a.get("name")===e&&uw(i,n):uw(i,n)}):!1},r.prototype.destroy=function(){j(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},r}(),NU=function(){function r(e,t){this.view=e,this.cfg=t}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}();function cw(r,e,t){var n=r.split(":"),a=n[0],i=e.getAction(a)||wU(a,e);if(!i)throw new Error("There is no action named ".concat(a));var o=n[1];return{action:i,methodName:o,arg:t}}function fw(r){var e=r.action,t=r.methodName,n=r.arg;if(e[t])e[t](n);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(t))}var cr={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},$U=function(r){U(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.callbackCaches={},a.emitCaches={},a.steps=n,a}return e.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;j(this.steps,function(n,a){j(n,function(i){var o=t.getActionCallback(a,i);o&&t.bindEvent(i.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;j(this.steps,function(n,a){j(n,function(i){var o=t.getActionCallback(a,i);o&&t.offEvent(i.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,n=new BU(t);this.context=n;var a=this.steps;j(a,function(i){j(i,function(o){if(ut(o.action))o.actionObject={action:SU(o.action,n),methodName:"execute"};else if(gt(o.action))o.actionObject=cw(o.action,n,o.arg);else if(J(o.action)){var l=o.action,s=J(o.arg)?o.arg:[o.arg];o.actionObject=[],j(l,function(u,c){o.actionObject.push(cw(u,n,s[c]))})}})})},e.prototype.isAllowStep=function(t){var n=this.currentStepName,a=this.steps;if(n===t||t===cr.SHOW_ENABLE)return!0;if(t===cr.PROCESSING)return n===cr.START;if(t===cr.START)return n!==cr.PROCESSING;if(t===cr.END)return n===cr.PROCESSING||n===cr.START;if(t===cr.ROLLBACK){if(a[cr.END])return n===cr.END;if(n===cr.START)return!0}return!1},e.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var a=this.getKey(t,n);return n.once&&this.emitCaches[a]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,n){t!==cr.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var a=this.getKey(t,n);this.emitCaches[a]=!0},e.prototype.getKey=function(t,n){return t+n.trigger+n.action},e.prototype.getActionCallback=function(t,n){var a=this,i=this.context,o=this.callbackCaches,l=n.actionObject;if(n.action&&l){var s=this.getKey(t,n);if(!o[s]){var u=function(c){i.event=c,a.isAllowExecute(t,n)?(J(l)?j(l,function(f){i.event=c,fw(f)}):(i.event=c,fw(l)),a.afterExecute(t,n),n.callback&&(i.event=c,n.callback(i))):i.event=null};n.debounce?o[s]=HC(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[s]=mg(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[s]=u}return o[s]}return null},e.prototype.bindEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.addEventListener(a[1],n):a[0]==="document"?document.addEventListener(a[1],n):this.view.on(t,n)},e.prototype.offEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.removeEventListener(a[1],n):a[0]==="document"?document.removeEventListener(a[1],n):this.view.off(t,n)},e}(NU),UE={};function jU(r){return UE[Ro(r)]}function bt(r,e){UE[Ro(r)]=e}function VU(r,e,t){var n=jU(r);if(!n)return null;if(vn(n)){var a=zt(Ye(n),t);return new $U(e,a)}else{var i=n;return new i(e,t)}}function HU(r){return{title:{autoRotate:!0,position:"center",spacing:r.axisTitleSpacing,style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily},iconStyle:{fill:r.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:r.axisLabelOffset,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0}}function zU(r){return{title:null,marker:{symbol:"circle",spacing:r.legendMarkerSpacing,style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:r.legendPageNavigatorMarkerSize,inactiveFill:r.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:r.legendPageNavigatorMarkerInactiveFillOpacity,fill:r.legendPageNavigatorMarkerFillColor,opacity:r.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:r.legendPageNavigatorTextFillColor,fontSize:r.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:r.legendItemSpacing,itemMarginBottom:r.legendItemMarginBottom,padding:r.legendPadding}}function XE(r){var e,t={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},n=HU(r),a=zU(r);return{background:r.backgroundColor,defaultColor:r.brandColor,subColor:r.subColor,semanticRed:r.paletteSemanticRed,semanticGreen:r.paletteSemanticGreen,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,sequenceColors:r.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(i){var o=i.geometry.coordinate;if(o.isPolar&&o.isTransposed){var l=Zl(i.getModel(),o),s=l.startAngle,u=l.endAngle,c=(s+u)/2,f=7.5,h=f*Math.cos(c),d=f*Math.sin(c);return{matrix:be(null,[["t",h,d]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:E(E({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:E(E({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:E(E({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:E(E({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:E(E({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:E(E({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:E(E({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:E(E({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:lt({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:lt({},n.grid,{line:{type:"circle"}})}},legend:{common:a,right:{layout:"vertical",padding:r.legendVerticalPadding},left:{layout:"vertical",padding:r.legendVerticalPadding},top:{layout:"horizontal",padding:r.legendHorizontalPadding},bottom:{layout:"horizontal",padding:r.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0,padding:a.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat($n)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:"".concat(r.tooltipContainerBorderRadius,"px"),color:r.tooltipTextFillColor,fontSize:"".concat(r.tooltipTextFontSize,"px"),fontFamily:r.fontFamily,lineHeight:"".concat(r.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(jn)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Kl)]={margin:0,listStyleType:"none",padding:0},e["".concat(Ff)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(kf)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(Pf)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:r.cSliderBackgroundFillColor,opacity:r.cSliderBackgroundFillOpacity},foregroundStyle:{fill:r.cSliderForegroundFillColor,opacity:r.cSliderForegroundFillOpacity},handlerStyle:{width:r.cSliderHandlerWidth,height:r.cSliderHandlerHeight,fill:r.cSliderHandlerFillColor,opacity:r.cSliderHandlerFillOpacity,stroke:r.cSliderHandlerBorderColor,lineWidth:r.cSliderHandlerBorder,radius:r.cSliderHandlerBorderRadius,highLightFill:r.cSliderHandlerHighlightFillColor},textStyle:{fill:r.cSliderTextFillColor,opacity:r.cSliderTextFillOpacity,fontSize:r.cSliderTextFontSize,lineHeight:r.cSliderTextLineHeight,fontWeight:r.cSliderTextFontWeight,stroke:r.cSliderTextBorderColor,lineWidth:r.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:r.scrollbarTrackFillColor,thumbColor:r.scrollbarThumbFillColor}},hover:{style:{thumbColor:r.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},fillColorDark:r.labelFillColorDark,fillColorLight:r.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:r.overflowLabelFillColor,fontSize:r.overflowLabelFontSize,fontFamily:r.fontFamily,stroke:r.overflowLabelBorderColor,lineWidth:r.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var Nt={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},_i={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},WU=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],GU=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],qU=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],KE=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?WU:e,n=r.paletteQualitative20,a=n===void 0?GU:n,i=r.brandColor,o=i===void 0?t[0]:i,l={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:qU,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Nt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Nt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:_i[85],axisTickLineBorderColor:Nt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Nt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Nt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Nt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Nt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Nt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Nt[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Nt[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Nt[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Nt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Nt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Nt[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Nt[25],annotationArcBorderColor:Nt[15],annotationArcBorder:1,annotationLineBorderColor:Nt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Nt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Nt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Nt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Nt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Nt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:_i[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Nt[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:_i[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Nt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:_i[100],pointBorderOpacity:1,pointActiveBorderColor:Nt[100],pointSelectedBorder:2,pointSelectedBorderColor:Nt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:_i[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Nt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Nt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Nt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Nt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Nt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Nt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:_i[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Nt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Nt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return E(E({},l),r)};KE();function Ec(r){var e=r.styleSheet,t=e===void 0?{}:e,n=Ht(r,["styleSheet"]),a=KE(t);return lt({},XE(a),n)}var YU=Ec({}),mv={default:YU};function Il(r){return H(mv,Ro(r),mv.default)}function UU(r,e){mv[Ro(r)]=Ec(e)}function hw(r,e,t){var n=t.translate(r),a=t.translate(e);return Le(n,a)}function XU(r,e){var t=e.coordinate,n=e.getXScale(),a=n.range,i=a[a.length-1],o=a[0],l=t.invert(r),s=l.x;return t.isPolar&&s>(1+i)/2&&(s=o),n.translate(n.invert(s))}function dw(r,e,t){var n=t.coordinate,a=t.getYScale(),i=a.field,o=n.invert(e),l=a.invert(o.y),s=Yr(r,function(u){var c=u[qt];return c[i][0]<=l&&c[i][1]>=l});return s||r[r.length-1]}var KU=Lo(function(r){if(r.isCategory)return 1;for(var e=r.values,t=e.length,n=r.translate(e[0]),a=n,i=0;i<t;i++){var o=e[i],l=r.translate(o);l<n&&(n=l),l>a&&(a=l)}return(a-n)/(t-1)});function ZU(r,e,t){var n=e.getAttribute("position"),a=n.getFields(),i=e.scales,o=ut(t)||!t?a[0]:t,l=i[o],s=l?l.getText(r[o]):r[o]||o;return ut(t)?t(s,r):s}function QU(r){var e=lf(r.attributes);return Be(e,function(t){return qa(Wi,t.type)})}function ZE(r){var e,t,n=QU(r),a;try{for(var i=_t(n),o=i.next();!o.done;o=i.next()){var l=o.value,s=l.getScale(l.type);if(s&&s.isLinear){var u=H(r.scaleDefs,s.field),c=OE(s,u,l.type,r.type);if(c!=="cat"){a=s;break}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var f=r.getXScale(),h=r.getYScale();return a||h||f}function JU(r,e){var t=e.field,n=r[t];if(J(n)){var a=n.map(function(i){return e.getText(i)});return a.join("-")}return e.getText(n)}function tX(r,e){var t,n=e.getGroupScales();if(n.length&&(t=n[0]),t){var a=t.field;return t.getText(r[a])}var i=ZE(e);return Ql(i)}function QE(r,e,t){if(e.length===0)return null;var n=t.type,a=t.getXScale(),i=t.getYScale(),o=a.field,l=i.field,s=null;if(n==="heatmap"||n==="point"){for(var u=t.coordinate,c=u.invert(r),f=a.invert(c.x),h=i.invert(c.y),d=1/0,p=0;p<e.length;p++){var v=e[p],g=v[qt],y=Math.pow(g[o]-f,2)+Math.pow(g[l]-h,2);y<d&&(d=y,s=v)}return s}var m=e[0],b=e[e.length-1],x=XU(r,t),w=m[qt][o],S=m[qt][l],C=b[qt][o],T=i.isLinear&&J(S);if(J(w)){for(var p=0;p<e.length;p++){var F=e[p],g=F[qt];if(a.translate(g[o][0])<=x&&a.translate(g[o][1])>=x)if(T)J(s)||(s=[]),s.push(F);else{s=F;break}}J(s)&&(s=dw(s,r,t))}else{var I=void 0;if(!a.isLinear&&a.type!=="timeCat"){for(var p=0;p<e.length;p++){var F=e[p],g=F[qt];if(hw(g[o],x,a))if(T)J(s)||(s=[]),s.push(F);else{s=F;break}else a.translate(g[o])<=x&&(b=F,I=e[p+1])}J(s)&&(s=dw(s,r,t))}else{if((x>a.translate(C)||x<a.translate(w))&&(x>a.max||x<a.min))return null;for(var M=0,O=e.length-1,k=void 0;M<=O;){k=Math.floor((M+O)/2);var L=e[k][qt][o];if(hw(L,x,a))return e[k];a.translate(L)<=a.translate(x)?(M=k+1,b=e[k],I=e[k+1]):(O===0&&(b=e[0]),O=k-1)}}b&&I&&Math.abs(a.translate(b[qt][o])-x)>Math.abs(a.translate(I[qt][o])-x)&&(b=I)}var N=KU(t.getXScale());return!s&&Math.abs(a.translate(b[qt][o])-x)<=N/2&&(s=b),s}function Ug(r,e,t,n){var a,i;t===void 0&&(t=""),n===void 0&&(n=!1);var o=r[qt],l=ZU(o,e,t),s=e.tooltipOption,u=e.theme.defaultColor,c=[],f,h;function d(F,I){if(n||!Q(I)&&I!==""){var M={title:l,data:o,mappingData:r,name:F,value:I,color:r.color||u,marker:!0};c.push(M)}}if(jt(s)){var p=s.fields,v=s.callback;if(v){var g=p.map(function(F){return r[qt][F]}),y=v.apply(void 0,pt([],ct(g),!1)),m=E({data:r[qt],mappingData:r,title:l,color:r.color||u,marker:!0},y);c.push(m)}else{var b=e.scales;try{for(var x=_t(p),w=x.next();!w.done;w=x.next()){var S=w.value;if(!Q(o[S])){var C=b[S];f=Ql(C),h=C.getText(o[S]),d(f,h)}}}catch(F){a={error:F}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}}}else{var T=ZE(e);h=JU(o,T),f=tX(o,e),d(f,h)}return c}function pw(r,e,t,n){var a,i,o=n.showNil,l=[],s=r.dataArray;if(!ir(s)){r.sort(s);try{for(var u=_t(s),c=u.next();!c.done;c=u.next()){var f=c.value,h=QE(e,f,r);if(h){var d=r.getElementId(h),p=r.elementsMap[d];if(r.type==="heatmap"||p.visible){var v=Ug(h,r,t,o);v.length&&l.push(v)}}}}catch(g){a={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}return l}function vw(r,e,t,n){var a=n.showNil,i=[],o=r.container,l=o.getShape(e.x,e.y);if(l&&l.get("visible")&&l.get("origin")){var s=l.get("origin").mappingData,u=Ug(s,r,t,a);u.length&&i.push(u)}return i}function xv(r,e,t){var n,a,i=[],o=r.geometries,l=t.shared,s=t.title,u=t.reversed;try{for(var c=_t(o),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.visible&&h.tooltipOption!==!1){var d=h.type,p=void 0;["point","edge","polygon"].includes(d)?p=vw(h,e,s,t):["area","line","path","heatmap"].includes(d)||l!==!1?p=pw(h,e,s,t):p=vw(h,e,s,t),p.length&&(u&&p.reverse(),i.push(p))}}}catch(v){n={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i}function eX(r,e,t){var n,a,i=xv(r,e,t);try{for(var o=_t(r.views),l=o.next();!l.done;l=o.next()){var s=l.value;i=i.concat(xv(s,e,t))}}catch(u){n={error:u}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i}function rX(r){return!xt(r)&&!J(r)}function Xg(r){r===void 0&&(r=0);var e=J(r)?r:[r];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=pt(pt([],ct(e),!1),ct(e),!1);break;case 3:e=pt(pt([],ct(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var Kg={};function Ai(r,e){Kg[r]=e}function nX(){return Object.keys(Kg)}function aX(r){return Kg[r]}var iX=function(){function r(e){this.option=this.wrapperOption(e)}return r.prototype.update=function(e){return this.option=this.wrapperOption(e),this},r.prototype.hasAction=function(e){var t=this.option.actions;return of(t,function(n){return n[0]===e})},r.prototype.create=function(e,t){var n=this.option,a=n.type,i=n.cfg,o=a==="theta",l=E({start:e,end:t},i),s=OY(o?"polar":a);return this.coordinate=new s(l),this.coordinate.type=a,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},r.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},r.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(e){return E({type:"rect",actions:[],cfg:{}},e)},r.prototype.execActions=function(e){var t=this,n=this.option.actions;j(n,function(a){var i,o=ct(a),l=o[0],s=o.slice(1),u=Q(e)?!0:e.includes(l);u&&(i=t.coordinate)[l].apply(i,pt([],ct(s),!1))})},r}(),te=function(){function r(e,t,n){this.view=e,this.gEvent=t,this.data=n,this.type=t.type}return r.fromData=function(e,t,n){return new r(e,new bs(t,{}),n)},Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}();function oX(r){var e=r.getController("axis"),t=r.getController("legend"),n=r.getController("annotation"),a=r.getController("slider"),i=r.getController("scrollbar");[e,a,i,t,n].forEach(function(o){o&&o.layout()})}var lX=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(e,t,n,a){var i=n,o=this.getScaleMeta(a);if(t.length===0&&o){var l=o.scale,s={type:l.type};l.isCategory&&(s.values=l.values),i=lt(s,o.scaleDef,n)}var u=pU(e,t,i);return this.cacheScale(u,n,a),u},r.prototype.sync=function(e,t){var n=this;this.syncScales.forEach(function(a,i){var o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,s=[];j(a,function(u){var c=n.getScale(u);l=xt(c.max)?Math.max(l,c.max):l,o=xt(c.min)?Math.min(o,c.min):o,j(c.values,function(f){s.includes(f)||s.push(f)})}),j(a,function(u){var c=n.getScale(u);if(c.isContinuous)c.change({min:o,max:l,values:s});else if(c.isCategory){var f=c.range,h=n.getScaleMeta(u);s&&!H(h,["scaleDef","range"])&&(f=FE(lt({},c,{values:s}),e,t)),c.change({values:s,range:f})}})})},r.prototype.cacheScale=function(e,t,n){var a=this.getScaleMeta(n);a&&a.scale.type===e.type?(vU(a.scale,e),a.scaleDef=t):(a={key:n,scale:e,scaleDef:t},this.scales.set(n,a));var i=this.getSyncKey(a);if(a.syncKey=i,this.removeFromSyncScales(n),i){var o=this.syncScales.get(i);o||(o=[],this.syncScales.set(i,o)),o.push(n)}},r.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var n=we(e.split("-")),a=this.syncScales.get(n);a&&a.length&&(t=this.getScaleMeta(a[0]))}return t&&t.scale},r.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var n=t.syncKey,a=this.syncScales.get(n);if(a&&a.length){var i=a.indexOf(e);i!==-1&&a.splice(i,1)}}this.scales.delete(e)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(n,a){var i=n.indexOf(e);if(i!==-1)return n.splice(i,1),n.length===0&&t.syncScales.delete(a),!1})},r.prototype.getSyncKey=function(e){var t=e.scale,n=e.scaleDef,a=t.field,i=H(n,["sync"]);return i===!0?a:i===!1?void 0:i},r.prototype.getScaleMeta=function(e){return this.scales.get(e)},r}(),zu=function(){function r(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.top=e,this.right=t,this.bottom=n,this.left=a}return r.instance=function(e,t,n,a){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),new r(e,t,n,a)},r.prototype.max=function(e){var t=ct(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,a),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,o),this},r.prototype.shrink=function(e){var t=ct(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top+=n,this.right+=a,this.bottom+=i,this.left+=o,this},r.prototype.inc=function(e,t){var n=e.width,a=e.height;switch(t){case it.TOP:case it.TOP_LEFT:case it.TOP_RIGHT:this.top+=a;break;case it.RIGHT:case it.RIGHT_TOP:case it.RIGHT_BOTTOM:this.right+=n;break;case it.BOTTOM:case it.BOTTOM_LEFT:case it.BOTTOM_RIGHT:this.bottom+=a;break;case it.LEFT:case it.LEFT_TOP:case it.LEFT_BOTTOM:this.left+=n;break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r.prototype.clone=function(){return new(r.bind.apply(r,pt([void 0],ct(this.getPadding()),!1)))},r}();function sX(r){var e=r.padding;if(!rX(e))return new(zu.bind.apply(zu,pt([void 0],ct(Xg(e)),!1)));var t=r.viewBBox,n=new zu,a=[],i=[],o=[];return j(r.getComponents(),function(l){var s=l.type;s===Te.AXIS?a.push(l):[Te.LEGEND,Te.SLIDER,Te.SCROLLBAR].includes(s)?i.push(l):s!==Te.GRID&&s!==Te.TOOLTIP&&o.push(l)}),j(a,function(l){var s=l.component,u=s.getLayoutBBox(),c=new Xe(u.x,u.y,u.width,u.height),f=c.exceed(t);n.max(f)}),j(i,function(l){var s=l.component,u=l.direction,c=s.getLayoutBBox(),f=s.get("padding"),h=new Xe(c.x,c.y,c.width,c.height).expand(f);n.inc(h,u)}),j(o,function(l){var s=l.component,u=l.direction,c=s.getLayoutBBox(),f=new Xe(c.x,c.y,c.width,c.height);n.inc(f,u)}),n}function uX(r,e,t){var n=t.instance();e.forEach(function(a){a.autoPadding=n.max(a.autoPadding.getPadding())})}var JE=function(r){U(e,r);function e(t){var n=r.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=nX(),n.scalePool=new lX,n.layoutFunc=oX,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(b){var x=b.name;if(!x.includes(":")){var w=n.createViewEvent(b);n.doPlotEvent(w),n.emit(x,w)}},n.onDelegateEvents=function(b){var x=b.name;if(x.includes(":")){var w=n.createViewEvent(b);n.emit(x,w)}};var a=t.id,i=a===void 0?Fa("view"):a,o=t.parent,l=t.canvas,s=t.backgroundGroup,u=t.middleGroup,c=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,d=t.padding,p=t.appendPadding,v=t.theme,g=t.options,y=t.limitInPlot,m=t.syncViewPadding;return n.parent=o,n.canvas=l,n.backgroundGroup=s,n.middleGroup=u,n.foregroundGroup=c,n.region=h,n.padding=d,n.appendPadding=p,n.options=E(E({},n.options),g),n.limitInPlot=y,n.id=i,n.syncViewPadding=m,n.themeObject=jt(v)?lt({},Il("default"),Ec(v)):Il(v),n.init(),n}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(St.BEFORE_RENDER,te.fromData(this,St.BEFORE_RENDER,n)),this.paint(t),this.emit(St.AFTER_RENDER,te.fromData(this,St.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(St.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,a=0;a<n.length;a++)n[a].clear(),n[a].container.remove(!0),n[a].labelsContainer.remove(!0);this.geometries=[];for(var i=this.controllers,a=0;a<i.length;a++)i[a].name==="annotation"?i[a].clear(!0):i[a].clear();this.createdScaleKeys.forEach(function(l,s){t.getRootView().scalePool.deleteScale(s)}),this.createdScaleKeys.clear();for(var o=this.views,a=0;a<o.length;a++)o[a].clear();this.emit(St.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(St.BEFORE_DESTROY);var t=this.interactions;j(t,function(l){l&&l.destroy()}),this.clear();for(var n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var n=this.geometries,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}for(var l=this.controllers,a=0,i=l.length;a<i;a++){var s=l[a];s.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return ye(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,n){return ut(n)?(ye(this.options,["filters",t],n),this):(!n&&H(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,n){return co(t)?ye(this.options,["axes"],t):ye(this.options,["axes",t],n),this},e.prototype.legend=function(t,n){return co(t)?ye(this.options,["legends"],t):gt(t)?(ye(this.options,["legends",t],n),vn(n)&&(n!=null&&n.selected)&&ye(this.options,["filters",t],function(a){var i;return(i=n==null?void 0:n.selected[a])!==null&&i!==void 0?i:!0})):ye(this.options,["legends"],t),this},e.prototype.scale=function(t,n){var a=this;return gt(t)?ye(this.options,["scales",t],n):jt(t)&&j(t,function(i,o){ye(a.options,["scales",o],i)}),this},e.prototype.tooltip=function(t){return ye(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,n){return gt(t)?ye(this.options,"coordinate",{type:t,cfg:n}):ye(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},e.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var a=xU(t);if(!a)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new a(this,E(E({},n),{type:t})),this},e.prototype.animate=function(t){return ye(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),zt(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return ye(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=jt(t)?lt({},this.themeObject,Ec(t)):Il(t),this},e.prototype.interaction=function(t,n){var a=this.interactions[t];a&&a.destroy();var i=VU(t,this,n);return i&&(i.init(),this.interactions[t]=i),this},e.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(St.BEFORE_CHANGE_DATA,te.fromData(this,St.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.changeData(t)}this.emit(St.AFTER_CHANGE_DATA,te.fromData(this,St.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:Ye(this.options.scales),axes:Ye(this.options.axes),coordinate:Ye(this.coordinateController.getOption()),tooltip:Ye(this.options.tooltip),legends:Ye(this.options.legends),animate:this.options.animate,visible:this.visible},a=new e(E(E({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Qi.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Qi.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Qi.FORE}),theme:this.themeObject,padding:this.padding},t),{options:E(E({},n),H(t,"options",{}))}));return this.views.push(a),a},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var n=XW(this.views,function(a){return a===t})[0];return n&&n.destroy(),n},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(a){var i=a.getYScale(),o=i.field;t[o]||(t[o]=!0,n.push(i))}),n},e.prototype.getScalesByDim=function(t){for(var n=this.geometries,a={},i=0,o=n.length;i<o;i++){var l=n[i],s=t==="x"?l.getXScale():l.getYScale();s&&!a[s.field]&&(a[s.field]=s)}return a},e.prototype.getScale=function(t,n){var a=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(a)},e.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return ze(this.geometries,function(t,n){return t.concat(n.getElements())},[])},e.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},e.prototype.getLayer=function(t){return t===ce.BG?this.backgroundGroup:t===ce.MID?this.middleGroup:t===ce.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return cU(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return gr(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return la(gr(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var n=this.getCoordinate(),a=this.getScalesByDim("x"),i=this.getScalesByDim("y"),o,l;if(j(t,function(s,u){a[u]&&(o=a[u].scale(s)),i[u]&&(l=i[u].scale(s))}),!Q(o)&&!Q(l))return n.convert({x:o,y:l})},e.prototype.getController=function(t){return Yr(this.controllers,function(n){return n.name===t})},e.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var n=this.geometries,a=[],i=0,o=n.length;i<o;i++){var l=n[i],s=l.dataArray;l.sort(s);for(var u=void 0,c=0,f=s.length;c<f;c++){var h=s[c];u=QE(t,h,l),u&&a.push(u)}}for(var d=this.views,i=0,o=d.length;i<o;i++){var p=d[i],v=p.getSnapRecords(t);a=a.concat(v)}return a},e.prototype.getComponents=function(){for(var t=[],n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var n=this.options.filters;return Ie(n)===0?t:Be(t,function(a,i){var o=Object.keys(n);return o.every(function(l){var s=n[l];return s(a[l],a,i)})})},e.prototype.filterFieldData=function(t,n){var a=this.options.filters,i=H(a,t);return Xa(i)?n:n.filter(function(o,l){return i(o[t],o,l)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,a=t.end,i=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(le(n,i)&&le(a,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(St.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(St.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=H(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,a=n.x,i=n.y,o=n.width,l=n.height;this.backgroundStyleRectShape.attr({fill:t,x:a,y:i,width:o,height:l})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=sX(this).shrink(Xg(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(s){return s.name==="tooltip"});n.update();for(var a=this.views,i=0,o=a.length;i<o;i++){var l=a[i];l.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?uX:ut(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,zu),this.views.forEach(function(s){s.coordinateBBox=s.viewBBox.shrink(s.autoPadding.getPadding()),s.adjustCoordinate()})),this.doLayout();for(var a=this.views,i=0,o=a.length;i<o;i++){var l=a[i];l.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var a=Wg(this.coordinateInstance),i=a.type,o=a.attrs;n.setClip({type:i,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var l=this.views,s=0,u=l.length;s<u;s++){var c=l[s];c.renderPaintRecursive(t)}},e.prototype.createScale=function(t,n,a,i){var o=H(this.options.scales,[t]),l=E(E({},o),a);return this.parent?this.parent.createScale(t,n,l,i):this.scalePool.createScale(t,n,l,i)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,n,a,i;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,a=o.width,i=o.height}else t=0,n=0,a=this.canvas.get("width"),i=this.canvas.get("height");var l=this.region,s=l.start,u=l.end,c=new Xe(t+a*s.x,n+i*s.y,a*(u.x-s.x),i*(u.y-s.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Xe(t+a*s.x,n+i*s.y,a*(u.x-s.x),i*(u.y-s.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,a=t.length;n<a;n++){var i=t[n],o=aX(i);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var n=t.shape,a=t.name,i=n?n.get("origin"):null,o=new te(this,t,i);return o.type=a,o},e.prototype.doPlotEvent=function(t){var n=t.type,a=t.x,i=t.y,o={x:a,y:i},l=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(l.includes(n)){var s=this.isPointInPlot(o),u=t.clone();if(s){var c="plot:".concat(n);u.type=c,this.emit(c,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!s?(n==="mousemove"&&(u.type=Ze.MOUSE_LEAVE,this.emit(Ze.MOUSE_LEAVE,u)),u.type=Ze.LEAVE,this.emit(Ze.LEAVE,u)):!this.isPreMouseInPlot&&s&&(n==="mousemove"&&(u.type=Ze.MOUSE_ENTER,this.emit(Ze.MOUSE_ENTER,u)),u.type=Ze.ENTER,this.emit(Ze.ENTER,u)),this.isPreMouseInPlot=s):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=Ze.MOUSE_LEAVE,this.emit(Ze.MOUSE_LEAVE,u)),u.type=Ze.LEAVE,this.emit(Ze.LEAVE,u),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),a=H(this.options,"scales",{}),i=this.geometries,o=0,l=i.length;o<l;o++){var s=i[o];s.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:a,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?s.update(u):s.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),a=this.getOptions(),i=a.data,o=a.scales,l=o===void 0?{}:o,s=this.filteredData,u=0,c=t.length;u<c;u++){var f=t[u],h=l[f],d=this.getScaleKey(f);this.createScale(f,n.includes(f)?i:s,h,d),this.createdScaleKeys.set(d,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},a=0;a<t.length;a++){var i=t[a];n[i]=this.getScaleByField(i)}return n},e.prototype.getScaleFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],l=o.getScaleFields();la(l,t,n)}return t},e.prototype.getGroupedFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],l=o.getGroupFields();la(l,t,n)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,n=pt([this.getXScale()],ct(this.getYScales()),!1).filter(function(o){return!!o}),a=this.getCoordinate(),i=this.options.scales;j(n,function(o){var l=o.field,s=o.values,u=o.isCategory,c=o.isIdentity;(u||c)&&s&&!H(i,[l,"range"])&&(o.range=FE(o,a,t.theme))})},e.prototype.initComponents=function(t){for(var n=this.controllers,a=0;a<n.length;a++){var i=n[a];t?i.update():(i.clear(),i.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},e.prototype.paintGeometries=function(t){for(var n=this.options.animate,a=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,l=0;l<o.length;l++){var s=o[l];s.coordinate=a,s.canvasRegion=i,n||s.animate(!1),s.paint(t)}},e.prototype.renderComponents=function(t){for(var n=this.getComponents(),a=0;a<n.length;a++){var i=n[a];i.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,n=this.options,a=n.geometries,i=a===void 0?[]:a,o=n.interactions,l=o===void 0?[]:o,s=n.views,u=s===void 0?[]:s,c=n.annotations,f=c===void 0?[]:c,h=n.coordinate,d=n.events,p=n.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new iX(h);for(var v=0;v<i.length;v++){var g=i[v];this.createGeometry(g)}for(var y=0;y<l.length;y++){var m=l[y],b=m.type,x=m.cfg;this.interaction(b,x)}for(var w=0;w<u.length;w++){var S=u[w];this.createView(S)}for(var C=this.getController("annotation"),T=0;T<f.length;T++){var F=f[T];C.annotation(F)}d&&j(d,function(I,M){t.on(M,I)}),p&&j(p,function(I){var M=I.type,O=Ht(I,["type"]);t.facet(M,O)})},e.prototype.createGeometry=function(t){var n=t.type,a=t.cfg,i=a===void 0?{}:a;if(this[n]){var o=this[n](i);j(t,function(l,s){ut(o[s])&&o[s](l)})}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(bg);function An(r,e){JE.prototype[r.toLowerCase()]=function(t){t===void 0&&(t={});var n=E({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),a=new e(n);return this.geometries.push(a),a}}var cX=function(r){U(e,r);function e(t){var n=this,a=t.container,i=t.width,o=t.height,l=t.autoFit,s=l===void 0?!1:l,u=t.padding,c=t.appendPadding,f=t.renderer,h=f===void 0?"canvas":f,d=t.pixelRatio,p=t.localRefresh,v=p===void 0?!0:p,g=t.visible,y=g===void 0?!0:g,m=t.supportCSSTransform,b=m===void 0?!1:m,x=t.defaultInteractions,w=x===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:x,S=t.options,C=t.limitInPlot,T=t.theme,F=t.syncViewPadding,I=gt(a)?document.getElementById(a):a,M=da('<div style="position:relative;"></div>');I.appendChild(M);var O=_x(I,s,i,o),k=y8(h),L=new k.Canvas(E({container:M,pixelRatio:d,localRefresh:v,supportCSSTransform:b},O));return n=r.call(this,{parent:null,canvas:L,backgroundGroup:L.addGroup({zIndex:Qi.BG}),middleGroup:L.addGroup({zIndex:Qi.MID}),foregroundGroup:L.addGroup({zIndex:Qi.FORE}),padding:u,appendPadding:c,visible:y,options:S,limitInPlot:C,theme:T,syncViewPadding:F})||this,n.onResize=HC(function(){n.forceFit()},300),n.ele=I,n.canvas=L,n.width=O.width,n.height=O.height,n.autoFit=s,n.localRefresh=v,n.renderer=h,n.wrapperElement=M,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(w),n}return e.prototype.initDefaultInteractions=function(t){var n=this;j(t,function(a){n.interaction(a)})},e.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},e.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(St.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(St.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){r.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),A8(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return r.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=_x(this.ele,!0,this.width,this.height),n=t.width,a=t.height;this.changeSize(n,a)}},e.prototype.updateCanvasStyle=function(){He(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(JE),No=function(){function r(e){this.visible=!0,this.components=[],this.view=e}return r.prototype.clear=function(e){j(this.components,function(t){t.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},r}();function fX(r){for(var e=[],t=function(a){var i=r[a],o=Yr(e,function(l){return l.color===i.color&&l.name===i.name&&l.value===i.value&&l.title===i.title});o||e.push(i)},n=0;n<r.length;n++)t(n);return e}var tT=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,a=this.getTooltipItems(t);if(!a.length){this.hideTooltip();return}var i=this.getTitle(a),o={x:a[0].x,y:a[0].y};n.emit("tooltip:show",te.fromData(n,"tooltip:show",E({items:a,title:i},t)));var l=this.getTooltipCfg(),s=l.follow,u=l.showMarkers,c=l.showCrosshairs,f=l.showContent,h=l.marker,d=this.items,p=this.title;if(!le(p,i)||!le(d,a)?(n.emit("tooltip:change",te.fromData(n,"tooltip:change",E({items:a,title:i},t))),(ut(f)?f(a):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(zt({},l,{items:this.getItemsAfterProcess(a),title:i},s?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(a,h)):(this.tooltip&&s&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=a,this.title=i,c){var v=H(l,["crosshairs","follow"],!1);this.renderCrosshairs(v?t:o,l)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var a=this.xCrosshair,i=this.yCrosshair;a&&a.hide(),i&&i.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",te.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,n=t.tooltip,a=t.xCrosshair,i=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),a&&a.clear(),i&&i.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,a=n.tooltip,i=n.tooltipMarkersGroup,o=n.xCrosshair,l=n.yCrosshair;t?(a&&a.show(),i&&i.show(),o&&o.show(),l&&l.show()):(a&&a.hide(),i&&i.hide(),o&&o.hide(),l&&l.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var n,a,i,o,l,s,u=this.findItemsFromView(this.view,t);if(u.length){u=gr(u);try{for(var c=_t(u),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var d=(i=void 0,_t(h)),p=d.next();!p.done;p=d.next()){var v=p.value,g=v.mappingData,y=g.x,m=g.y;v.x=J(y)?y[y.length-1]:y,v.y=J(m)?m[m.length-1]:m}}catch(I){i={error:I}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(I){n={error:I}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var b=this.getTooltipCfg().shared;if(b===!1&&u.length>1){var x=u[0],w=Math.abs(t.y-x[0].y);try{for(var S=_t(u),C=S.next();!C.done;C=S.next()){var T=C.value,F=Math.abs(t.y-T[0].y);F<=w&&(x=T,w=F)}}catch(I){l={error:I}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(l)throw l.error}}u=[x]}return fX(gr(u))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),a=this.tooltip.get("capture");if(n&&a){var i=n.getBoundingClientRect(),o=i.x,l=i.y,s=i.width,u=i.height;return new Xe(o,l,s,u).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,a=this.processCustomContent(n),i=t.getTheme(),o=H(i,["components","tooltip"],{}),l=H(a,"enterable",o.enterable);return lt({},o,a,{capture:!!(l||this.isLocked)})},e.prototype.processCustomContent=function(t){if(co(t)||!H(t,"customContent"))return t;var n=t.customContent,a=function(i,o){var l=n(i,o)||"";return gt(l)?'<div class="g2-tooltip">'+l+"</div>":l};return E(E({},t),{customContent:a})},e.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},a=this.getTooltipCfg(),i=new Rf(E(E({parent:t.get("el").parentNode,region:n},a),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},e.prototype.renderTooltipMarkers=function(t,n){var a,i,o=this.getTooltipMarkersGroup(),l=this.view.getRootView(),s=l.limitInPlot;try{for(var u=_t(t),c=u.next();!c.done;c=u.next()){var f=c.value,h=f.x,d=f.y;if(s||o!=null&&o.getClip()){var p=Wg(l.getCoordinate()),v=p.type,g=p.attrs;o==null||o.setClip({type:v,attrs:g})}else o==null||o.setClip(void 0);var y=this.view.getTheme(),m=H(y,["components","tooltip","marker"],{}),b=E(E({fill:f.color,symbol:"circle",shadowColor:f.color},ut(n)?E(E({},m),n(f)):n),{x:h,y:d});o.addShape("marker",{attrs:b})}}catch(x){a={error:x}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},e.prototype.renderCrosshairs=function(t,n){var a=H(n,["crosshairs","type"],"x");a==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):a==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):a==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},e.prototype.renderXCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect)a.isTransposed?(i={x:a.start.x,y:t.y},o={x:a.end.x,y:t.y}):(i={x:t.x,y:a.end.y},o={x:t.x,y:a.start.y});else{var l=vo(a,t),s=a.getCenter(),u=a.getRadius();o=de(s.x,s.y,u,l),i=s}var c=lt({start:i,end:o,container:this.getTooltipCrosshairsGroup()},H(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete c.type;var f=this.xCrosshair;f?f.update(c):(f=new wE(c),f.init()),f.render(),f.show(),this.xCrosshair=f},e.prototype.renderYCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect){var l=void 0,s=void 0;a.isTransposed?(l={x:t.x,y:a.end.y},s={x:t.x,y:a.start.y}):(l={x:a.start.x,y:t.y},s={x:a.end.x,y:t.y}),i={start:l,end:s},o="Line"}else i={center:a.getCenter(),radius:Lf(a,t),startAngle:a.startAngle,endAngle:a.endAngle},o="Circle";i=lt({container:this.getTooltipCrosshairsGroup()},i,H(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete i.type;var u=this.yCrosshair;u?a.isRect&&u.get("type")==="circle"||!a.isRect&&u.get("type")==="line"?(u=new Zb[o](i),u.init()):u.update(i):(u=new Zb[o](i),u.init()),u.render(),u.show(),this.yCrosshair=u},e.prototype.getCrosshairsText=function(t,n,a){var i=H(a,["crosshairs","text"]),o=H(a,["crosshairs","follow"]),l=this.items;if(i){var s=this.getViewWithGeometry(this.view),u=l[0],c=s.getXScale(),f=s.getYScales()[0],h=void 0,d=void 0;if(o){var p=this.view.getCoordinate().invert(n);h=c.invert(p.x),d=f.invert(p.y)}else h=u.data[c.field],d=u.data[f.field];var v=t==="x"?h:d;return ut(i)?i=i(t,v,l,n):i.content=v,{text:i}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,n){var a,i;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),l=xv(t,n,o);try{for(var s=_t(t.views),u=s.next();!u.done;u=s.next()){var c=u.value;l=l.concat(this.findItemsFromView(c,n))}}catch(f){a={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return l},e.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:Yr(t.views,function(a){return n.getViewWithGeometry(a)})},e.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,a=n||function(i){return i};return a(t)},e}(No),eT={};function rT(r){return eT[r.toLowerCase()]}function wr(r,e){eT[r.toLowerCase()]=e}var yo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},hX={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},gw={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",r.isPolar&&r.isTransposed&&(e="wave-in")),{animation:e}},schema:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function dX(r,e){return{delay:ut(r.delay)?r.delay(e):r.delay,easing:ut(r.easing)?r.easing(e):r.easing,duration:ut(r.duration)?r.duration(e):r.duration,callback:r.callback,repeat:r.repeat}}function nT(r,e,t){var n=hX[r];return n&&(ut(n)&&(n=n(e)),n=lt({},yo,n),t)?n[t]:n}function eo(r,e,t){var n=H(r.get("origin"),"data",qt),a=e.animation,i=dX(e,n);if(a){var o=rT(a);o&&o(r,i,t)}else r.animate(t.toAttrs,i)}function pX(r,e,t,n,a){if(gw[t]){var i=gw[t](n),o=rT(H(i,"animation",""));if(o){var l=E(E(E({},yo.appear),i),e);r.stopAnimate(),o(r,l,{coordinate:n,minYPoint:a,toAttrs:null})}}}var Zg="element-background",aT=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.labelShape=[],n.states=[];var a=t.shapeFactory,i=t.container,o=t.offscreenGroup,l=t.elementIndex,s=t.visible,u=s===void 0?!0:s;return n.shapeFactory=a,n.container=i,n.offscreenGroup=o,n.visible=u,n.elementIndex=l,n}return e.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var n=this,a=n.shapeFactory,i=n.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var o=this.getOffscreenGroup(),l=a.drawShape(this.shapeType,t,o);l.cfg.data=this.data,l.cfg.origin=t,l.cfg.element=this,this.syncShapeStyle(i,l,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,n=t.shapeFactory,a=t.shape;if(a){var i=this.getAnimateCfg("leave");i?eo(a,i,{coordinate:n.coordinate,toAttrs:E({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},e.prototype.setState=function(t,n){var a=this,i=a.states,o=a.shapeFactory,l=a.model,s=a.shape,u=a.shapeType,c=i.indexOf(t);if(n){if(c>-1)return;i.push(t),(t==="active"||t==="selected")&&(s==null||s.toFront())}else{if(c===-1)return;if(i.splice(c,1),t==="active"||t==="selected"){var f=this.geometry,h=f.sortZIndex,d=f.zIndexReversed,p=d?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?s.setZIndex(p):s.set("zIndex",p)}}var v=o.drawShape(u,l,this.getOffscreenGroup());i.length?this.syncShapeStyle(s,v,i,null):this.syncShapeStyle(s,v,["reset"],null),v.remove(!0);var g={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",g),lE(this.shape,"statechange",g)},e.prototype.clearStates=function(){var t=this,n=this.states;j(n,function(a){t.setState(a,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,n=t.shape,a=t.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(i=n.getCanvasBBox()),a&&a.forEach(function(o){var l=o.getCanvasBBox();i.x=Math.min(l.x,i.x),i.y=Math.min(l.y,i.y),i.minX=Math.min(l.minX,i.minX),i.minY=Math.min(l.minY,i.minY),i.maxX=Math.max(l.maxX,i.maxX),i.maxY=Math.max(l.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,a=t.geometry,i=t.shapeFactory,o=a.stateOption,l=i.defaultShapeType,s=i.theme[n]||i.theme[l];this.statesStyle=lt({},s,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,n){var a=this.getStatesStyle(),i=H(a,[t,"style"],{}),o=i[n]||i;return ut(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var n=this,a=this.animate;if(a){var i=a[t];return i&&E(E({},i),{callback:function(){var o;ut(i.callback)&&i.callback(),(o=n.geometry)===null||o===void 0||o.emit(ha.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(t,n){var a;n===void 0&&(n=!1);var i=this,o=i.shapeFactory,l=i.container,s=i.shapeType;if(this.shape=o.drawShape(s,t,l),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?gt(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=n?"enter":"appear",f=this.getAnimateCfg(c);f&&((a=this.geometry)===null||a===void 0||a.emit(ha.BEFORE_DRAW_ANIMATE),eo(this.shape,f,{coordinate:o.coordinate,toAttrs:E({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,n){var a=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var i=t.get("children");i.forEach(function(o){a.setShapeInfo(o,n)})}},e.prototype.syncShapeStyle=function(t,n,a,i,o){var l=this,s;if(a===void 0&&(a=[]),o===void 0&&(o=0),!(!t||!n)){var u=t.get("clipShape"),c=n.get("clipShape");if(this.syncShapeStyle(u,c,a,i),t.isGroup())for(var f=t.get("children"),h=n.get("children"),d=0;d<f.length;d++)this.syncShapeStyle(f[d],h[d],a,i,o+d);else{if(!ir(a)&&!le(a,["reset"])){var p=t.get("name");J(p)&&(p=p[1]),j(a,function(g){if(n.get("name")!==Zg){var y=l.getStateStyle(g,p||o);n.attr(y)}})}var v=ME(t,n);this.animate?i?((s=this.geometry)===null||s===void 0||s.emit(ha.BEFORE_DRAW_ANIMATE),eo(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model})):ir(a)?t.attr(v):(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v)}}},e.prototype.getShapeType=function(t){var n=H(t,"shape");return J(n)?n[0]:n},e}(bg),iT={},oT={};function vX(r){return iT[r.toLowerCase()]}function Ts(r,e){iT[r.toLowerCase()]=e}function gX(r){return oT[r.toLowerCase()]}function lr(r,e){oT[r.toLowerCase()]=e}var yX={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,e){var t=this.getShape(r);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(r){var e=this[r]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(r){return H(r,[this.defaultShapeType,"default","style"],{})},getMarker:function(r,e){var t=this.getShape(r);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var a=this.theme,i=H(a,[r,"default"],{}),o=t.getMarker(e);return lt({},i,o)},drawShape:function(r,e,t){var n=this.getShape(r);return n.draw(e,t)}},mX={coordinate:null,parsePath:function(r){var e=this.coordinate,t=PA(r);return e.isPolar?t=MU(e,t):t=IU(e,t),t},parsePoint:function(r){var e=this.coordinate;return e.convert(r)},parsePoints:function(r){var e=this.coordinate;return r.map(function(t){return e.convert(t)})},draw:function(r,e){}},Qg={};function ka(r,e){var t=Ci(r),n=E(E(E({},yX),e),{geometryType:r});return Qg[t]=n,n}function Bt(r,e,t){var n=Ci(r),a=Qg[n],i=E(E({},mX),t);return a[e]=i,i}function yw(r){var e=Ci(r);return Qg[e]}function xX(r,e,t){var n,a;if(t===void 0&&(t={}),!e)return[r];var i=BC(r,e),o=[];if(e.length===1&&t[e[0]]){var l=t[e[0]];try{for(var s=_t(l),u=s.next();!u.done;u=s.next()){var c=u.value,f=i["_".concat(c)];f&&o.push(f)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}}else for(var h in i)if(i.hasOwnProperty(h)){var d=i[h];o.push(d)}return o}function lT(r,e){return of(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!le(r[t],e[t])})}function Qo(r){return J(r)?r:r.split("*")}function sT(r,e){for(var t=[],n=[],a=[],i=new Map,o=0;o<e.length;o++){var l=e[o];r[l]?n.push(l):t.push(l),i.set(l,!0)}return Object.keys(r).forEach(function(s){i.has(s)||a.push(s)}),{added:t,updated:n,removed:a}}var Pa=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var a=t.container,i=t.labelsContainer,o=t.coordinate,l=t.data,s=t.sortable,u=s===void 0?!1:s,c=t.visible,f=c===void 0?!0:c,h=t.theme,d=t.scales,p=d===void 0?{}:d,v=t.scaleDefs,g=v===void 0?{}:v,y=t.intervalPadding,m=t.dodgePadding,b=t.maxColumnWidth,x=t.minColumnWidth,w=t.columnWidthRatio,S=t.roseWidthRatio,C=t.multiplePieWidthRatio,T=t.zIndexReversed,F=t.sortZIndex,I=t.useDeferredLabel;return n.container=a,n.labelsContainer=i,n.coordinate=o,n.data=l,n.sortable=u,n.visible=f,n.userTheme=h,n.scales=p,n.scaleDefs=g,n.intervalPadding=y,n.dodgePadding=m,n.maxColumnWidth=b,n.minColumnWidth=x,n.columnWidthRatio=w,n.roseWidthRatio=S,n.multiplePieWidthRatio=C,n.zIndexReversed=T,n.sortZIndex=F,n.useDeferredLabel=I?typeof I=="number"?I:1/0:null,n}return e.prototype.position=function(t){var n=t;vn(t)||(n={fields:Qo(t)});var a=H(n,"fields");return a.length===1&&(a.unshift("1"),ye(n,"fields",a)),ye(this.attributeOption,"position",n),this},e.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},e.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},e.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},e.prototype.adjust=function(t){var n=t;return(gt(t)||vn(t))&&(n=[t]),j(n,function(a,i){jt(a)||(n[i]={type:a})}),this.adjustOption=n,this},e.prototype.style=function(t,n){if(gt(t)){var a=Qo(t);this.styleOption={fields:a,callback:n}}else{var i=t,a=i.fields,o=i.callback,l=i.cfg;a||o||l?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,n){if(gt(t)){var a=Qo(t);this.tooltipOption={fields:a,callback:n}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,n,a){if(gt(t)){var i={},o=Qo(t);i.fields=o,ut(n)?i.callback=n:vn(n)&&(i.cfg=n),a&&(i.cfg=a),this.labelOption=i}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var n=t.data,a=t.isDataChanged,i=t.isCoordinateChanged,o=this,l=o.attributeOption,s=o.lastAttributeOption;le(l,s)?n&&(a||!le(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},e.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=lt({},nT(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var a=this.getOffscreenGroup();a.clear();var i=this.beforeMappingData,o=this.beforeMapping(i);this.dataArray=new Array(o.length);for(var l=0;l<o.length;l++){var s=o[l];this.dataArray[l]=this.mapping(s)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,c=this.type,f=this.coordinate,h=H(this.animateOption,"appear"),d=this.getYScale(),p=f.convert({x:0,y:d.scale(this.getYMinValue())});pX(u,h,c,f,p)}if(this.labelOption){var v=this.useDeferredLabel,g=(function(){return n.renderLabels(gr(n.dataArray),t)}).bind(this);if(typeof v=="number"){var y=typeof v=="number"&&v!==1/0?v:0;if(!window.requestIdleCallback)setTimeout(g,y);else{var m=y&&y!==1/0?{timeout:y}:void 0;window.requestIdleCallback(g,m)}}else g()}this.lastAttributeOption=E({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,n=t.container,a=t.geometryLabel,i=t.offscreenGroup;n&&n.clear(),a&&a.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return j(this.attributes,function(n){Wi.includes(n.type)&&t.push(n)}),t},e.prototype.getDefaultValue=function(t){var n,a=this.getAttribute(t);return a&&ir(a.scales)&&(n=a.values[0]),n},e.prototype.getAttributeValues=function(t,n){for(var a=[],i=t.scales,o=0,l=i.length;o<l;o++){var s=i[o],u=s.field;s.isIdentity?a.push(s.values):a.push(n[u])}return t.mapping.apply(t,pt([],ct(a),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,n){var a=this.getShapeFactory();return a.getMarker(t,n)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=J(t)?t[0]:t;var n=t[qt];if(this.idFields.length){for(var a=n[this.idFields[0]],i=1;i<this.idFields.length;i++)a+="-"+n[this.idFields[i]];return a}var o=this.type,l=this.getXScale(),s=this.getYScale(),u=l.field||"x",c=s.field||"y",f=n[c],h;l.type==="identity"?h=l.values[0]:h=n[u];var d;o==="interval"||o==="schema"?d="".concat(h):o==="line"||o==="area"||o==="path"?d=o:d="".concat(h,"-").concat(f);for(var p=this.groupScales,i=0,v=p.length;i<v;i++){var g=p[i],y=g.field;d="".concat(d,"-").concat(n[y])}var m=this.getAdjust("dodge");if(m){var b=m.dodgeBy;b&&(d="".concat(d,"-").concat(n[b]))}return this.getAdjust("jitter")&&(d="".concat(d,"-").concat(t.x,"-").concat(t.y)),d},e.prototype.getScaleFields=function(){var t=[],n=new Map,a=this,i=a.attributeOption,o=a.labelOption,l=a.tooltipOption;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];u.fields?la(u.fields,t,n):u.values&&la(u.values,t,n)}return o&&o.fields&&la(o.fields,t,n),jt(l)&&l.fields&&la(l.fields,t,n),t},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var n=this.elements,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(a){var i=(a==null?void 0:a.fields)||[];i.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},e.prototype.getGroupFields=function(){for(var t=[],n=new Map,a=0,i=Wi.length;a<i;a++){var o=Wi[a],l=this.attributeOption[o];l&&l.fields&&la(l.fields,t,n)}return t},e.prototype.getXYFields=function(){var t=ct(this.attributeOption.position.fields,2),n=t[0],a=t[1];return[n,a]},e.prototype.getXField=function(){return H(this.getXYFields(),[0])},e.prototype.getYField=function(){return H(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),a=n.field,i=0;i<t.length;i++){var o=t[i];o.sort(function(l,s){return n.translate(l[qt][a])-n.translate(s[qt][a])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(yw(t))return this.shapeFactory||(this.shapeFactory=Ye(yw(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),a=this.getYScale(),i=this.normalizeValues(t[n.field],n),o;return a?o=this.normalizeValues(t[a.field],a):o=t.y?t.y:.1,{x:i,y:o,y0:a?a.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,n,a){a===void 0&&(a=!1);var i=this.container,o=this.getDrawCfg(t),l=this.getShapeFactory(),s=new aT({shapeFactory:l,container:i,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return s.animate=this.animateOption,s.geometry=this,s.draw(o,a),s},e.prototype.getDrawCfg=function(t){var n=t[qt],a={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),a.shape=i;var o=this.theme.geometries[this.shapeType];a.defaultStyle=H(o,[i,"default"],{}).style,!a.defaultStyle&&this.getShapeFactory()&&(a.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var l=this.styleOption;return l&&(a.style=this.getStyleCfg(l,n)),this.generatePoints&&(a.points=t.points,a.nextPoints=t.nextPoints),a},e.prototype.updateElements=function(t,n){var a,i,o,l,s,u;n===void 0&&(n=!1);for(var c=new Map,f=[],h=new Map,d=0,p=0;p<t.length;p++)for(var v=t[p],g=0;g<v.length;g++){var y=v[g],m=this.getElementId(y),b=c.has(m)?"".concat(m,"-").concat(p,"-").concat(g):m;f.push(b),c.set(b,y),h.set(b,d),d++}this.elements=new Array(d);var x=sT(this.lastElementsMap,f),w=x.added,S=x.updated,C=x.removed;try{for(var T=_t(w),F=T.next();!F.done;F=T.next()){var m=F.value,y=c.get(m),p=h.get(m),I=this.createElement(y,p,n);this.elements[p]=I,this.elementsMap[m]=I,I.shape&&I.shape.set("zIndex",this.zIndexReversed?this.elements.length-p:p)}}catch(D){a={error:D}}finally{try{F&&!F.done&&(i=T.return)&&i.call(T)}finally{if(a)throw a.error}}try{for(var M=_t(S),O=M.next();!O.done;O=M.next()){var m=O.value,I=this.lastElementsMap[m],y=c.get(m),k=this.getDrawCfg(y),L=I.getModel(),p=h.get(m);(this.isCoordinateChanged||lT(k,L))&&(I.animate=this.animateOption,I.update(k)),this.elements[p]=I,this.elementsMap[m]=I,I.shape&&I.shape.set("zIndex",this.zIndexReversed?this.elements.length-p:p)}}catch(D){o={error:D}}finally{try{O&&!O.done&&(l=M.return)&&l.call(M)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var N=_t(C),R=N.next();!R.done;R=N.next()){var m=R.value,I=this.lastElementsMap[m];I.animate=this.animateOption,I.destroy()}}catch(D){s={error:D}}finally{try{R&&!R.done&&(u=N.return)&&u.call(N)}finally{if(s)throw s.error}}},e.prototype.getLabelType=function(){var t=this,n=t.labelOption,a=t.coordinate,i=t.type,o=a.type,l=a.isTransposed,s=H(n,["cfg","type"]);return s||(o==="polar"?s=l?"pie":"polar":o==="theta"?s="pie":i==="interval"||i==="polygon"?s="interval":s="base"),s},e.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,a=t.max,i;return n>=0?i=n:a<=0?i=a:i=0,i},e.prototype.createAttrOption=function(t,n,a){if(Q(n)||jt(n))jt(n)&&le(Object.keys(n),["values"])?ye(this.attributeOption,t,{fields:n.values}):ye(this.attributeOption,t,n);else{var i={};xt(n)?i.values=[n]:i.fields=Qo(n),a&&(ut(a)?i.callback=a:i.values=a),ye(this.attributeOption,t,i)}},e.prototype.initAttributes=function(){var t=this,n=this,a=n.attributes,i=n.attributeOption,o=n.theme,l=n.shapeType;this.groupScales=[];var s={},u=function(h){if(i.hasOwnProperty(h)){var d=i[h];if(!d)return{value:void 0};var p=E({},d),v=p.callback,g=p.values,y=p.fields,m=y===void 0?[]:y,b=m.map(function(w){var S=t.scales[w];if(!s[w]&&Wi.includes(h)){var C=OE(S,H(t.scaleDefs,w),h,t.type);C==="cat"&&(t.groupScales.push(S),s[w]=!0)}return S});p.scales=b,h!=="position"&&b.length===1&&b[0].type==="identity"?p.values=b[0].values:!v&&!g&&(h==="size"?p.values=o.sizes:h==="shape"?p.values=o.shapes[l]||[]:h==="color"&&(b.length?p.values=b[0].values.length<=10?o.colors10:o.colors20:p.values=o.colors10));var x=aE(h);a[h]=new x(p)}};for(var c in i){var f=u(c);if(typeof f=="object")return f.value}},e.prototype.processData=function(t){var n,a;this.hasSorted=!1;for(var i=this.getAttribute("position").scales,o=i.filter(function(C){return C.isCategory}),l=this.groupData(t),s=[],u=0,c=l.length;u<c;u++){for(var f=l[u],h=[],d=0,p=f.length;d<p;d++){var v=f[d],g={};for(var y in v)g[y]=v[y];g[qt]=v;try{for(var m=(n=void 0,_t(o)),b=m.next();!b.done;b=m.next()){var x=b.value,w=x.field;g[w]=x.translate(g[w])}}catch(C){n={error:C}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}h.push(g)}s.push(h)}var S=this.adjustData(s);return this.beforeMappingData=S,S},e.prototype.adjustData=function(t){var n=this.adjustOption,a=this,i=a.intervalPadding,o=a.dodgePadding,l=a.theme,s=this.maxColumnWidth||l.maxColumnWidth,u=this.minColumnWidth||l.minColumnWidth,c=this.columnWidthRatio||l.columnWidthRatio,f=t;if(n){var h=this.getXScale(),d=this.getYScale(),p=h.field,v=d?d.field:null,g=As(this.coordinate),y=h.values.length,m=this.getAttribute("size"),b=void 0;m&&(b=m.values[0]);for(var x=0,w=n.length;x<w;x++){var S=n[x],C=E({xField:p,yField:v,intervalPadding:i,dodgePadding:o,xDimensionLength:g,groupNum:y,defaultSize:b,maxColumnWidth:s,minColumnWidth:u,columnWidthRatio:c},S),T=S.type;if(T==="dodge"){var F=[];if(h.isCategory||h.type==="identity")F.push("x");else if(!d)F.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");C.adjustNames=F,C.dodgeRatio=c}else if(T==="stack"){var I=this.coordinate;if(!d){C.height=I.getHeight();var M=this.getDefaultValue("size")||3;C.size=M}!I.isTransposed&&Q(C.reverseOrder)&&(C.reverseOrder=!0)}var O=_A(T);C.dimValuesMap={},h&&h.values&&(C.dimValuesMap[h.field]=h.values.map(function(L){return h.translate(L)}));var k=new O(C);f=k.process(f),this.adjusts[T]=k}}return f},e.prototype.groupData=function(t){for(var n=this.getGroupScales(),a=this.scaleDefs,i={},o=[],l=0;l<n.length;l++){var s=n[l],u=s.field;o.push(u),H(a,[u,"values"])&&(i[u]=a[u].values)}return xX(t,o,i)},e.prototype.updateStackRange=function(t,n){for(var a=gr(n),i=t.field,o=t.min,l=t.max,s=0;s<a.length;s++){var u=a[s],c=Math.min.apply(null,u[i]),f=Math.max.apply(null,u[i]);c<o&&(o=c),f>l&&(l=f)}var h=this.scaleDefs,d={};o<t.min&&!H(h,[i,"min"])&&(d.min=o),l>t.max&&!H(h,[i,"max"])&&(d.max=l),t.change(d)},e.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var a=0,i=n.length;a<i;a++){var o=n[a];this.generateShapePoints(o);var l=n[a+1];l&&(this.generateShapePoints(l),o[0].nextPoints=l[0].points)}return n},e.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),a=this.getAttribute("shape"),i=0;i<t.length;i++){var o=t[i],l=this.createShapePointsCfg(o),s=a?this.getAttributeValues(a,o):null,u=n.getShapePoints(s,l);o.points=u}},e.prototype.normalizeValues=function(t,n){var a=[];if(J(t))for(var i=0;i<t.length;i++){var o=t[i];a.push(n.scale(o))}else a=n.scale(t);return a},e.prototype.mapping=function(t){for(var n=this.attributes,a=[],i=0;i<t.length;i++){var o=t[i],l={_origin:o[qt],points:o.points,nextPoints:o.nextPoints};for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],c=u.names,f=this.getAttributeValues(u,o);if(c.length>1)for(var h=0;h<f.length;h+=1){var d=f[h],p=c[h];l[p]=J(d)&&d.length===1?d[0]:d}else l[c[0]]=f.length===1?f[0]:f}this.convertPoint(l),a.push(l)}return a},e.prototype.convertPoint=function(t){var n=t.x,a=t.y,i,o,l,s=this.coordinate;if(J(n)&&J(a)){i=[],o=[];for(var u=0,c=0,f=n.length,h=a.length;u<f&&c<h;u+=1,c+=1)l=s.convert({x:n[u],y:a[c]}),i.push(l.x),o.push(l.y)}else if(J(a)){o=[];for(var d=0;d<a.length;d++){var p=a[d];l=s.convert({x:n,y:p}),i&&i!==l.x?(J(i)||(i=[i]),i.push(l.x)):i=l.x,o.push(l.y)}}else if(J(n)){i=[];for(var d=0;d<n.length;d++){var v=n[d];l=s.convert({x:v,y:a}),o&&o!==l.y?(J(o)||(o=[o]),o.push(l.y)):o=l.y,i.push(l.x)}}else{var g=s.convert({x:n,y:a});i=g.x,o=g.y}t.x=i,t.y=o},e.prototype.getStyleCfg=function(t,n){var a=t.fields,i=a===void 0?[]:a,o=t.callback,l=t.cfg;if(l)return l;var s=i.map(function(u){return n[u]});return o.apply(void 0,pt([],ct(s),!1))},e.prototype.setCfg=function(t){var n=this,a=t.coordinate,i=t.data,o=t.theme,l=t.scaleDefs;a&&(this.coordinate=a),i&&(this.data=i),l&&(this.scaleDefs=l,this.idFields=[],j(l,function(s,u){s&&s.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?lt({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),Bl(this,void 0,void 0,function(){var a,i,o,l,s,u,c,f,h,d,p,v,g=this;return Nl(this,function(y){switch(y.label){case 0:return a=this.geometryLabel,this.emit(ha.BEFORE_RENDER_LABEL),a||(i=this.getLabelType(),o=vX(i),a=new o(this),this.geometryLabel=a),[4,a.render(t,n)];case 1:y.sent(),l=a.labelsRenderer.shapesMap,s=new Map,j(l,function(m,b){for(var x=m.getChildren()||[],w=0;w<x.length;w++){var S=x[w],C=g.elementsMap[S.get("elementId")||b.split(" ")[0]];if(C){S.cfg.name=["element","label"],S.cfg.element=C;var T=s.get(C)||new Set;T.add(m),s.set(C,T)}}});try{for(u=_t(s.entries()),c=u.next();!c.done;c=u.next())f=ct(c.value,2),h=f[0],d=f[1],h.labelShape=pt([],ct(d),!1)}catch(m){p={error:m}}finally{try{c&&!c.done&&(v=u.return)&&v.call(u)}finally{if(p)throw p.error}}return this.emit(ha.AFTER_RENDER_LABEL),[2]}})})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(H(this.animateOption,"appear")===void 0||H(this.animateOption,"appear")&&H(this.animateOption,["appear","animation"])===void 0)},e}(bg),Nf=be;function Is(r,e,t){var n=Nf(r.getMatrix(),[["t",e,t]]);r.setMatrix(n)}function bX(r,e){var t=r.attr(),n=t.x,a=t.y,i=Nf(r.getMatrix(),[["t",-n,-a],["r",e],["t",n,a]]);return i}function Jg(r,e){var t=bX(r,e);r.setMatrix(t)}function wX(r,e){var t=r.getBBox(),n=(t.minX+t.maxX)/2,a=(t.minY+t.maxY)/2;r.applyToMatrix([n,a,1]);var i=Nf(r.getMatrix(),[["t",-n,-a],["s",e,e],["t",n,a]]);r.setMatrix(i)}function Ca(r){return r.find(function(e){return e.get("type")==="text"})}function uT(r,e,t){t===void 0&&(t=[0,0,0,0]);var n=r&&r.getChildren()[0];if(n){var a=n.clone();e!=null&&e.rotate&&Jg(a,-e.rotate);var i=a.getCanvasBBox(),o=i.x,l=i.y,s=i.width,u=i.height;a.destroy();var c=t;return Q(c)?c=[2,2,2,2]:xt(c)&&(c=new Array(4).fill(c)),{x:o-c[3],y:l-c[0],width:s+c[1]+c[3],height:u+c[0]+c[2],rotation:(e==null?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function SX(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function CX(r,e){var t=r.getBBox();return of(e,function(n){var a=n.getBBox();return SX(t,a,2)>0})}function cT(r,e,t){var n=t.data,a=t.origin,i=t.animateCfg,o=t.coordinate,l=H(i,"update");r.set("data",n),r.set("origin",a),r.set("animateCfg",i),r.set("coordinate",o),r.set("visible",e.get("visible")),(r.getChildren()||[]).forEach(function(s,u){var c=e.getChildByIndex(u);if(!c)r.removeChild(s),s.remove(!0);else{s.set("data",n),s.set("origin",a),s.set("animateCfg",i),s.set("coordinate",o);var f=ME(s,c);l?eo(s,l,{toAttrs:f,coordinate:o}):s.attr(f),c.isGroup()&&cT(s,c,t)}}),j(e.getChildren(),function(s,u){J(r.getChildren())&&u>=r.getCount()&&(s.destroyed||r.add(s))})}var AX=function(){function r(e){this.shapesMap={};var t=e.layout,n=e.container;this.layout=t,this.container=n}return r.prototype.render=function(e,t,n){return n===void 0&&(n=!1),Bl(this,void 0,void 0,function(){var a,i,o,l,s,u,c,f,h=this;return Nl(this,function(d){switch(d.label){case 0:if(a={},i=this.createOffscreenGroup(),!e.length)return[3,2];try{for(o=_t(e),l=o.next();!l.done;l=o.next())s=l.value,s&&(a[s.id]=this.renderLabel(s,i))}catch(p){c={error:p}}finally{try{l&&!l.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}}return[4,this.doLayout(e,t,a)];case 1:d.sent(),this.renderLabelLine(e,a),this.renderLabelBackground(e,a),this.adjustLabel(e,a),d.label=2;case 2:return u=this.shapesMap,j(a,function(p,v){if(p.destroyed)delete a[v];else{if(u[v]){var g=p.get("data"),y=p.get("origin"),m=p.get("coordinate"),b=p.get("animateCfg"),x=u[v];cT(x,a[v],{data:g,origin:y,animateCfg:b,coordinate:m}),a[v]=x}else{if(h.container.destroyed)return;h.container.add(p);var w=H(p.get("animateCfg"),n?"enter":"appear");w&&eo(p,w,{toAttrs:E({},p.attr()),coordinate:p.get("coordinate")})}delete u[v]}}),j(u,function(p){var v=H(p.get("animateCfg"),"leave");v?eo(p,v,{toAttrs:null,coordinate:p.get("coordinate")}):p.remove(!0)}),this.shapesMap=a,i.destroy(),[2]}})})},r.prototype.clear=function(){this.container.clear(),this.shapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},r.prototype.renderLabel=function(e,t){var n=e.id,a=e.elementId,i=e.data,o=e.mappingData,l=e.coordinate,s=e.animate,u=e.content,c=e.capture,f={id:n,elementId:a,capture:c,data:i,origin:E(E({},o),{data:o[qt]}),coordinate:l},h=t.addGroup(E({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:lt({},this.animate,s)},f)),d;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var p=u.getCanvasBBox(),v=p.width,g=p.height,y=H(e,"textAlign","left"),m=e.x,b=e.y-g/2;y==="center"?m=m-v/2:(y==="right"||y==="end")&&(m=m-v),Is(u,m,b),d=u,h.add(u)}else{var x=H(e,["style","fill"]);d=h.addShape("text",E({attrs:E(E({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:H(e,"textBaseline","middle"),text:e.content},e.style),{fill:a8(x)?e.color:x})},f))}return e.rotate&&Jg(d,e.rotate),h},r.prototype.doLayout=function(e,t,n){return Bl(this,void 0,void 0,function(){var a,i=this;return Nl(this,function(o){switch(o.label){case 0:return this.layout?(a=J(this.layout)?this.layout:[this.layout],[4,Promise.all(a.map(function(l){var s=gX(H(l,"type",""));if(s){var u=[],c=[];return j(n,function(f,h){u.push(f),c.push(t[f.get("elementId")])}),s(e,u,c,i.region,l.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderLabelLine=function(e,t){j(e,function(n){var a=H(n,"coordinate");if(!(!n||!a)){var i=a.getCenter(),o=a.getRadius();if(n.labelLine){var l=H(n,"labelLine",{}),s=n.id,u=l.path;if(!u){var c=de(i.x,i.y,o,n.angle);u=[["M",c.x,c.y],["L",n.x,n.y]]}var f=t[s];f.destroyed||f.addShape("path",{capture:!1,attrs:E({path:u,stroke:n.color?n.color:H(n,["style","fill"],"#000"),fill:null},l.style),id:s,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},r.prototype.renderLabelBackground=function(e,t){j(e,function(n){var a=H(n,"coordinate"),i=H(n,"background");if(!(!i||!a)){var o=n.id,l=t[o];if(!l.destroyed){var s=l.getChildren()[0];if(s){var u=uT(l,n,i.padding),c=u.rotation,f=Ht(u,["rotation"]),h=l.addShape("rect",{attrs:E(E({},f),i.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(h.setZIndex(-1),c){var d=s.getMatrix();h.setMatrix(d)}}}}})},r.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),n=new t({});return n},r.prototype.adjustLabel=function(e,t){j(e,function(n){if(n){var a=n.id,i=t[a];if(!i.destroyed){var o=i.findAll(function(l){return l.get("type")!=="path"});j(o,function(l){l&&(n.offsetX&&l.attr("x",l.attr("x")+n.offsetX),n.offsetY&&l.attr("y",l.attr("y")+n.offsetY))})}}})},r}();function mw(r){var e=0;return j(r,function(t){e+=t}),e/r.length}var $f=function(){function r(e){this.geometry=e}return r.prototype.getLabelItems=function(e){var t=this,n=[],a=this.getLabelCfgs(e);return j(e,function(i,o){var l=a[o];if(!l||Q(i.x)||Q(i.y)){n.push(null);return}var s=J(l.content)?l.content:[l.content];l.content=s;var u=s.length;j(s,function(c,f){if(Q(c)||c===""){n.push(null);return}var h=E(E({},l),t.getLabelPoint(l,i,f));h.textAlign||(h.textAlign=t.getLabelAlign(h,f,u)),h.offset<=0&&(h.labelLine=null),n.push(h)})}),n},r.prototype.render=function(e,t){return t===void 0&&(t=!1),Bl(this,void 0,void 0,function(){var n,a,i;return Nl(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(e),a=this.getLabelsRenderer(),i=this.getGeometryShapes(),[4,a.render(n,i,t)];case 1:return o.sent(),[2]}})})},r.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},r.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(e,t){var n=this.geometry,a=n.type,i=n.theme;return a==="polygon"||a==="interval"&&t==="middle"||e<0&&!["line","point","path"].includes(a)?H(i,"innerLabels",{}):H(i,"labels",{})},r.prototype.getThemedLabelCfg=function(e){var t=this.geometry,n=this.getDefaultLabelCfg(),a=t.type,i=t.theme,o;return a==="polygon"||e.offset<0&&!["line","point","path"].includes(a)?o=lt({},n,i.innerLabels,e):o=lt({},n,i.labels,e),o},r.prototype.setLabelPosition=function(e,t,n,a){},r.prototype.getLabelOffset=function(e){var t=this.getCoordinate(),n=this.getOffsetVector(e);return t.isTransposed?n[0]:n[1]},r.prototype.getLabelOffsetPoint=function(e,t,n){var a=e.offset,i=this.getCoordinate(),o=i.isTransposed,l=o?"x":"y",s=o?1:-1,u={x:0,y:0};return t>0||n===1?u[l]=a*s:u[l]=a*s*-1,u},r.prototype.getLabelPoint=function(e,t,n){var a=this.getCoordinate(),i=e.content.length;function o(g,y,m){m===void 0&&(m=!1);var b=g;return J(b)&&(e.content.length===1?m?b=mw(b):b.length<=2?b=b[g.length-1]:b=mw(b):b=b[y]),b}var l={content:e.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},s=J(t.shape)?t.shape[0]:t.shape,u=s==="funnel"||s==="pyramid";if(this.geometry.type==="polygon"){var c=oU(t.x,t.y);l.x=c[0],l.y=c[1]}else this.geometry.type==="interval"&&!u?(l.x=o(t.x,n,!0),l.y=o(t.y,n)):(l.x=o(t.x,n),l.y=o(t.y,n));if(u){var f=H(t,"nextPoints"),h=H(t,"points");if(f){var d=a.convert(h[1]),p=a.convert(f[1]);l.x=(d.x+p.x)/2,l.y=(d.y+p.y)/2}else if(s==="pyramid"){var d=a.convert(h[1]),p=a.convert(h[2]);l.x=(d.x+p.x)/2,l.y=(d.y+p.y)/2}}e.position&&this.setLabelPosition(l,t,n,e.position);var v=this.getLabelOffsetPoint(e,n,i);return l.start={x:l.x,y:l.y},l.x+=v.x,l.y+=v.y,l.color=t.color,l},r.prototype.getLabelAlign=function(e,t,n){var a="center",i=this.getCoordinate();if(i.isTransposed){var o=e.offset;o<0?a="right":o===0?a="center":a="left",n>1&&t===0&&(a==="right"?a="left":a==="left"&&(a="right"))}return a},r.prototype.getLabelId=function(e){var t=this.geometry,n=t.type,a=t.getXScale(),i=t.getYScale(),o=e[qt],l=t.getElementId(e);return n==="line"||n==="area"?l+=" ".concat(o[a.field]):n==="path"&&(l+=" ".concat(o[a.field],"-").concat(o[i.field])),l},r.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,n=e.labelOption,a=e.canvasRegion,i=e.animateOption,o=this.geometry.coordinate,l=this.labelsRenderer;return l||(l=new AX({container:t,layout:H(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=l),l.region=a,l.animate=i?nT("label",o):!1,l},r.prototype.getLabelCfgs=function(e){var t=this,n=this.geometry,a=n.labelOption,i=n.scales,o=n.coordinate,l=a,s=l.fields,u=l.callback,c=l.cfg,f=s.map(function(d){return i[d]}),h=[];return j(e,function(d,p){var v=d[qt],g=t.getLabelText(v,f),y;if(u){var m=s.map(function(C){return v[C]});if(y=u.apply(void 0,pt([],ct(m),!1)),Q(y)){h.push(null);return}}var b=E(E({id:t.getLabelId(d),elementId:t.geometry.getElementId(d),data:v,mappingData:d,coordinate:o},c),y);ut(b.position)&&(b.position=b.position(v,d,p));var x=t.getLabelOffset(b.offset||0),w=t.getDefaultLabelCfg(x,b.position);b=lt({},w,b),b.offset=t.getLabelOffset(b.offset||0);var S=b.content;ut(S)?b.content=S(v,d,p):Xa(S)&&(b.content=g[0]),h.push(b)}),h},r.prototype.getLabelText=function(e,t){var n=[];return j(t,function(a){var i=e[a.field];J(i)?i=i.map(function(o){return a.getText(o)}):i=a.getText(i),Q(i)||i===""?n.push(null):n.push(i)}),n},r.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate(),n=0;return xt(e)&&(n=e),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},r.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return j(e.elementsMap,function(n,a){t[a]=n.shape}),j(e.getOffscreenGroup().getChildren(),function(n){var a=e.getElementId(n.get("origin").mappingData);t[a]=n}),t},r}();function bv(r,e,t){if(!r)return t;var n;if(r.callback&&r.callback.length>1){var a=Array(r.callback.length-1).fill("");n=r.mapping.apply(r,pt([e],ct(a),!1)).join("")}else n=r.mapping(e).join("");return n||t}var mi={hexagon:function(r,e,t){var n=t/2*Math.sqrt(3);return[["M",r,e-t],["L",r+n,e-t/2],["L",r+n,e+t/2],["L",r,e+t],["L",r-n,e+t/2],["L",r-n,e-t/2],["Z"]]},bowtie:function(r,e,t){var n=t-1.5;return[["M",r-t,e-n],["L",r+t,e+n],["L",r+t,e-n],["L",r-t,e+n],["Z"]]},cross:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e+t],["M",r+t,e-t],["L",r-t,e+t]]},tick:function(r,e,t){return[["M",r-t/2,e-t],["L",r+t/2,e-t],["M",r,e-t],["L",r,e+t],["M",r-t/2,e+t],["L",r+t/2,e+t]]},plus:function(r,e,t){return[["M",r-t,e],["L",r+t,e],["M",r,e-t],["L",r,e+t]]},hyphen:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},line:function(r,e,t){return[["M",r,e-t],["L",r,e+t]]}},EX=["line","cross","tick","plus","hyphen"];function TX(r,e){return ut(e)?e(r):lt({},r,e)}function IX(r,e){var t=r.symbol;if(gt(t)&&EX.indexOf(t)!==-1){var n=H(r,"style",{}),a=H(n,"lineWidth",1),i=n.stroke||n.fill||e;r.style=lt({},r.style,{lineWidth:a,stroke:i,fill:null})}}function fT(r){var e=r.symbol;gt(e)&&mi[e]&&(r.symbol=mi[e])}function gd(r){return r.startsWith(it.LEFT)||r.startsWith(it.RIGHT)?"vertical":"horizontal"}function hT(r,e,t,n,a){var i=t.getScale(t.type);if(i.isCategory){var o=i.field,l=e.getAttribute("color"),s=e.getAttribute("shape"),u=r.getTheme().defaultColor,c=e.coordinate.isPolar;return i.getTicks().map(function(f,h){var d,p=f.text,v=f.value,g=p,y=i.invert(v),m=r.filterFieldData(o,[(d={},d[o]=y,d)]).length===0;j(r.views,function(C){var T;C.filterFieldData(o,[(T={},T[o]=y,T)]).length||(m=!0)});var b=bv(l,y,u),x=bv(s,y,"point"),w=e.getShapeMarker(x,{color:b,isInPolar:c}),S=a;return ut(S)&&(S=S(g,h,E({name:g,value:y},lt({},n,w)))),w=lt({},n,w,tr(E({},S),["style"])),IX(w,b),S&&S.style&&(w.style=TX(w.style,S.style)),fT(w),{id:y,name:g,value:y,marker:w,unchecked:m}})}return[]}function MX(r,e,t){return t.map(function(n,a){var i=e;ut(i)&&(i=i(n.name,a,lt({},r,n)));var o=ut(n.marker)?n.marker(n.name,a,lt({},r,n)):n.marker,l=lt({},r,i,o);return fT(l),n.marker=l,n})}function xw(r,e){var t=H(r,["components","legend"],{});return lt({},H(t,["common"],{}),lt({},H(t,[e],{})))}function yd(r){return r?!1:r==null||isNaN(r)}function bw(r){if(J(r))return yd(r[1].y);var e=r.y;return J(e)?yd(e[0]):yd(e)}function jf(r,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!r.length||r.length===1&&!t)return[];if(e){for(var n=[],a=0,i=r.length;a<i;a++){var o=r[a];bw(o)||n.push(o)}return[n]}for(var l=[],s=[],a=0,i=r.length;a<i;a++){var o=r[a];bw(o)?s.length&&(s.length===1&&!t||l.push(s),s=[]):s.push(o)}return s.length&&l.push(s),l}function dT(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(n){var a=t===0?"M":"L";e.push([a,n.x,n.y])}}var i=r[0];return i&&(e.push(["L",i.x,i.y]),e.push(["z"])),e}function pT(r){for(var e=r.length/2,t=[],n=[],a=0;a<r.length;a++)a<e?t.push(r[a]):n.push(r[a]);var i=Ac(t,!1),o=Ac(n,!1);n.length&&i.push(["L",n[0].x,n[0].y]),o.shift();var l=i.concat(o);return t.length&&l.push(["L",t[0].x,t[0].y]),l.push(["z"]),l}function he(r,e,t,n){n===void 0&&(n="");var a=r.style,i=a===void 0?{}:a,o=r.defaultStyle,l=r.color,s=r.size,u=E(E({},o),i);return l&&(e&&(i.stroke||(u.stroke=l)),t&&(i.fill||(u.fill=l))),n&&Q(i[n])&&!Q(s)&&(u[n]=s),u}function vT(r){return lt({},{fill:"#CCD6EC",fillOpacity:.3},H(r,["background","style"]))}function ty(r){var e=r.x,t=J(r.y)?r.y:[r.y];return t.map(function(n,a){return{x:J(e)?e[a]:e,y:n}})}var OX={line:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dot:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dash:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},smooth:function(r,e,t){return[["M",r-t,e],["A",t/2,t/2,0,1,1,r,e],["A",t/2,t/2,0,1,0,r+t,e]]},hv:function(r,e,t){return[["M",r-t-1,e-2.5],["L",r,e-2.5],["L",r,e+2.5],["L",r+t+1,e+2.5]]},vh:function(r,e,t){return[["M",r-t-1,e+2.5],["L",r,e+2.5],["L",r,e-2.5],["L",r+t+1,e-2.5]]},hvh:function(r,e,t){return[["M",r-(t+1),e+2.5],["L",r-t/2,e+2.5],["L",r-t/2,e-2.5],["L",r+t/2,e-2.5],["L",r+t/2,e+2.5],["L",r+t+1,e+2.5]]},vhv:function(r,e){return[["M",r-5,e+2.5],["L",r-5,e],["L",r,e],["L",r,e-3],["L",r,e+3],["L",r+6.5,e+3]]}};function gT(r,e){var t=r.color;return{symbol:OX[e],style:{lineWidth:2,r:6,stroke:t}}}function FX(r,e,t){for(var n=r.isStack,a=r.connectNulls,i=r.isInCircle,o=r.showSinglePoint,l=he(r,!0,!1,"lineWidth"),s=jf(r.points,a,o),u=[],c=0,f=s.length;c<f;c++){var h=s[c];u=u.concat(yT(h,i,n,e,t,l))}return l.path=u,l}function wv(r,e,t,n,a){if(r.length===1)return[["M",r[0].x,r[0].y-a.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+a.lineWidth/2]];var i;return t?(e&&r.length&&r.push({x:r[0].x,y:r[0].y}),i=Ac(r,!1,n)):(i=Es(r,!1),e&&i.push(["Z"])),i}function kX(r,e,t,n,a,i){var o=[],l=[];j(r,function(c){var f=ty(c);o.push(f[1]),l.push(f[0])});var s=wv(o,e,n,a,i),u=wv(l,e,n,a,i);return t?s:s.concat(u)}function yT(r,e,t,n,a,i){if(r.length){var o=r[0];return J(o.y)?kX(r,e,t,n,a,i):wv(r,e,n,a,i)}return[]}ka("line",{defaultShapeType:"line"});j(["line","dot","dash","smooth"],function(r){Bt("line",r,{draw:function(e,t){var n=r==="smooth",a;if(n){var i=this.coordinate,o=i.start,l=i.end;a=[[o.x,l.y],[l.x,o.y]]}var s=FX(e,n,a),u=t.addShape({type:"path",attrs:s,name:"line",capture:!n});return u},getMarker:function(e){return gT(e,r)}})});var or={getLegendItems:hT,translate:Is,rotate:Jg,zoom:wX,transform:Nf,getAngle:Zl,getSectorPath:va,polarToCartesian:de,getDelegationObject:yi,getTooltipItems:Ug,getMappingValue:bv,getPath:yT,getPathPoints:jf},Kn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Gt={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Hr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],PX=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],RX=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],LX=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?Hr:e,n=r.paletteQualitative20,a=n===void 0?PX:n,i=r.brandColor,o=i===void 0?t[0]:i,l={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:RX,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Gt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Gt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Kn[85],axisTickLineBorderColor:Gt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Gt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Gt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Gt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Gt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Hr[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Gt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Gt[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Gt[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Gt[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Gt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Gt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Kn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Kn[25],annotationArcBorderColor:Gt[15],annotationArcBorder:1,annotationLineBorderColor:Gt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Gt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Gt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Gt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Gt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Gt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Kn[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Gt[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Kn[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Gt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Hr[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Kn[100],pointBorderOpacity:1,pointActiveBorderColor:Gt[100],pointSelectedBorder:2,pointSelectedBorderColor:Gt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Hr[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Kn[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Gt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Gt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Hr[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Hr[0],areaFillOpacity:.25,areaActiveFillColor:Hr[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Hr[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Hr[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Gt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Gt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Hr[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Gt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Gt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Hr[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Kn[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Gt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Gt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return E(E({},l),r)},DX=LX();function _X(){return window?window.devicePixelRatio:1}function mT(r,e,t,n){var a=r-t,i=e-n;return Math.sqrt(a*a+i*i)}function Za(r,e,t,n,a,i){return a>=r&&a<=r+t&&i>=e&&i<=e+n}function es(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function BX(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function ww(r,e){return r[0]===e[0]&&r[1]===e[1]}var NX=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,$X=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,jX=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,xT=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function bT(r,e){var t=r.match(xT);j(t,function(n){var a=n.split(":");e.addColorStop(a[0],a[1])})}function VX(r,e,t){var n=NX.exec(t),a=parseFloat(n[1])%360*(Math.PI/180),i=n[2],o=e.getBBox(),l,s;a>=0&&a<1/2*Math.PI?(l={x:o.minX,y:o.minY},s={x:o.maxX,y:o.maxY}):1/2*Math.PI<=a&&a<Math.PI?(l={x:o.maxX,y:o.minY},s={x:o.minX,y:o.maxY}):Math.PI<=a&&a<3/2*Math.PI?(l={x:o.maxX,y:o.maxY},s={x:o.minX,y:o.minY}):(l={x:o.minX,y:o.maxY},s={x:o.maxX,y:o.minY});var u=Math.tan(a),c=u*u,f=(s.x-l.x+u*(s.y-l.y))/(c+1)+l.x,h=u*(s.x-l.x+u*(s.y-l.y))/(c+1)+l.y,d=r.createLinearGradient(l.x,l.y,f,h);return bT(i,d),d}function HX(r,e,t){var n=$X.exec(t),a=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),l=n[4];if(o===0){var s=l.match(xT);return s[s.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,f=u.maxY-u.minY,h=Math.sqrt(c*c+f*f)/2,d=r.createRadialGradient(u.minX+c*a,u.minY+f*i,0,u.minX+c/2,u.minY+f/2,o*h);return bT(l,d),d}function zX(r,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var n,a,i=jX.exec(t),o=i[1],l=i[2];function s(){n=r.createPattern(a,o),e.set("pattern",n),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return a=new Image,l.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=l,a.complete?s():(a.onload=s,a.src=a.src),n}function WX(r,e,t){var n=e.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(gt(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return VX(r,e,t);if(t[0]==="r")return HX(r,e,t);if(t[0]==="p")return zX(r,e,t)}return t}if(t instanceof CanvasPattern)return t}function GX(r){var e=0,t=0,n=0,a=0;return J(r)?r.length===1?e=t=n=a=r[0]:r.length===2?(e=n=r[0],t=a=r[1]):r.length===3?(e=r[0],t=a=r[1],n=r[2]):(e=r[0],t=r[1],n=r[2],a=r[3]):e=t=n=a=r,[e,t,n,a]}function hu(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Sv(r,e){return hu(r)*hu(e)?(r[0]*e[0]+r[1]*e[1])/(hu(r)*hu(e)):1}function Sw(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(Sv(r,e))}function Tc(r,e){var t=e[1],n=e[2],a=vg(gg(e[3]),Math.PI*2),i=e[4],o=e[5],l=r[0],s=r[1],u=e[6],c=e[7],f=Math.cos(a)*(l-u)/2+Math.sin(a)*(s-c)/2,h=-1*Math.sin(a)*(l-u)/2+Math.cos(a)*(s-c)/2,d=f*f/(t*t)+h*h/(n*n);d>1&&(t*=Math.sqrt(d),n*=Math.sqrt(d));var p=t*t*(h*h)+n*n*(f*f),v=p?Math.sqrt((t*t*(n*n)-p)/p):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*t*h/n:0,y=t?v*-n*f/t:0,m=(l+u)/2+Math.cos(a)*g-Math.sin(a)*y,b=(s+c)/2+Math.sin(a)*g+Math.cos(a)*y,x=[(f-g)/t,(h-y)/n],w=[(-1*f-g)/t,(-1*h-y)/n],S=Sw([1,0],x),C=Sw(x,w);return Sv(x,w)<=-1&&(C=Math.PI),Sv(x,w)>=1&&(C=0),o===0&&C>0&&(C=C-2*Math.PI),o===1&&C<0&&(C=C+2*Math.PI),{cx:m,cy:b,rx:ww(r,[u,c])?0:t,ry:ww(r,[u,c])?0:n,startAngle:S,endAngle:S+C,xRotation:a,arcFlag:i,sweepFlag:o}}var Ic=Math.sin,Mc=Math.cos,ey=Math.atan2,du=Math.PI;function wT(r,e,t,n,a,i,o){var l=e.stroke,s=e.lineWidth,u=t-a,c=n-i,f=ey(c,u),h=new oy({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Mc(du/6)+","+10*Ic(du/6)+" L0,0 L"+10*Mc(du/6)+",-"+10*Ic(du/6),stroke:l,lineWidth:s}});h.translate(a,i),h.rotateAtPoint(a,i,f),r.set(o?"startArrowShape":"endArrowShape",h)}function ST(r,e,t,n,a,i,o){var l=e.startArrow,s=e.endArrow,u=e.stroke,c=e.lineWidth,f=o?l:s,h=f.d,d=f.fill,p=f.stroke,v=f.lineWidth,g=Ht(f,["d","fill","stroke","lineWidth"]),y=t-a,m=n-i,b=ey(m,y);h&&(a=a-Mc(b)*h,i=i-Ic(b)*h);var x=new oy({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:E(E({},g),{stroke:p||u,lineWidth:v||c,fill:d})});x.translate(a,i),x.rotateAtPoint(a,i,b),r.set(o?"startArrowShape":"endArrowShape",x)}function si(r,e,t,n,a){var i=ey(n-e,t-r);return{dx:Mc(i)*a,dy:Ic(i)*a}}function ry(r,e,t,n,a,i){typeof e.startArrow=="object"?ST(r,e,t,n,a,i,!0):e.startArrow?wT(r,e,t,n,a,i,!0):r.set("startArrowShape",null)}function ny(r,e,t,n,a,i){typeof e.endArrow=="object"?ST(r,e,t,n,a,i,!1):e.endArrow?wT(r,e,t,n,a,i,!1):r.set("startArrowShape",null)}var Cw={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function mo(r,e){var t=e.attr();for(var n in t){var a=t[n],i=Cw[n]?Cw[n]:n;i==="matrix"&&a?r.transform(a[0],a[1],a[3],a[4],a[6],a[7]):i==="lineDash"&&r.setLineDash?J(a)&&r.setLineDash(a):(i==="strokeStyle"||i==="fillStyle"?a=WX(r,e,a):i==="globalAlpha"&&(a=a*r.globalAlpha),r[i]=a)}}function Cv(r,e,t){for(var n=0;n<e.length;n++){var a=e[n];a.cfg.visible?a.draw(r,t):a.skipDraw()}}function qX(r,e,t){var n=r.get("refreshElements");j(n,function(a){if(a!==r)for(var i=a.cfg.parent;i&&i!==r&&!i.cfg.refresh;)i.cfg.refresh=!0,i=i.cfg.parent}),n[0]===r?ay(e):Av(e,t)}function Av(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&ay(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&Av(n.cfg.children,e);else{var a=YX(n,e);n.cfg.refresh=a,a&&n.isGroup()&&Av(n.cfg.children,e)}}}function CT(r){for(var e=0;e<r.length;e++){var t=r[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&CT(t.cfg.children)}}function ay(r,e){for(var t=0;t<r.length;t++){var n=r[t];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&ay(n.get("children")))}}function YX(r,e){var t=r.cfg.cacheCanvasBBox,n=r.cfg.isInView&&t&&es(t,e);return n}function AT(r,e,t,n){var a=t.path,i=t.startArrow,o=t.endArrow;if(a){var l=[0,0],s=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<a.length;c++){var f=a[c],h=f[0];if(c===0&&i&&i.d){var d=r.getStartTangent();u=si(d[0][0],d[0][1],d[1][0],d[1][1],i.d)}else if(c===a.length-2&&a[c+1][0]==="Z"&&o&&o.d){var p=a[c+1];if(p[0]==="Z"){var d=r.getEndTangent();u=si(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}}else if(c===a.length-1&&o&&o.d&&a[0]!=="Z"){var d=r.getEndTangent();u=si(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}var v=u.dx,g=u.dy;switch(h){case"M":e.moveTo(f[1]-v,f[2]-g),s=[f[1],f[2]];break;case"L":e.lineTo(f[1]-v,f[2]-g);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-v,f[4]-g);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-v,f[6]-g);break;case"A":{var y=void 0;n?(y=n[c],y||(y=Tc(l,f),n[c]=y)):y=Tc(l,f);var m=y.cx,b=y.cy,x=y.rx,w=y.ry,S=y.startAngle,C=y.endAngle,T=y.xRotation,F=y.sweepFlag;if(e.ellipse)e.ellipse(m,b,x,w,T,S,C,1-F);else{var I=x>w?x:w,M=x>w?1:x/w,O=x>w?w/x:1;e.translate(m,b),e.rotate(T),e.scale(M,O),e.arc(0,0,I,S,C,1-F),e.scale(1/M,1/O),e.rotate(-T),e.translate(-m,-b)}break}case"Z":e.closePath();break}if(h==="Z")l=s;else{var k=f.length;l=[f[k-2],f[k-1]]}}}}function ET(r,e){var t=r.get("canvas");t&&(e==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(t.refreshElement(r,e,t),t.get("autoDraw")&&t.draw())))}function UX(r){var e;if(r.destroyed)e=r._cacheCanvasBBox;else{var t=r.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),a=r.getCanvasBBox(),i=a&&!!(a.width&&a.height);n&&i?e=BX(t,a):n?e=t:i&&(e=a)}return e}function XX(r){if(!r.length)return null;var e=[],t=[],n=[],a=[];return j(r,function(i){var o=UX(i);o&&(e.push(o.minX),t.push(o.minY),n.push(o.maxX),a.push(o.maxY))}),{minX:Lr(e),minY:Lr(t),maxX:yr(n),maxY:yr(a)}}function KX(r,e){return!r||!e||!es(r,e)?null:{minX:Math.max(r.minX,e.minX),minY:Math.max(r.minY,e.minY),maxX:Math.min(r.maxX,e.maxX),maxY:Math.min(r.maxY,e.maxY)}}var iy=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){ET(this,t)},e.prototype.getShapeBase=function(){return $c},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,n){n&&(t.save(),mo(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],a=[];j(t,function(h){var d=h.cfg.cacheCanvasBBox;d&&h.cfg.isInView&&(n.push(d.minX,d.maxX),a.push(d.minY,d.maxY))});var i=null;if(n.length){var o=Lr(n),l=yr(n),s=Lr(a),u=yr(a);i={minX:o,minY:s,x:o,y:s,maxX:l,maxY:u,width:l-o,height:u-s};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",es(i,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},e.prototype.draw=function(t,n){var a=this.cfg.children,i=n?this.cfg.refresh:!0;a.length&&i&&(t.save(),mo(t,this),this._applyClip(t,this.getClip()),Cv(t,a,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(pf),tn=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return $c},e.prototype.getGroupBase=function(){return iy},e.prototype.onCanvasChange=function(t){ET(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),a=gf(t),i=a(this),o=n/2,l=i.x-o,s=i.y-o,u=i.x+i.width+o,c=i.y+i.height+o;return{x:l,minX:l,y:s,minY:s,width:i.width+n,height:i.height+n,maxX:u,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,n){n&&(t.save(),mo(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.draw=function(t,n){var a=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var i=this.getCanvasBBox();if(!es(n,i)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),mo(t,this),this._applyClip(t,a),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),a=es(n,t);this.set("isInView",a),a?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,l=n.fillOpacity;this.isFill()&&(!Q(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=i):this.fill(t)),this.isStroke()&&a>0&&(!Q(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,n){var a=this.isStroke(),i=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,a,i,o)},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(vf),ZX=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=l.x,u=l.y,c=l.r,f=o/2,h=mT(s,u,t,n);return i&&a?h<=c+f:i?h<=c:a?h>=c-f&&h<=c+f:!1},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.r;t.beginPath(),t.arc(a,i,o,0,Math.PI*2,!1),t.closePath()},e}(tn);function pu(r,e,t,n){return r/(t*t)+e/(n*n)}var QX=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=o/2,u=l.x,c=l.y,f=l.rx,h=l.ry,d=(t-u)*(t-u),p=(n-c)*(n-c);return i&&a?pu(d,p,f+s,h+s)<=1:i?pu(d,p,f,h)<=1:a?pu(d,p,f-s,h-s)>=1&&pu(d,p,f+s,h+s)<=1:!1},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.rx,l=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(a,i,o,l,0,0,Math.PI*2,!1);else{var s=o>l?o:l,u=o>l?1:o/l,c=o>l?l/o:1;t.save(),t.translate(a,i),t.scale(u,c),t.arc(0,0,s,0,Math.PI*2),t.restore(),t.closePath()}},e}(tn);function Aw(r){return r instanceof HTMLElement&&gt(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var JX=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var n=this,a=this.attrs;if(gt(t)){var i=new Image;i.onload=function(){if(n.destroyed)return!1;n.attr("img",i),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(a.width||(a.width=t.width),a.height||(a.height=t.height)):Aw(t)&&(a.width||(a.width=Number(t.getAttribute("width"))),a.height||(a.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t==="img"&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),a=n.x,i=n.y,o=n.width,l=n.height,s=n.sx,u=n.sy,c=n.swidth,f=n.sheight,h=n.img;(h instanceof Image||Aw(h))&&(!Q(s)&&!Q(u)&&!Q(c)&&!Q(f)?t.drawImage(h,s,u,c,f,a,i,o,l):t.drawImage(h,a,i,o,l))},e}(tn);function ca(r,e,t,n,a,i,o){var l=Math.min(r,t),s=Math.max(r,t),u=Math.min(e,n),c=Math.max(e,n),f=a/2;return i>=l-f&&i<=s+f&&o>=u-f&&o<=c+f?De.pointToLine(r,e,t,n,i,o)<=a/2:!1}var t7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.startArrow,s=t.endArrow;l&&ry(this,t,i,o,n,a),s&&ny(this,t,n,a,i,o)},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var l=this.attr(),s=l.x1,u=l.y1,c=l.x2,f=l.y2;return ca(s,u,c,f,o,t,n)},e.prototype.createPath=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2,s=n.startArrow,u=n.endArrow,c={dx:0,dy:0},f={dx:0,dy:0};s&&s.d&&(c=si(a,i,o,l,n.startArrow.d)),u&&u.d&&(f=si(a,i,o,l,n.endArrow.d)),t.beginPath(),t.moveTo(a+c.dx,i+c.dy),t.lineTo(o-f.dx,l-f.dy)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return De.length(n,a,i,o)},e.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2;return De.pointAt(a,i,o,l,t)},e}(tn),e7={circle:function(r,e,t){return[["M",r-t,e],["A",t,t,0,1,0,r+t,e],["A",t,t,0,1,0,r-t,e]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e+n],["L",r,e-n],["L",r+t,e+n],["Z"]]},"triangle-down":function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e-n],["L",r+t,e-n],["L",r,e+n],["Z"]]}},r7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Q(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.symbol||"circle",o=this._getR(t),l,s;if(ut(i))l=i,s=l(n,a,o),s=RA(s);else{if(l=e.Symbols[i],!l)return console.warn(i+" marker is not supported."),null;s=l(n,a,o)}return s},e.prototype.createPath=function(t){var n=this._getPath(),a=this.get("paramsCache");AT(this,t,{path:n},a)},e.Symbols=e7,e}(tn);function TT(r,e,t){var n=mf();return r.createPath(n),n.isPointInPath(e,t)}var n7=1e-6;function md(r){return Math.abs(r)<n7?0:r<0?-1:1}function a7(r,e,t){return(t[0]-r[0])*(e[1]-r[1])===(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function IT(r,e,t){var n=!1,a=r.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=r[i],l=r[(i+1)%a];if(a7(o,l,[e,t]))return!0;md(o[1]-t)>0!=md(l[1]-t)>0&&md(e-(t-o[1])*(o[0]-l[0])/(o[1]-l[1])-o[0])<0&&(n=!n)}return n}function hl(r,e,t,n,a,i,o,l){var s=(Math.atan2(l-e,o-r)+Math.PI*2)%(Math.PI*2);if(s<n||s>a)return!1;var u={x:r+t*Math.cos(s),y:e+t*Math.sin(s)};return mT(u.x,u.y,o,l)<=i/2}var i7=be;function o7(r){for(var e=!1,t=r.length,n=0;n<t;n++){var a=r[n],i=a[0];if(i==="C"||i==="A"||i==="Q"){e=!0;break}}return e}function l7(r,e,t,n,a){for(var i=!1,o=e/2,l=0;l<r.length;l++){var s=r[l],u=s.currentPoint,c=s.params,f=s.prePoint,h=s.box;if(!(h&&!Za(h.x-o,h.y-o,h.width+e,h.height+e,t,n))){switch(s.command){case"L":case"Z":i=ca(f[0],f[1],u[0],u[1],e,t,n);break;case"Q":var d=MA.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],t,n);i=d<=e/2;break;case"C":var p=Sl.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],t,n,a);i=p<=e/2;break;case"A":var v=s.arcParams,g=v.cx,y=v.cy,m=v.rx,b=v.ry,x=v.startAngle,w=v.endAngle,S=v.xRotation,C=[t,n,1],T=m>b?m:b,F=m>b?1:m/b,I=m>b?b/m:1,M=i7(null,[["t",-g,-y],["r",-S],["s",1/F,1/I]]);Vl(C,C,M),i=hl(0,0,T,x,w,e,C[0],C[1]);break}if(i)break}}return i}function s7(r){for(var e=r.length,t=[],n=[],a=[],i=0;i<e;i++){var o=r[i],l=o[0];l==="M"?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):l==="Z"?a.length&&(t.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:t,polylines:n}}const vu=E({hasArc:o7,extractPolygons:s7,isPointInStroke:l7},wg);function Ew(r,e,t){for(var n=!1,a=0;a<r.length;a++){var i=r[a];if(n=IT(i,e,t),n)break}return n}var oy=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t==="path"&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=RA(t);var n=vu.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=LA(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,a=t.endArrow;if(n){var i=this.getStartTangent();ry(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(a){var i=this.getEndTangent();ny(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.getSegments(),s=this.get("hasArc"),u=!1;if(a){var c=this.getTotalLength();u=vu.isPointInStroke(l,o,t,n,c)}if(!u&&i)if(s)u=TT(this,t,n);else{var f=this.attr("path"),h=vu.extractPolygons(f);u=Ew(h.polygons,t,n)||Ew(h.polylines,t,n)}return u},e.prototype.createPath=function(t){var n=this.attr(),a=this.get("paramsCache");AT(this,t,n,a)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Q(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a,i,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;j(n,function(c,f){t>=c[0]&&t<=c[1]&&(a=(t-c[0])/(c[1]-c[0]),i=f)});var l=o[i];if(Q(l)||Q(i))return null;var s=l.length,u=o[i+1];return Sl.pointAt(l[s-2],l[s-1],u[1],u[2],u[3],u[4],u[5],u[6],a)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",vu.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,n=0,a=[],i,o,l,s,u=this.get("curve");if(u){if(j(u,function(c,f){l=u[f+1],s=c.length,l&&(t+=Sl.length(c[s-2],c[s-1],l[1],l[2],l[3],l[4],l[5],l[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}j(u,function(c,f){l=u[f+1],s=c.length,l&&(i=[],i[0]=n/t,o=Sl.length(c[s-2],c[s-1],l[1],l[2],l[3],l[4],l[5],l[6]),n+=o||0,i[1]=n/t,a.push(i))}),this.set("tCache",a)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var a=t[0].currentPoint,i=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([a[0]-o[0],a[1]-o[1]]),n.push([a[0],a[1]])):(n.push([i[0],i[1]]),n.push([a[0],a[1]]))}return n},e.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,a;if(n>1){var i=t[n-2].currentPoint,o=t[n-1].currentPoint,l=t[n-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([i[0],i[1]]),a.push([o[0],o[1]]))}return a},e}(tn);function MT(r,e,t,n,a){var i=r.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var l=r[o][0],s=r[o][1],u=r[o+1][0],c=r[o+1][1];if(ca(l,s,u,c,e,t,n))return!0}if(a){var f=r[0],h=r[i-1];if(ca(f[0],f[1],h[0],h[1],e,t,n))return!0}return!1}var u7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr().points,s=!1;return a&&(s=MT(l,o,t,n,!0)),!s&&i&&(s=IT(l,t,n)),s},e.prototype.createPath=function(t){var n=this.attr(),a=n.points;if(!(a.length<2)){t.beginPath();for(var i=0;i<a.length;i++){var o=a[i];i===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(tn),c7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,a=n.points,i=n.startArrow,o=n.endArrow,l=a.length,s=a[0][0],u=a[0][1],c=a[l-1][0],f=a[l-1][1];i&&ry(this,t,a[1][0],a[1][1],s,u),o&&ny(this,t,a[l-2][0],a[l-2][1],c,f)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var l=this.attr().points;return MT(l,o,t,n,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var n=this.attr(),a=n.points,i=n.startArrow,o=n.endArrow,l=a.length;if(!(a.length<2)){var s=a[0][0],u=a[0][1],c=a[l-1][0],f=a[l-1][1];if(i&&i.d){var h=si(s,u,a[1][0],a[1][1],i.d);s+=h.dx,u+=h.dy}if(o&&o.d){var h=si(a[l-2][0],a[l-2][1],c,f,o.d);c-=h.dx,f-=h.dy}t.beginPath(),t.moveTo(s,u);for(var d=0;d<l-1;d++){var p=a[d];t.lineTo(p[0],p[1])}t.lineTo(c,f)}},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return Q(n)?(this.set("totalLength",kA.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return j(a,function(l,s){t>=l[0]&&t<=l[1]&&(i=(t-l[0])/(l[1]-l[0]),o=s)}),De.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,l;j(t,function(s,u){t[u+1]&&(o=[],o[0]=a/n,l=De.length(s[0],s[1],t[u+1][0],t[u+1][1]),a+=l,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},e}(tn);function f7(r,e,t,n,a,i,o){var l=a/2;return Za(r-l,e-l,t,a,i,o)||Za(r+t-l,e-l,a,n,i,o)||Za(r+l,e+n-l,t,a,i,o)||Za(r-l,e+l,a,n,i,o)}function h7(r,e,t,n,a,i,o,l){return ca(r+a,e,r+t-a,e,i,o,l)||ca(r+t,e+a,r+t,e+n-a,i,o,l)||ca(r+t-a,e+n,r+a,e+n,i,o,l)||ca(r,e+n-a,r,e+a,i,o,l)||hl(r+t-a,e+a,a,1.5*Math.PI,2*Math.PI,i,o,l)||hl(r+t-a,e+n-a,a,0,.5*Math.PI,i,o,l)||hl(r+a,e+n-a,a,.5*Math.PI,Math.PI,i,o,l)||hl(r+a,e+a,a,Math.PI,1.5*Math.PI,i,o,l)}var d7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=l.x,u=l.y,c=l.width,f=l.height,h=l.radius;if(h){var p=!1;return a&&(p=h7(s,u,c,f,h,o,t,n)),!p&&i&&(p=TT(this,t,n)),p}else{var d=o/2;if(i&&a)return Za(s-d,u-d,c+d,f+d,t,n);if(i)return Za(s,u,c,f,t,n);if(a)return f7(s,u,c,f,o,t,n)}},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.width,l=n.height,s=n.radius;if(t.beginPath(),s===0)t.rect(a,i,o,l);else{var u=GX(s),c=u[0],f=u[1],h=u[2],d=u[3];t.moveTo(a+c,i),t.lineTo(a+o-f,i),f!==0&&t.arc(a+o-f,i+f,f,-Math.PI/2,0),t.lineTo(a+o,i+l-h),h!==0&&t.arc(a+o-h,i+l-h,h,0,Math.PI/2),t.lineTo(a+d,i+l),d!==0&&t.arc(a+d,i+l-d,d,Math.PI/2,Math.PI),t.lineTo(a,i+c),c!==0&&t.arc(a+c,i+c,c,Math.PI,Math.PI*1.5),t.closePath()}},e}(tn),p7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=bf(t)},e.prototype._setText=function(t){var n=null;gt(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,a=t.fontSize*1;return n?n-a:a*.14},e.prototype._drawTextArr=function(t,n,a){var i=this.attrs,o=i.textBaseline,l=i.x,s=i.y,u=i.fontSize*1,c=this._getSpaceingY(),f=xf(i.text,i.fontSize,i.lineHeight),h;j(n,function(d,p){h=s+p*(c+u)-f+u,o==="middle"&&(h+=f-u-(f-u)/2),o==="top"&&(h+=f-u),Q(d)||(a?t.fillText(d,l,h):t.strokeText(d,l,h))})},e.prototype._drawText=function(t,n){var a=this.attr(),i=a.x,o=a.y,l=this.get("textArr");if(l)this._drawTextArr(t,l,n);else{var s=a.text;Q(s)||(n?t.fillText(s,i,o):t.strokeText(s,i,o))}},e.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,l=n.fillOpacity;this.isStroke()&&a>0&&(!Q(o)&&o!==1&&(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(!Q(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=i):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(tn);function v7(r,e){if(e){var t=ff(e);return Pn(t,r)}return r}function OT(r,e,t){var n=r.getTotalMatrix();if(n){var a=v7([e,t,1],n),i=a[0],o=a[1];return[i,o]}return[e,t]}function Tw(r,e,t){if(r.isCanvas&&r.isCanvas())return!0;if(!jl(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var n=OT(r,e,t),a=n[0],i=n[1];if(r.isClipped(a,i))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function FT(r,e,t){if(!Tw(r,e,t))return null;for(var n=null,a=r.getChildren(),i=a.length,o=i-1;o>=0;o--){var l=a[o];if(l.isGroup())n=FT(l,e,t);else if(Tw(l,e,t)){var s=l,u=OT(l,e,t),c=u[0],f=u[1];s.isInShape(c,f)&&(n=l)}if(n)break}return n}var g7=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return $c},e.prototype.getGroupBase=function(){return iy},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||_X();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},e.prototype.setDOMSize=function(t,n){r.prototype.setDOMSize.call(this,t,n);var a=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&a.scale(o,o)},e.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(t,n){var a;return this.get("quickHit")?a=FT(this,t,n):a=r.prototype.getShape.call(this,t,n,null),a},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),a;if(t.length&&t[0]===this)a=n;else if(a=XX(t),a){a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1;var i=this.get("clipView");i&&(a=KX(a,n))}return a},e.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(s8(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),a=this.getChildren();t.clearRect(0,0,n.width,n.height),mo(t,this),Cv(t,a),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),a=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),mo(t,this),qX(this,a,i),Cv(t,a,i),t.restore()):n.length&&CT(n),j(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,n=this.get("drawFrame"),a=this.get("drawFrameCallback");n||(n=l8(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),a&&a()}),this.set("drawFrame",n))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(df),y7="0.5.12";const m7=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:df,AbstractGroup:pf,AbstractShape:vf,Base:uf,Canvas:g7,Event:bs,Group:iy,PathUtil:wg,Shape:$c,assembleFont:bf,getArcParams:Tc,getBBoxMethod:gf,getOffScreenContext:mf,getTextHeight:xf,invert:ff,isAllowCapture:jl,multiplyVec2:Pn,registerBBox:Br,registerEasing:SA,version:y7},Symbol.toStringTag,{value:"Module"}));var Ev={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Rt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Dr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function kT(r){var e=Ev[r.type],t=r.getParent();if(!e)throw new Error("the type "+r.type+" is not supported by svg");var n=Dr(e);if(r.get("id")&&(n.id=r.get("id")),r.set("el",n),r.set("attrs",{}),t){var a=t.get("el");a||(a=t.createDom(),t.set("el",a)),a.appendChild(n)}return n}function PT(r,e){var t=r.get("el"),n=p8(t.children).sort(e),a=document.createDocumentFragment();n.forEach(function(i){a.appendChild(i)}),t.appendChild(a)}function x7(r,e){var t=r.parentNode,n=Array.from(t.childNodes).filter(function(l){return l.nodeType===1&&l.nodeName.toLowerCase()!=="defs"}),a=n[e],i=n.indexOf(r);if(a){if(i>e)t.insertBefore(r,a);else if(i<e){var o=n[e+1];o?t.insertBefore(r,o):t.appendChild(r)}}else t.appendChild(r)}function b7(r,e){var t=r.cfg.el,n=r.attr(),a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!a.dx&&!a.dy&&!a.blur&&!a.color)t.removeAttribute("filter");else{var i=e.find("filter",a);i||(i=e.addShadow(a)),t.setAttribute("filter","url(#"+i+")")}}function Ms(r){var e=r.attr().matrix;if(e){for(var t=r.cfg.el,n=[],a=0;a<9;a+=3)n.push(e[a]+","+e[a+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function rs(r,e){var t=r.getClip(),n=r.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){kT(t),t.createPath(e);var a=e.addClip(t);n.setAttribute("clip-path","url(#"+a+")")}}function RT(r,e){e.forEach(function(t){t.draw(r)})}function LT(r,e){var t=r.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),a=r.getParent(),i=a?a.getChildren():[t],o=r.get("el");if(e==="remove"){var l=r.get("isClipShape");if(l){var s=o&&o.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")x7(o,i.indexOf(r));else if(e==="sort"){var c=r.get("children");c&&c.length&&PT(r,function(f,h){return c.indexOf(f)-c.indexOf(h)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?Ms(r):e==="clip"?rs(r,n):e==="attr"||e==="add"&&r.draw(n)}}var ly=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Dr("g");this.set("el",t);var n=this.getParent();if(n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.createPath(a,t)}},e.prototype.onCanvasChange=function(t){LT(this,t)},e.prototype.getShapeBase=function(){return jc},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var n=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),rs(this,t),this.createPath(t),n.length&&RT(t,n))},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){Rt[l]&&i.setAttribute(Rt[l],o)}),Ms(this)},e}(pf),Nr=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.draw(a,t)}},e.prototype.getShapeBase=function(){return jc},e.prototype.getGroupBase=function(){return ly},e.prototype.onCanvasChange=function(t){LT(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var a=gf(this.get("type"));a&&(n=a(this))}if(n){var i=n.x,o=n.y,l=n.width,s=n.height,u=this.getHitLineWidth(),c=u/2,f=i-c,h=o-c,d=i+l+c,p=o+s+c;return{x:f,y:h,minX:f,minY:h,maxX:d,maxY:p,width:l+u,height:s+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),n=t.fill,a=t.fillStyle;return(n||a||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,a=t.strokeStyle;return(n||a)&&this.canStroke},e.prototype.draw=function(t,n){var a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||kT(this),rs(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},e.prototype.createPath=function(t,n){},e.prototype.strokeAndFill=function(t,n){var a=n||this.attr(),i=a.fill,o=a.fillStyle,l=a.stroke,s=a.strokeStyle,u=a.fillOpacity,c=a.strokeOpacity,f=a.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in a?this._setColor(t,"fill",i):"fillStyle"in a&&this._setColor(t,"fill",o):this._setColor(t,"fill",i||o),u&&h.setAttribute(Rt.fillOpacity,u)),this.canStroke&&f>0&&(n?"stroke"in a?this._setColor(t,"stroke",l):"strokeStyle"in a&&this._setColor(t,"stroke",s):this._setColor(t,"stroke",l||s),c&&h.setAttribute(Rt.strokeOpacity,c),f&&h.setAttribute(Rt.lineWidth,f))},e.prototype._setColor=function(t,n,a){var i=this.get("el");if(!a){i.setAttribute(Rt[n],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=t.find("gradient",a);o||(o=t.addGradient(a)),i.setAttribute(Rt[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var o=t.find("pattern",a);o||(o=t.addPattern(a)),i.setAttribute(Rt[n],"url(#"+o+")")}else i.setAttribute(Rt[n],a)},e.prototype.shadow=function(t,n){var a=this.attr(),i=n||a,o=i.shadowOffsetX,l=i.shadowOffsetY,s=i.shadowBlur,u=i.shadowColor;(o||l||s||u)&&b7(this,t)},e.prototype.transform=function(t){var n=this.attr(),a=(t||n).matrix;a&&Ms(this)},e.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},e.prototype.isPointInPath=function(t,n){var a=this.get("el"),i=this.get("canvas"),o=i.get("el").getBoundingClientRect(),l=t+o.left,s=n+o.top,u=document.elementFromPoint(l,s);return!!(u&&u.isEqualNode(a))},e.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,a=t.lineAppendWidth;return this.isStroke()?n+a:0},e}(vf),w7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){l==="x"||l==="y"?i.setAttribute("c"+l,o):Rt[l]&&i.setAttribute(Rt[l],o)})},e}(Nr),S7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");if(j(n||a,function(u,c){Rt[c]&&i.setAttribute(Rt[c],u)}),typeof a.html=="function"){var o=a.html.call(this,a);if(o instanceof Element||o instanceof HTMLDocument){for(var l=i.childNodes,s=l.length-1;s>=0;s--)i.removeChild(l[s]);i.appendChild(o)}else i.innerHTML=o}else i.innerHTML=a.html},e}(Nr),C7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){l==="x"||l==="y"?i.setAttribute("c"+l,o):Rt[l]&&i.setAttribute(Rt[l],o)})},e}(Nr),A7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");j(n||i,function(l,s){s==="img"?a._setImage(i.img):Rt[s]&&o.setAttribute(Rt[s],l)})},e.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},e.prototype._setImage=function(t){var n=this.attr(),a=this.get("el");if(gt(t))a.setAttribute("href",t);else if(t instanceof window.Image)n.width||(a.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",t.height),this.attr("height",t.height)),a.setAttribute("href",t.src);else if(t instanceof HTMLElement&&gt(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),n.width||(a.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",""+t.height),this.attr("height",t.height)),a.setAttribute("href",i.toDataURL())}},e}(Nr),E7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){if(l==="startArrow"||l==="endArrow")if(o){var s=jt(o)?t.addArrow(a,Rt[l]):t.getDefaultArrow(a,Rt[l]);i.setAttribute(Rt[l],"url(#"+s+")")}else i.removeAttribute(Rt[l]);else Rt[l]&&i.setAttribute(Rt[l],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return De.length(n,a,i,o)},e.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2;return De.pointAt(a,i,o,l,t)},e}(Nr),gu={circle:function(r,e,t){return[["M",r,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e+n],["L",r,e-n],["L",r+t,e+n],["z"]]},triangleDown:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e-n],["L",r+t,e-n],["L",r,e+n],["Z"]]}};const Iw={get:function(r){return gu[r]},register:function(r,e){gu[r]=e},remove:function(r){delete gu[r]},getAll:function(){return gu}};var T7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return J(t)?t.map(function(n){return n.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.r||t.radius,o=t.symbol||"circle",l;return ut(o)?l=o:l=Iw.get(o),l?l(n,a,i):(console.warn(l+" symbol is not exist."),null)},e.symbolsFactory=Iw,e}(Nr),I7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");j(n||i,function(l,s){if(s==="path"&&J(l))o.setAttribute("d",a._formatPath(l));else if(s==="startArrow"||s==="endArrow")if(l){var u=jt(l)?t.addArrow(i,Rt[s]):t.getDefaultArrow(i,Rt[s]);o.setAttribute(Rt[s],"url(#"+u+")")}else o.removeAttribute(Rt[s]);else Rt[s]&&o.setAttribute(Rt[s],l)})},e.prototype._formatPath=function(t){var n=t.map(function(a){return a.join(" ")}).join("");return~n.indexOf("NaN")?"":n},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var n=this.get("el"),a=this.getTotalLength();if(a===0)return null;var i=n?n.getPointAtLength(t*a):null;return i?{x:i.x,y:i.y}:null},e}(Nr),M7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){l==="points"&&J(o)&&o.length>=2?i.setAttribute("points",o.map(function(s){return s[0]+","+s[1]}).join(" ")):Rt[l]&&i.setAttribute(Rt[l],o)})},e}(Nr),O7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");j(n||a,function(o,l){l==="points"&&J(o)&&o.length>=2?i.setAttribute("points",o.map(function(s){return s[0]+","+s[1]}).join(" ")):Rt[l]&&i.setAttribute(Rt[l],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return Q(n)?(this.set("totalLength",kA.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return j(a,function(l,s){t>=l[0]&&t<=l[1]&&(i=(t-l[0])/(l[1]-l[0]),o=s)}),De.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,l;j(t,function(s,u){t[u+1]&&(o=[],o[0]=a/n,l=De.length(s[0],s[1],t[u+1][0],t[u+1][1]),a+=l,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},e}(Nr);function F7(r){var e=0,t=0,n=0,a=0;return J(r)?r.length===1?e=t=n=a=r[0]:r.length===2?(e=n=r[0],t=a=r[1]):r.length===3?(e=r[0],t=a=r[1],n=r[2]):(e=r[0],t=r[1],n=r[2],a=r[3]):e=t=n=a=r,{r1:e,r2:t,r3:n,r4:a}}var k7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el"),l=!1,s=["x","y","width","height","radius"];j(n||i,function(u,c){s.indexOf(c)!==-1&&!l?(o.setAttribute("d",a._assembleRect(i)),l=!0):s.indexOf(c)===-1&&Rt[c]&&o.setAttribute(Rt[c],u)})},e.prototype._assembleRect=function(t){var n=t.x,a=t.y,i=t.width,o=t.height,l=t.radius;if(!l)return"M "+n+","+a+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var s=F7(l);J(l)?l.length===1?s.r1=s.r2=s.r3=s.r4=l[0]:l.length===2?(s.r1=s.r3=l[0],s.r2=s.r4=l[1]):l.length===3?(s.r1=l[0],s.r2=s.r4=l[1],s.r3=l[2]):(s.r1=l[0],s.r2=l[1],s.r3=l[2],s.r4=l[3]):s.r1=s.r2=s.r3=s.r4=l;var u=[["M "+(n+s.r1)+","+a],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(o-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-o)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]];return u.join(" ")},e}(Nr),Mw=.3,P7={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},R7={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},L7={left:"left",start:"left",center:"middle",right:"end",end:"end"},D7=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return E(E({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");this._setFont(),j(n||i,function(l,s){s==="text"?a._setText(""+l):s==="matrix"&&l?Ms(a):Rt[s]&&o.setAttribute(Rt[s],l)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),a=n.textBaseline,i=n.textAlign,o=eA();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",R7[a]||"alphabetic"):t.setAttribute("alignment-baseline",P7[a]||"baseline"),t.setAttribute("text-anchor",L7[i]||"left")},e.prototype._setText=function(t){var n=this.get("el"),a=this.attr(),i=a.x,o=a.textBaseline,l=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var s=t.split(`
`),u=s.length-1,c="";j(s,function(f,h){h===0?l==="alphabetic"?c+='<tspan x="'+i+'" dy="'+-u+'em">'+f+"</tspan>":l==="top"?c+='<tspan x="'+i+'" dy="0.9em">'+f+"</tspan>":l==="middle"?c+='<tspan x="'+i+'" dy="'+-(u-1)/2+'em">'+f+"</tspan>":l==="bottom"?c+='<tspan x="'+i+'" dy="-'+(u+Mw)+'em">'+f+"</tspan>":l==="hanging"&&(c+='<tspan x="'+i+'" dy="'+(-(u-1)-Mw)+'em">'+f+"</tspan>"):c+='<tspan x="'+i+'" dy="1em">'+f+"</tspan>"}),n.innerHTML=c}else n.innerHTML=t},e}(Nr),_7=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,B7=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,N7=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function DT(r){var e=r.match(N7);if(!e)return"";var t="";return e.sort(function(n,a){return n=n.split(":"),a=a.split(":"),Number(n[0])-Number(a[0])}),j(e,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function $7(r,e){var t=_7.exec(r),n=vg(gg(parseFloat(t[1])),Math.PI*2),a=t[2],i,o;n>=0&&n<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var l=Math.tan(n),s=l*l,u=(o.x-i.x+l*(o.y-i.y))/(s+1)+i.x,c=l*(o.x-i.x+l*(o.y-i.y))/(s+1)+i.y;e.setAttribute("x1",i.x),e.setAttribute("y1",i.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=DT(a)}function j7(r,e){var t=B7.exec(r),n=parseFloat(t[1]),a=parseFloat(t[2]),i=parseFloat(t[3]),o=t[4];e.setAttribute("cx",n),e.setAttribute("cy",a),e.setAttribute("r",i),e.innerHTML=DT(o)}var V7=function(){function r(e){this.cfg={};var t=null,n=Fa("gradient_");return e.toLowerCase()[0]==="l"?(t=Dr("linearGradient"),$7(e,t)):(t=Dr("radialGradient"),j7(e,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),H7={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},z7={x:"-40%",y:"-40%",width:"200%",height:"200%"},W7=function(){function r(e){this.type="filter",this.cfg={},this.type="filter";var t=Dr("filter");return j(z7,function(n,a){t.setAttribute(a,n)}),this.el=t,this.id=Fa("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return r.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,a=this.cfg;return j(Object.keys(a),function(i){if(a[i]!==t[i])return n=!1,!1}),n},r.prototype.update=function(e,t){var n=this.cfg;return n[H7[e]]=t,this._parseShadow(n,this.el),this},r.prototype._parseShadow=function(e,t){var n=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=n},r}(),Ow=function(){function r(e,t){this.cfg={};var n=Dr("marker"),a=Fa("marker_");n.setAttribute("id",a);var i=Dr("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=a;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},r.prototype._setMarker=function(e,t){var n=this.el,a=this.cfg.path,i=this.cfg.d;J(a)&&(a=a.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",a),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},r.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},r}(),G7=function(){function r(e){this.type="clip",this.cfg={};var t=Dr("clipPath");this.el=t,this.id=Fa("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},r}(),q7=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Y7=function(){function r(e){this.cfg={};var t=Dr("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Dr("image");t.appendChild(n);var a=Fa("pattern_");t.id=a,this.el=t,this.id=a,this.cfg=e;var i=q7.exec(e),o=i[2];n.setAttribute("href",o);var l=new Image;o.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=o;function s(){t.setAttribute("width",""+l.width),t.setAttribute("height",""+l.height)}return l.complete?s():(l.onload=s,l.src=l.src),this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),U7=function(){function r(e){var t=Dr("defs"),n=Fa("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return r.prototype.find=function(e,t){for(var n=this.children,a=null,i=0;i<n.length;i++)if(n[i].match(e,t)){a=n[i].id;break}return a},r.prototype.findById=function(e){for(var t=this.children,n=null,a=0;a<t.length;a++)if(t[a].id===e){n=t[a];break}return n},r.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},r.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new Ow(e,t);return this.defaultArrow[n]=a,this.el.appendChild(a.el),this.add(a),a.id},r.prototype.addGradient=function(e){var t=new V7(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addArrow=function(e,t){var n=new Ow(e,t);return this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addShadow=function(e){var t=new W7(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addPattern=function(e){var t=new Y7(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addClip=function(e){var t=new G7(e);return this.el.appendChild(t.el),this.add(t),t.id},r}(),X7=function(r){U(e,r);function e(t){return r.call(this,E(E({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return jc},e.prototype.getGroupBase=function(){return ly},e.prototype.getShape=function(t,n,a){var i=a.target||a.srcElement;if(!Ev[i.tagName]){for(var o=i.parentNode;o&&!Ev[o.tagName];)o=o.parentNode;i=o}return this.find(function(l){return l.get("el")===i})},e.prototype.createDom=function(){var t=Dr("svg"),n=new U7(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},e.prototype.onCanvasChange=function(t){var n=this.get("context"),a=this.get("el");if(t==="sort"){var i=this.get("children");i&&i.length&&PT(this,function(l,s){return i.indexOf(l)-i.indexOf(s)?1:0})}else if(t==="clear"){if(a){a.innerHTML="";var o=n.el;o.innerHTML="",a.appendChild(o)}}else t==="matrix"?Ms(this):t==="clip"?rs(this,n):t==="changeSize"&&(a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();rs(this,t),n.length&&RT(t,n)},e}(df),K7="0.5.6";const Z7=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:df,AbstractGroup:pf,AbstractShape:vf,Base:uf,Canvas:X7,Event:bs,Group:ly,PathUtil:wg,Shape:jc,assembleFont:bf,getBBoxMethod:gf,getOffScreenContext:mf,getTextHeight:xf,invert:ff,isAllowCapture:jl,multiplyVec2:Pn,registerBBox:Br,registerEasing:SA,version:K7},Symbol.toStringTag,{value:"Module"}));var sy=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.type="path",n.shapeType="line";var a=t.connectNulls,i=a===void 0?!1:a,o=t.showSinglePoint,l=o===void 0?!0:o;return n.connectNulls=i,n.showSinglePoint=l,n}return e.prototype.updateElements=function(t,n){var a,i,o,l,s,u;n===void 0&&(n=!1);for(var c=new Map,f=new Map,h=[],d=0,p=0;p<t.length;p++){var v=t[p],g=this.getElementId(v);h.push(g),c.set(g,v),f.set(g,d),d++}this.elements=new Array(d);var y=sT(this.lastElementsMap,h),m=y.added,b=y.updated,x=y.removed;try{for(var w=_t(m),S=w.next();!S.done;S=w.next()){var g=S.value,v=c.get(g),C=this.getShapeFactory(),T=this.getShapeInfo(v),p=f.get(g),F=new aT({shapeFactory:C,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:p});F.geometry=this,F.animate=this.animateOption,F.draw(T,n),this.elementsMap[g]=F,this.elements[p]=F}}catch(N){a={error:N}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(a)throw a.error}}try{for(var I=_t(b),M=I.next();!M.done;M=I.next()){var g=M.value,v=c.get(g),F=this.lastElementsMap[g],p=f.get(g),T=this.getShapeInfo(v),O=F.getModel();(this.isCoordinateChanged||lT(O,T))&&(F.animate=this.animateOption,F.update(T)),this.elementsMap[g]=F,this.elements[p]=F}}catch(N){o={error:N}}finally{try{M&&!M.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}try{for(var k=_t(x),L=k.next();!L.done;L=k.next()){var g=L.value,F=this.lastElementsMap[g];F.animate=this.animateOption,F.destroy()}}catch(N){s={error:N}}finally{try{L&&!L.done&&(u=k.return)&&u.call(k)}finally{if(s)throw s.error}}},e.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var l=t[i];n.push({x:l.x,y:l.y}),a.push(l[qt])}return{points:n,data:a}},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=this.getPointsAndData(t),i=a.points,o=a.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=i,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},e}(Pa);function Q7(r,e,t,n,a){var i=[];if(r.length){for(var o=[],l=[],s=0,u=r.length;s<u;s++){var c=r[s];o.push(c[1]),l.push(c[0])}l=l.reverse(),j([o,l],function(f,h){var d=[],p=n.parsePoints(f),v=p[0];o.length===1&&l.length===1?d=h===0?[["M",v.x-.5,v.y],["L",v.x+.5,v.y]]:[["L",v.x+.5,v.y],["L",v.x-.5,v.y]]:(e&&p.push({x:v.x,y:v.y}),t?d=Ac(p,!1,a):d=Es(p,!1),h>0&&(d[0][0]="L")),i=i.concat(d)}),i.push(["Z"])}return i}function Vf(r,e,t,n,a){for(var i=he(r,e,!e,"lineWidth"),o=r.connectNulls,l=r.isInCircle,s=r.points,u=r.showSinglePoint,c=jf(s,o,u),f=[],h=0,d=c.length;h<d;h++){var p=c[h];f=f.concat(Q7(p,l,t,n,a))}return i.path=f,i}function _T(r){var e=r.start,t=r.end;return[[e.x,t.y],[t.x,e.y]]}ka("area",{defaultShapeType:"area",getDefaultPoints:function(r){var e=r.x,t=r.y0,n=J(r.y)?r.y:[t,r.y];return n.map(function(a){return{x:e,y:a}})}});Bt("area","area",{draw:function(r,e){var t=Vf(r,!1,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var J7=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var a=t.startOnZero,i=a===void 0?!0:a,o=t.sortable,l=o===void 0?!1:o,s=t.showSinglePoint,u=s===void 0?!1:s;return n.startOnZero=i,n.sortable=l,n.showSinglePoint=u,n}return e.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var l=t[i];n.push(l.points),a.push(l[qt])}return{points:n,data:a}},e.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(sy);ka("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return ty(r)}});Bt("edge","line",{draw:function(r,e){var t=he(r,!0,!1,"lineWidth"),n=Es(this.parsePoints(r.points),this.coordinate.isPolar);return e.addShape("path",{attrs:E(E({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var tK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(Pa),eK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.updateElements=function(t,n){for(var a=0;a<t.length;a++){var i=t[a],o=this.prepareRange(i),l=this.prepareSize(),s=H(this.styleOption,["cfg","shadowBlur"]);xt(s)||(s=l/2),this.prepareGreyScaleBlurredCircle(l,s),this.drawWithRange(i,o,l,s)}},e.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},e.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var n=this.getAttribute("color"),a=n.getFields()[0],i=1/0,o=-1/0;return t.forEach(function(l){var s=l[qt][a];s>o&&(o=s),s<i&&(i=s)}),i===o&&(i=o-1),[i,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return xt(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,n){var a=this.getGrayScaleBlurredCanvas(),i=t+n,o=a.getContext("2d");a.width=a.height=i*2,o.clearRect(0,0,a.width,a.height),o.shadowOffsetX=o.shadowOffsetY=i*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-i,-i,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,n,a,i){var o,l,s=this.coordinate,u=s.start,c=s.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),d=this.getAttribute("color"),p=d.getFields()[0];this.clearShadowCanvasCtx();var v=this.getShadowCanvasCtx();n&&(t=t.filter(function(I){return I[qt][p]<=n[1]&&I[qt][p]>=n[0]}));var g=this.scales[p];try{for(var y=_t(t),m=y.next();!m.done;m=y.next()){var b=m.value,x=this.getDrawCfg(b),w=x.x,S=x.y,C=g.scale(b[qt][p]);this.drawGrayScaleBlurredCircle(w-u.x,S-c.y,a+i,C,v)}}catch(I){o={error:I}}finally{try{m&&!m.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}var T=v.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(T),v.putImageData(T,0,0);var F=this.getImageShape();F.attr("x",u.x),F.attr("y",c.y),F.attr("width",f),F.attr("height",h),F.attr("img",v.canvas),F.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,n,a,i,o){var l=this.getGrayScaleBlurredCanvas();o.globalAlpha=i,o.drawImage(l,t-a,n-a)},e.prototype.colorize=function(t){for(var n=this.getAttribute("color"),a=t.data,i=this.paletteCache,o=3;o<a.length;o+=4){var l=a[o];if(xt(l)){var s=i[l]?i[l]:pa.rgb2arr(n.gradient(l/256));a[o-3]=s[0],a[o-2]=s[1],a[o-1]=s[2],a[o]=l}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=t.map(function(i){return i[qt]});return E(E({},n),{mappingData:t,data:a})},e}(Pa);function uy(r){var e,t,n=r.x,a=r.y,i=r.y0,o=r.size,l,s;J(a)?(e=ct(a,2),l=e[0],s=e[1]):(l=i,s=a);var u,c;J(n)?(t=ct(n,2),u=t[0],c=t[1]):(u=n-o/2,c=n+o/2);var f=[{x:u,y:l},{x:u,y:s}];return f.push({x:c,y:s},{x:c,y:l}),f}function cy(r,e){e===void 0&&(e=!0);var t=[],n=r[0];t.push(["M",n.x,n.y]);for(var a=1,i=r.length;a<i;a++)t.push(["L",r[a].x,r[a].y]);return e&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function BT(r,e){var t=0,n=0,a=0,i=0;return J(r)?r.length===1?t=n=a=i=r[0]:r.length===2?(t=a=r[0],n=i=r[1]):r.length===3?(t=r[0],n=i=r[1],a=r[2]):(t=r[0],n=r[1],a=r[2],i=r[3]):t=n=a=i=r,t+n>e&&(t=t?e/(1+n/t):0,n=e-t),a+i>e&&(a=a?e/(1+i/a):0,i=e-a),[t||0,n||0,a||0,i||0]}function NT(r,e,t){var n=[];if(t.isRect){var a=t.isTransposed?{x:t.start.x,y:e[0].y}:{x:e[0].x,y:t.start.y},i=t.isTransposed?{x:t.end.x,y:e[2].y}:{x:e[3].x,y:t.end.y},o=H(r,["background","style","radius"]);if(o){var l=t.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,s=t.isTransposed?t.getWidth():t.getHeight(),u=ct(BT(o,Math.min(l,s)),4),c=u[0],f=u[1],h=u[2],d=u[3],p=t.isTransposed&&t.isReflect("y"),v=p?0:1,g=function(S){return p?-S:S};n.push(["M",a.x,i.y+g(c)]),c!==0&&n.push(["A",c,c,0,0,v,a.x+c,i.y]),n.push(["L",i.x-f,i.y]),f!==0&&n.push(["A",f,f,0,0,v,i.x,i.y+g(f)]),n.push(["L",i.x,a.y-g(h)]),h!==0&&n.push(["A",h,h,0,0,v,i.x-h,a.y]),n.push(["L",a.x+d,a.y]),d!==0&&n.push(["A",d,d,0,0,v,a.x,a.y-g(d)])}else n.push(["M",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]);n.push(["z"])}if(t.isPolar){var y=t.getCenter(),m=Zl(r,t),b=m.startAngle,x=m.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=va(y.x,y.y,t.getRadius(),b,x);else{var w=function(T){return Math.pow(T,2)},c=Math.sqrt(w(y.x-e[0].x)+w(y.y-e[0].y)),f=Math.sqrt(w(y.x-e[2].x)+w(y.y-e[2].y));n=va(y.x,y.y,c,t.startAngle,t.endAngle,f)}}return n}function rK(r,e,t){var n=t.getWidth(),a=t.getHeight(),i=t.type==="rect",o=[],l=(r[2].x-r[1].x)/2,s=t.isTransposed?l*a/n:l*n/a;return e==="round"?(i?(o.push(["M",r[0].x,r[0].y+s]),o.push(["L",r[1].x,r[1].y-s]),o.push(["A",l,l,0,0,1,r[2].x,r[2].y-s]),o.push(["L",r[3].x,r[3].y+s]),o.push(["A",l,l,0,0,1,r[0].x,r[0].y+s])):(o.push(["M",r[0].x,r[0].y]),o.push(["L",r[1].x,r[1].y]),o.push(["A",l,l,0,0,1,r[2].x,r[2].y]),o.push(["L",r[3].x,r[3].y]),o.push(["A",l,l,0,0,1,r[0].x,r[0].y])),o.push(["z"])):o=cy(r),o}function $T(r,e,t){var n=[];return Q(e)?t?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",(r[2].x+r[3].x)/2,(r[2].y+r[3].y)/2],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function Jo(r,e){return[e,r]}function nK(r,e,t){var n,a,i,o,l,s,u,c=ct(pt([],ct(r),!1),4),f=c[0],h=c[1],d=c[2],p=c[3],v=ct(typeof t=="number"?Array(4).fill(t):t,4),g=v[0],y=v[1],m=v[2],b=v[3];e.isTransposed&&(n=ct(Jo(h,p),2),h=n[0],p=n[1]),e.isReflect("y")&&(a=ct(Jo(f,h),2),f=a[0],h=a[1],i=ct(Jo(d,p),2),d=i[0],p=i[1]),e.isReflect("x")&&(o=ct(Jo(f,p),2),f=o[0],p=o[1],l=ct(Jo(h,d),2),h=l[0],d=l[1]);var x=[],w=function(S){return Math.abs(S)};return s=ct(BT([g,y,m,b],Math.min(w(p.x-f.x),w(h.y-f.y))).map(function(S){return w(S)}),4),g=s[0],y=s[1],m=s[2],b=s[3],e.isTransposed&&(u=ct([b,g,y,m],4),g=u[0],y=u[1],m=u[2],b=u[3]),f.y<h.y?(x.push(["M",p.x,p.y+m]),m!==0&&x.push(["A",m,m,0,0,0,p.x-m,p.y]),x.push(["L",f.x+b,f.y]),b!==0&&x.push(["A",b,b,0,0,0,f.x,f.y+b]),x.push(["L",h.x,h.y-g]),g!==0&&x.push(["A",g,g,0,0,0,h.x+g,h.y]),x.push(["L",d.x-y,d.y]),y!==0&&x.push(["A",y,y,0,0,0,d.x,d.y-y]),x.push(["L",p.x,p.y+m]),x.push(["z"])):p.x<f.x?(x.push(["M",d.x+y,d.y]),y!==0&&x.push(["A",y,y,0,0,0,d.x,d.y+y]),x.push(["L",p.x,p.y-m]),m!==0&&x.push(["A",m,m,0,0,0,p.x+m,p.y]),x.push(["L",f.x-b,f.y]),b!==0&&x.push(["A",b,b,0,0,0,f.x,f.y-b]),x.push(["L",h.x,h.y+g]),g!==0&&x.push(["A",g,g,0,0,0,h.x-g,h.y]),x.push(["L",d.x+y,d.y]),x.push(["z"])):(x.push(["M",h.x,h.y+g]),g!==0&&x.push(["A",g,g,0,0,1,h.x+g,h.y]),x.push(["L",d.x-y,d.y]),y!==0&&x.push(["A",y,y,0,0,1,d.x,d.y+y]),x.push(["L",p.x,p.y-m]),m!==0&&x.push(["A",m,m,0,0,1,p.x-m,p.y]),x.push(["L",f.x+b,f.y]),b!==0&&x.push(["A",b,b,0,0,1,f.x,f.y-b]),x.push(["L",h.x,h.y+g]),x.push(["z"])),x}ka("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return uy(r)}});Bt("interval","rect",{draw:function(r,e){var t=he(r,!1,!0),n=e,a=r==null?void 0:r.background;if(a){n=e.addGroup({name:"interval-group"});var i=vT(r),o=NT(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:E(E({},i),{path:o}),capture:!1,zIndex:-1,name:Zg})}var l;t.radius&&this.coordinate.isRect?l=nK(this.parsePoints(r.points),this.coordinate,t.radius):l=this.parsePath(rK(r.points,t.lineCap,this.coordinate));var s=n.addShape("path",{attrs:E(E({},t),{path:l}),name:"interval"});return a?n:s},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function aK(r,e){var t=r.length,n=r;gt(n[0])&&(n=r.map(function(l){return e.translate(l)}));for(var a=n[1]-n[0],i=2;i<t;i++){var o=n[i]-n[i-1];a>o&&(a=o)}return a}function iK(r,e){if(e){var t=gr(r),n=Zr(t,e);return n.length}return r.length}function fy(r){var e=r.theme,t=r.coordinate,n=r.getXScale(),a=n.values,i=r.beforeMappingData,o=a.length,l=As(r.coordinate),s=r.intervalPadding,u=r.dodgePadding,c=r.maxColumnWidth||e.maxColumnWidth,f=r.minColumnWidth||e.minColumnWidth,h=r.columnWidthRatio||e.columnWidthRatio,d=r.multiplePieWidthRatio||e.multiplePieWidthRatio,p=r.roseWidthRatio||e.roseWidthRatio;if(n.isLinear&&a.length>1){a.sort();var v=aK(a,n);o=(n.max-n.min)/v,a.length>o&&(o=a.length)}var g=n.range,y=1/o,m=1;if(t.isPolar?t.isTransposed&&o>1?m=d:m=p:(n.isLinear&&(y*=g[1]-g[0]),m=h),!Q(s)&&s>=0){var b=s/l;y=(1-(o-1)*b)/o}else y*=m;if(r.getAdjust("dodge")){var x=r.getAdjust("dodge"),w=x.dodgeBy,S=iK(i,w);if(!Q(u)&&u>=0){var C=u/l;y=(y-C*(S-1))/S}else!Q(s)&&s>=0&&(y*=m),y=y/S;y=y>=0?y:0}if(!Q(c)&&c>=0){var T=c/l;y>T&&(y=T)}if(!Q(f)&&f>=0){var F=f/l;y<F&&(y=F)}return y}var oK=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var a=t.background;return n.background=a,n}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=As(o);a=a/l}else this.defaultSize||(this.defaultSize=fy(this)),a=this.defaultSize;return n.size=a,n},e.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:gU(t)});else{var n=this.scaleDefs,a=t.field,i=t.min,o=t.max,l=t.type;l!=="time"&&(i>0&&!H(n,[a,"min"])&&t.change({min:0}),o<=0&&!H(n,[a,"max"])&&t.change({max:0}))}},e.prototype.getDrawCfg=function(t){var n=r.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},e}(Pa),lK=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;n.type="line";var a=t.sortable,i=a===void 0?!1:a;return n.sortable=i,n}return e}(sy),jT=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],sK=["cross","tick","plus","hyphen","line"];function hy(r,e,t,n,a){var i,o,l=he(e,a,!a,"r"),s=r.parsePoints(e.points),u=s[0];if(e.isStack)u=s[1];else if(s.length>1){var c=t.addGroup();try{for(var f=_t(s),h=f.next();!h.done;h=f.next()){var d=h.value;c.addShape({type:"marker",attrs:E(E(E({},l),{symbol:mi[n]||n}),d)})}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c}return t.addShape({type:"marker",attrs:E(E(E({},l),{symbol:mi[n]||n}),u)})}ka("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return ty(r)}});j(jT,function(r){Bt("point","hollow-".concat(r),{draw:function(e,t){return hy(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:mi[r]||r,style:{r:4.5,stroke:t,fill:null}}}})});var uK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var n=r.prototype.getDrawCfg.call(this,t);return E(E({},n),{isStack:!!this.getAdjust("stack")})},e}(Pa);function cK(r){for(var e=r[0],t=1,n=[["M",e.x,e.y]];t<r.length;){var a=r[t];(a.x!==r[t-1].x||a.y!==r[t-1].y)&&(n.push(["L",a.x,a.y]),a.x===e.x&&a.y===e.y&&t<r.length-1&&(e=r[t+1],n.push(["Z"]),n.push(["M",e.x,e.y]),t++)),t++}return le(we(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}ka("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var e=[];return j(r.x,function(t,n){var a=r.y[n];e.push({x:t,y:a})}),e}});Bt("polygon","polygon",{draw:function(r,e){if(!ir(r.points)){var t=he(r,!0,!0),n=this.parsePath(cK(r.points));return e.addShape("path",{attrs:E(E({},t),{path:n}),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});var fK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a=n.x,i=n.y,o;if(!(J(a)&&J(i))){var l=this.getXScale(),s=this.getYScale(),u=l.values.length,c=s.values.length,f=.5*1/u,h=.5*1/c;l.isCategory&&s.isCategory?(a=[a-f,a-f,a+f,a+f],i=[i-h,i+h,i+h,i-h]):J(a)?(o=a,a=[o[0],o[0],o[1],o[1]],i=[i-h/2,i+h/2,i+h/2,i-h/2]):J(i)&&(o=i,i=[o[0],o[1],o[1],o[0]],a=[a-f/2,a-f/2,a+f/2,a+f/2]),n.x=a,n.y=i}return n},e}(Pa);ka("schema",{defaultShapeType:""});var hK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=As(o);a=a/l}else this.defaultSize||(this.defaultSize=fy(this)),a=this.defaultSize;return n.size=a,n},e}(Pa);function dK(r){if(!J(r))return[];var e=yr(r);return Qt(r,function(t){return t/e})}ka("violin",{defaultShapeType:"violin",getDefaultPoints:function(r){var e=r.size/2,t=[],n=dK(r._size);return j(r.y,function(a,i){var o=n[i]*e,l=i===0,s=i===r.y.length-1;t.push({isMin:l,isMax:s,x:r.x-o,y:a}),t.unshift({isMin:l,isMax:s,x:r.x+o,y:a})}),t}});Bt("violin","violin",{draw:function(r,e){var t=he(r,!0,!0),n=this.parsePath(dT(r.points));return e.addShape("path",{attrs:E(E({},t),{path:n}),name:"violin"})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:e}}}});var pK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=As(o);a=a/l}else this.defaultSize||(this.defaultSize=fy(this)),a=this.defaultSize;return n.size=a,n._size=H(t[qt],[this._sizeField]),n},e.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,r.prototype.initAttributes.call(this)},e}(Pa);Bt("area","line",{draw:function(r,e){var t=Vf(r,!0,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});Bt("area","smooth",{draw:function(r,e){var t=this.coordinate,n=Vf(r,!1,!0,this,_T(t)),a=e.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});Bt("area","smooth-line",{draw:function(r,e){var t=this.coordinate,n=Vf(r,!0,!0,this,_T(t)),a=e.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function Tv(r,e){return["C",r.x*1/2+e.x*1/2,r.y,r.x*1/2+e.x*1/2,e.y,e.x,e.y]}function Iv(r,e){var t=[];t.push({x:e.x,y:e.y}),t.push(r);var n=["Q"];return j(t,function(a){n.push(a.x,a.y)}),n}function vK(r,e,t){var n=Iv(e,t),a=[["M",r.x,r.y]];return a.push(n),a}function gK(r,e){var t=Iv(r[1],e),n=Iv(r[3],e),a=[["M",r[0].x,r[0].y]];return a.push(n),a.push(["L",r[3].x,r[3].y]),a.push(["L",r[2].x,r[2].y]),a.push(t),a.push(["L",r[1].x,r[1].y]),a.push(["L",r[0].x,r[0].y]),a.push(["Z"]),a}Bt("edge","arc",{draw:function(r,e){var t=he(r,!0,!1,"lineWidth"),n=r.points,a=n.length>2?"weight":"normal",i;if(r.isInCircle){var o={x:0,y:1};return a==="normal"?i=vK(n[0],n[1],o):(t.fill=t.stroke,i=gK(n,o)),i=this.parsePath(i),e.addShape("path",{attrs:E(E({},t),{path:i})})}else{if(a==="normal")return n=this.parsePoints(n),i=IE((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:E(E({},t),{path:i})});var l=Tv(n[1],n[3]),s=Tv(n[2],n[0]);return i=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],l,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],s,["Z"]],i=this.parsePath(i),t.fill=t.stroke,e.addShape("path",{attrs:E(E({},t),{path:i})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function yK(r,e){var t=Tv(r,e),n=[["M",r.x,r.y]];return n.push(t),n}Bt("edge","smooth",{draw:function(r,e){var t=he(r,!0,!1,"lineWidth"),n=r.points,a=this.parsePath(yK(n[0],n[1]));return e.addShape("path",{attrs:E(E({},t),{path:a})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var yu=1/3;function mK(r,e){var t=[];t.push({x:r.x,y:r.y*(1-yu)+e.y*yu}),t.push({x:e.x,y:r.y*(1-yu)+e.y*yu}),t.push(e);var n=[["M",r.x,r.y]];return j(t,function(a){n.push(["L",a.x,a.y])}),n}Bt("edge","vhv",{draw:function(r,e){var t=he(r,!0,!1,"lineWidth"),n=r.points,a=this.parsePath(mK(n[0],n[1]));return e.addShape("path",{attrs:E(E({},t),{path:a})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});Bt("interval","funnel",{getPoints:function(r){return r.size=r.size*2,uy(r)},draw:function(r,e){var t=he(r,!1,!0),n=this.parsePath($T(r.points,r.nextPoints,!1)),a=e.addShape("path",{attrs:E(E({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});Bt("interval","hollow-rect",{draw:function(r,e){var t=he(r,!0,!1),n=e,a=r==null?void 0:r.background;if(a){n=e.addGroup();var i=vT(r),o=NT(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:E(E({},i),{path:o}),capture:!1,zIndex:-1,name:Zg})}var l=this.parsePath(cy(r.points)),s=n.addShape("path",{attrs:E(E({},t),{path:l}),name:"interval"});return a?n:s},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function xK(r){var e=r.x,t=r.y,n=r.y0;return J(t)?t.map(function(a,i){return{x:J(e)?e[i]:e,y:a}}):[{x:e,y:n},{x:e,y:t}]}Bt("interval","line",{getPoints:function(r){return xK(r)},draw:function(r,e){var t=he(r,!0,!1,"lineWidth"),n=tr(E({},t),["fill"]),a=this.parsePath(cy(r.points,!1)),i=e.addShape("path",{attrs:E(E({},n),{path:a}),name:"interval"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return[["M",t,n-a],["L",t,n+a]]},style:{r:5,stroke:e}}}});Bt("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,uy(r)},draw:function(r,e){var t=he(r,!1,!0),n=this.parsePath($T(r.points,r.nextPoints,!0)),a=e.addShape("path",{attrs:E(E({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});function bK(r){var e,t=r.x,n=r.y,a=r.y0,i=r.size,o,l;J(n)?(e=ct(n,2),o=e[0],l=e[1]):(o=a,l=n);var s=t+i/2,u=t-i/2;return[{x:t,y:o},{x:t,y:l},{x:u,y:o},{x:s,y:o},{x:u,y:l},{x:s,y:l}]}function wK(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}Bt("interval","tick",{getPoints:function(r){return bK(r)},draw:function(r,e){var t=he(r,!0,!1),n=this.parsePath(wK(r.points)),a=e.addShape("path",{attrs:E(E({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return[["M",t-a/2,n-a],["L",t+a/2,n-a],["M",t,n-a],["L",t,n+a],["M",t-a/2,n+a],["L",t+a/2,n+a]]},style:{r:5,stroke:e}}}});var SK=function(r,e,t){var n=r.x,a=r.y,i=e.x,o=e.y,l;switch(t){case"hv":l=[{x:i,y:a}];break;case"vh":l=[{x:n,y:o}];break;case"hvh":var s=(i+n)/2;l=[{x:s,y:a},{x:s,y:o}];break;case"vhv":var u=(a+o)/2;l=[{x:n,y:u},{x:i,y:u}];break}return l};function CK(r,e){var t=[];return j(r,function(n,a){var i=r[a+1];if(t.push(n),i){var o=SK(n,i,e);t=t.concat(o)}}),t}function AK(r){return r.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function EK(r,e){var t=jf(r.points,r.connectNulls,r.showSinglePoint),n=[];return j(t,function(a){var i=CK(a,e);n=n.concat(AK(i))}),E(E({},he(r,!0,!1,"lineWidth")),{path:n})}j(["hv","vh","hvh","vhv"],function(r){Bt("line",r,{draw:function(e,t){var n=EK(e,r),a=t.addShape({type:"path",attrs:n,name:"line"});return a},getMarker:function(e){return gT(e,r)}})});j(sK,function(r){Bt("point",r,{draw:function(e,t){return hy(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:mi[r],style:{r:4.5,stroke:t,fill:null}}}})});Bt("point","image",{draw:function(r,e){var t,n,a=he(r,!1,!1,"r").r,i=this.parsePoints(r.points),o=i[0];if(r.isStack)o=i[1];else if(i.length>1){var l=e.addGroup();try{for(var s=_t(i),u=s.next();!u.done;u=s.next()){var c=u.value;l.addShape("image",{attrs:{x:c.x-a/2,y:c.y-a,width:a,height:a,img:r.shape[1]}})}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return l}return e.addShape("image",{attrs:{x:o.x-a/2,y:o.y-a,width:a,height:a,img:r.shape[1]}})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});j(jT,function(r){Bt("point",r,{draw:function(e,t){return hy(this,e,t,r,!1)},getMarker:function(e){var t=e.color;return{symbol:mi[r]||r,style:{r:4.5,fill:t}}}})});function Fw(r){var e=J(r)?r:[r],t=e[0],n=e[e.length-1],a=e.length>1?e[1]:t,i=e.length>3?e[3]:n,o=e.length>2?e[2]:a;return{min:t,max:n,min1:a,max1:i,median:o}}function kw(r,e,t){var n=t/2,a;if(J(e)){var i=Fw(e),o=i.min,l=i.max,s=i.median,u=i.min1,c=i.max1,f=r-n,h=r+n;a=[[f,l],[h,l],[r,l],[r,c],[f,u],[f,c],[h,c],[h,u],[r,u],[r,o],[f,o],[h,o],[f,s],[h,s]]}else{e=Q(e)?.5:e;var d=Fw(r),o=d.min,l=d.max,s=d.median,u=d.min1,c=d.max1,p=e-n,v=e+n;a=[[o,p],[o,v],[o,e],[u,e],[u,p],[u,v],[c,v],[c,p],[c,e],[l,e],[l,p],[l,v],[s,p],[s,v]]}return a.map(function(g){return{x:g[0],y:g[1]}})}function TK(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}Bt("schema","box",{getPoints:function(r){var e=r.x,t=r.y,n=r.size;return kw(e,t,n)},draw:function(r,e){var t=he(r,!0,!1),n=this.parsePath(TK(r.points)),a=e.addShape("path",{attrs:E(E({},t),{path:n,name:"schema"})});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){var i=[n-6,n-3,n,n+3,n+6],o=kw(t,i,a);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function IK(r){var e=J(r)?r:[r],t=e.sort(function(n,a){return a-n});return lU(t,4,t[t.length-1])}function Pw(r,e,t){var n=IK(e);return[{x:r,y:n[0]},{x:r,y:n[1]},{x:r-t/2,y:n[2]},{x:r-t/2,y:n[1]},{x:r+t/2,y:n[1]},{x:r+t/2,y:n[2]},{x:r,y:n[2]},{x:r,y:n[3]}]}function MK(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}Bt("schema","candle",{getPoints:function(r){var e=r.x,t=r.y,n=r.size;return Pw(e,t,n)},draw:function(r,e){var t=he(r,!0,!0),n=this.parsePath(MK(r.points)),a=e.addShape("path",{attrs:E(E({},t),{path:n,name:"schema"})});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){var i=[n+7.5,n+3,n-3,n-7.5],o=Pw(t,i,a);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function OK(r,e){var t=Math.abs(r[0].x-r[2].x),n=Math.abs(r[0].y-r[2].y),a=Math.min(t,n);e&&(a=Zt(e,0,Math.min(t,n))),a=a/2;var i=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:i-a,y:o-a,width:a*2,height:a*2}}Bt("polygon","square",{draw:function(r,e){if(!ir(r.points)){var t=he(r,!0,!0),n=this.parsePoints(r.points);return e.addShape("rect",{attrs:E(E({},t),OK(n,r.size)),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});Bt("violin","smooth",{draw:function(r,e){var t=he(r,!0,!0),n=this.parsePath(pT(r.points));return e.addShape("path",{attrs:E(E({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}});Bt("violin","hollow",{draw:function(r,e){var t=he(r,!0,!1),n=this.parsePath(dT(r.points));return e.addShape("path",{attrs:E(E({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});Bt("violin","hollow-smooth",{draw:function(r,e){var t=he(r,!0,!1),n=this.parsePath(pT(r.points));return e.addShape("path",{attrs:E(E({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var FK=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(t){var n="y",a=t.points;return a[0][n]<=a[2][n]?1:-1},e.prototype.getLabelOffsetPoint=function(t,n,a,i){var o,l=r.prototype.getLabelOffsetPoint.call(this,t,n,a),s=this.getCoordinate(),u=s.isTransposed,c=u?"x":"y",f=this.getLabelValueDir(t.mappingData);return l=E(E({},l),(o={},o[c]=l[c]*f,o)),s.isReflect("x")&&(l=E(E({},l),{x:l.x*-1})),s.isReflect("y")&&(l=E(E({},l),{y:l.y*-1})),l},e.prototype.getThemedLabelCfg=function(t){var n=this.geometry,a=this.getDefaultLabelCfg(),i=n.theme;return lt({},a,i.labels,t.position==="middle"?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,n,a,i){var o=this.getCoordinate(),l=o.isTransposed,s=n.points,u=o.convert(s[0]),c=o.convert(s[2]),f=this.getLabelValueDir(n),h,d,p,v,g=J(n.shape)?n.shape[0]:n.shape;if(g==="funnel"||g==="pyramid"){var y=H(n,"nextPoints"),m=H(n,"points");if(y){var b=o.convert(m[0]),x=o.convert(m[1]),w=o.convert(y[0]),S=o.convert(y[1]);l?(h=Math.min(w.y,b.y),p=Math.max(w.y,b.y),d=(x.x+S.x)/2,v=(b.x+w.x)/2):(h=Math.min((x.y+S.y)/2,(b.y+w.y)/2),p=Math.max((x.y+S.y)/2,(b.y+w.y)/2),d=S.x,v=b.x)}else h=Math.min(c.y,u.y),p=Math.max(c.y,u.y),d=c.x,v=u.x}else h=Math.min(c.y,u.y),p=Math.max(c.y,u.y),d=c.x,v=u.x;switch(i){case"right":t.x=d,t.y=(h+p)/2,t.textAlign=H(t,"textAlign",f>0?"left":"right");break;case"left":t.x=v,t.y=(h+p)/2,t.textAlign=H(t,"textAlign",f>0?"left":"right");break;case"bottom":l&&(t.x=(d+v)/2),t.y=p,t.textAlign=H(t,"textAlign","center"),t.textBaseline=H(t,"textBaseline",f>0?"bottom":"top");break;case"middle":l&&(t.x=(d+v)/2),t.y=(h+p)/2,t.textAlign=H(t,"textAlign","center"),t.textBaseline=H(t,"textBaseline","middle");break;case"top":l&&(t.x=(d+v)/2),t.y=h,t.textAlign=H(t,"textAlign","center"),t.textBaseline=H(t,"textBaseline",f>0?"bottom":"top");break}},e}($f),mu=Math.PI/2,VT=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),a=0;if(xt(t))a=t;else if(gt(t)&&t.indexOf("%")!==-1){var i=n.getRadius();n.innerRadius>0&&(i=i*(1-n.innerRadius)),a=parseFloat(t)*.01*i}return a},e.prototype.getLabelItems=function(t){var n=r.prototype.getLabelItems.call(this,t),a=this.geometry.getYScale();return Qt(n,function(i){if(i&&a){var o=a.scale(H(i.data,a.field));return E(E({},i),{percent:o})}return i})},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a;if(t.labelEmit)a=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)a="center";else{var i=n.getCenter(),o=t.offset;Math.abs(t.x-i.x)<1?a="center":t.angle>Math.PI||t.angle<=0?a=o>0?"left":"right":a=o>0?"right":"left"}return a},e.prototype.getLabelPoint=function(t,n,a){var i=1,o,l=t.content[a];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&a===0?a=1:a===0&&(i=-1),o=this.getArcPoint(n,a));var s=t.offset*i,u=this.getPointAngle(o),c=t.labelEmit,f=this.getCirclePoint(u,s,o,c);return f.r===0?f.content="":(f.content=l,f.angle=u,f.color=n.color),f.rotate=t.autoRotate?this.getLabelRotate(u,s,c):t.rotate,f.start={x:o.x,y:o.y},f},e.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!J(t.x)&&!J(t.y)?{x:t.x,y:t.y}:{x:J(t.x)?t.x[n]:t.x,y:J(t.y)?t.y[n]:t.y}},e.prototype.getPointAngle=function(t){return vo(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,n,a,i){var o=this.getCoordinate(),l=o.getCenter(),s=Lf(o,a);if(s===0)return E(E({},l),{r:s});var u=t;if(o.isTransposed&&s>n&&!i){var c=Math.asin(n/(2*s));u=t+c*2}else s=s+n;return{x:l.x+s*Math.cos(u),y:l.y+s*Math.sin(u),r:s}},e.prototype.getLabelRotate=function(t,n,a){var i=t+mu;return a&&(i-=mu),i&&(i>mu?i=i-Math.PI:i<-mu&&(i=i+Math.PI)),i},e.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),a=t.length,i={x:0,y:0};return j(t,function(o){i.x+=o.x,i.y+=o.y}),i.x/=a,i.y/=a,i=n.convert(i),i},e.prototype.isToMiddle=function(t){return t.x.length>2},e}($f),kK=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return e.prototype.getDefaultLabelCfg=function(t,n){var a=r.prototype.getDefaultLabelCfg.call(this,t,n);return lt({},a,H(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(t){return r.prototype.getLabelOffset.call(this,t)||0},e.prototype.getLabelRotate=function(t,n,a){var i;return n<0&&(i=t,i>Math.PI/2&&(i=i-Math.PI),i<-Math.PI/2&&(i=i+Math.PI)),i},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a=n.getCenter(),i;return t.angle<=Math.PI/2&&t.x>=a.x?i="left":i="right",t.offset<=0&&(i==="right"?i="left":i="right"),i},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var n=this.getCoordinate(),a={x:J(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:J(t.x)?t.x[1]:t.x,y:t.y[1]},o,l=vo(n,a);if(t.points&&t.points[0].y===t.points[1].y)o=l;else{var s=vo(n,i);l>=s&&(s=s+Math.PI*2),o=l+(s-l)/2}return o},e.prototype.getCirclePoint=function(t,n){var a=this.getCoordinate(),i=a.getCenter(),o=a.getRadius()+n;return E(E({},de(i.x,i.y,o,t)),{angle:t,r:o})},e}(VT),Rw=4;function PK(r,e,t,n,a,i){var o,l,s=!0,u=n.start,c=n.end,f=Math.min(u.y,c.y),h=Math.abs(u.y-c.y),d,p=0,v=Number.MIN_VALUE,g=e.map(function(C){return C.y>p&&(p=C.y),C.y<v&&(v=C.y),{size:t,targets:[C.y-f]}});for(v-=f,p-f>h&&(h=p-f);s;)for(g.forEach(function(C){var T=(Math.min.apply(v,C.targets)+Math.max.apply(v,C.targets))/2;C.pos=Math.min(Math.max(v,T-C.size/2),h-C.size)}),s=!1,d=g.length;d--;)if(d>0){var y=g[d-1],m=g[d];y.pos+y.size>m.pos&&(y.size+=m.size,y.targets=y.targets.concat(m.targets),y.pos+y.size>h&&(y.pos=h-y.size),g.splice(d,1),s=!0)}d=0,g.forEach(function(C){var T=f+t/2;C.targets.forEach(function(){e[d].y=C.pos+T,T+=t,d++})});var b={};try{for(var x=_t(r),w=x.next();!w.done;w=x.next()){var S=w.value;b[S.get("id")]=S}}catch(C){o={error:C}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}e.forEach(function(C){var T=C.r*C.r,F=Math.pow(Math.abs(C.y-a.y),2);if(T<F)C.x=a.x;else{var I=Math.sqrt(T-F);i?C.x=a.x+I:C.x=a.x-I}var M=b[C.id];M.attr("x",C.x),M.attr("y",C.y);var O=Yr(M.getChildren(),function(k){return k.get("type")==="text"});O&&(O.attr("y",C.y),O.attr("x",C.x))})}function RK(r,e,t,n){if(!(!r.length||!e.length)){var a=r[0]?r[0].offset:0,i=e[0].get("coordinate"),o=i.getRadius(),l=i.getCenter();if(a>0){var s=14,u=o+a,c=u*2+s*2,f={start:i.start,end:i.end},h=[[],[]];r.forEach(function(d){d&&(d.textAlign==="right"?h[0].push(d):h[1].push(d))}),h.forEach(function(d,p){var v=c/s;d.length>v&&(d.sort(function(g,y){return y["..percent"]-g["..percent"]}),d.splice(v,d.length-v)),d.sort(function(g,y){return g.y-y.y}),PK(e,d,s,f,l,p)})}j(r,function(d){if(d&&d.labelLine){var p=d.offset,v=d.angle,g=de(l.x,l.y,o,v),y=de(l.x,l.y,o+p/2,v),m=d.x+H(d,"offsetX",0),b=d.y+H(d,"offsetY",0),x={x:m-Math.cos(v)*Rw,y:b-Math.sin(v)*Rw};jt(d.labelLine)||(d.labelLine={}),d.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(y.x),"".concat(y.y," ").concat(x.x),x.y].join(",")}})}}function HT(r,e,t){var n=r.filter(function(p){return!p.invisible});n.sort(function(p,v){return p.y-v.y});var a=!0,i=t.minY,o=t.maxY,l=Math.abs(i-o),s,u=0,c=Number.MIN_VALUE,f=n.map(function(p){return p.y>u&&(u=p.y),p.y<c&&(c=p.y),{content:p.content,size:e,targets:[p.y-i],pos:null}});for(c-=i,u-i>l&&(l=u-i);a;)for(f.forEach(function(p){var v=(Math.min.apply(c,p.targets)+Math.max.apply(c,p.targets))/2;p.pos=Math.min(Math.max(c,v-p.size/2),l-p.size),p.pos=Math.max(0,p.pos)}),a=!1,s=f.length;s--;)if(s>0){var h=f[s-1],d=f[s];h.pos+h.size>d.pos&&(h.size+=d.size,h.targets=h.targets.concat(d.targets),h.pos+h.size>l&&(h.pos=l-h.size),f.splice(s,1),a=!0)}s=0,f.forEach(function(p){var v=i+e/2;p.targets.forEach(function(){n[s].y=p.pos+v,v+=e,s++})})}var Lw=4;function LK(r,e){var t=e.getCenter(),n=e.getRadius();if(r&&r.labelLine){var a=r.angle,i=r.offset,o=de(t.x,t.y,n,a),l=r.x+H(r,"offsetX",0)*(Math.cos(a)>0?1:-1),s=r.y+H(r,"offsetY",0)*(Math.sin(a)>0?1:-1),u={x:l-Math.cos(a)*Lw,y:s-Math.sin(a)*Lw},c=r.labelLine.smooth,f=[],h=u.x-t.x,d=u.y-t.y,p=Math.atan(d/h);if(h<0&&(p+=Math.PI),c===!1){jt(r.labelLine)||(r.labelLine={});var v=0;(a<0&&a>-Math.PI/2||a>Math.PI*1.5)&&u.y>o.y&&(v=1),a>=0&&a<Math.PI/2&&u.y>o.y&&(v=1),a>=Math.PI/2&&a<Math.PI&&o.y>u.y&&(v=1),(a<-Math.PI/2||a>=Math.PI&&a<Math.PI*1.5)&&o.y>u.y&&(v=1);var g=i/2>4?4:Math.max(i/2-1,0),y=de(t.x,t.y,n+g,a),m=de(t.x,t.y,n+i/2,p),b=0;f.push("M ".concat(o.x," ").concat(o.y)),f.push("L ".concat(y.x," ").concat(y.y)),f.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(b," ").concat(v," ").concat(m.x," ").concat(m.y)),f.push("L ".concat(u.x," ").concat(u.y))}else{var y=de(t.x,t.y,n+(i/2>4?4:Math.max(i/2-1,0)),a),x=o.x<t.x?1:-1;f.push("M ".concat(u.x," ").concat(u.y));var w=(o.y-t.y)/(o.x-t.x),S=(u.y-t.y)/(u.x-t.x);Math.abs(w-S)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",u.x+x*4,u.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),f.push("L ".concat(o.x," ").concat(o.y))}r.labelLine.path=f.join(" ")}}function DK(r,e,t,n){var a,i,o=Be(r,function(T){return!Q(T)}),l=e[0]&&e[0].get("coordinate");if(l){var s=l.getCenter(),u=l.getRadius(),c={};try{for(var f=_t(e),h=f.next();!h.done;h=f.next()){var d=h.value;c[d.get("id")]=d}}catch(T){a={error:T}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var p=H(o[0],"labelHeight",14),v=H(o[0],"offset",0);if(!(v<=0)){var g="left",y="right",m=dr(o,function(T){return T.x<s.x?g:y}),b=l.start,x=l.end,w=Math.min((u+v+p)*2,l.getHeight()),S=w/2,C={minX:b.x,maxX:x.x,minY:s.y-S,maxY:s.y+S};j(m,function(T,F){var I=Math.floor(w/p);T.length>I&&(T.sort(function(M,O){return O.percent-M.percent}),j(T,function(M,O){O+1>I&&(c[M.id].set("visible",!1),M.invisible=!0)})),HT(T,p,C)}),j(m,function(T,F){j(T,function(I){var M=F===y,O=c[I.id],k=O.getChildByIndex(0);if(k){var L=u+v,N=I.y-s.y,R=Math.pow(L,2),D=Math.pow(N,2),W=R-D>0?R-D:0,V=Math.sqrt(W),B=Math.abs(Math.cos(I.angle)*L);M?I.x=s.x+Math.max(V,B):I.x=s.x-Math.max(V,B)}k&&(k.attr("y",I.y),k.attr("x",I.x)),LK(I,l)})})}}}var Mv=4,_K=4,Dw=4;function BK(r,e,t){var n=e.getCenter(),a=e.getRadius(),i={x:r.x-(t?Dw:-Dw),y:r.y},o=de(n.x,n.y,a+Mv,r.angle),l={x:i.x,y:i.y},s={x:o.x,y:o.y},u=de(n.x,n.y,a,r.angle),c="";if(i.y!==o.y){var f=t?4:-4;l.y=i.y,r.angle<0&&r.angle>=-Math.PI/2&&(l.x=Math.max(o.x,i.x-f),i.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-f))),r.angle>0&&r.angle<Math.PI/2&&(l.x=Math.max(o.x,i.x-f),i.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-f))),r.angle>Math.PI/2&&(l.x=Math.min(o.x,i.x-f),i.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-f))),r.angle<-Math.PI/2&&(l.x=Math.min(o.x,i.x-f),i.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-f)))}c=["M ".concat(i.x,",").concat(i.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),r.labelLine=lt({},r.labelLine,{path:c})}function NK(r,e,t,n){var a,i,o=e[0]&&e[0].get("coordinate");if(o){var l=o.getCenter(),s=o.getRadius(),u={};try{for(var c=_t(e),f=c.next();!f.done;f=c.next()){var h=f.value;u[h.get("id")]=h}}catch(T){a={error:T}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}var d=H(r[0],"labelHeight",14),p=Math.max(H(r[0],"offset",0),Mv);j(r,function(T){if(T){var F=H(u,[T.id]);if(F){var I=T.x>l.x||T.x===l.x&&T.y>l.y,M=Q(T.offsetX)?_K:T.offsetX,O=de(l.x,l.y,s+Mv,T.angle),k=p+M;T.x=l.x+(I?1:-1)*(s+k),T.y=O.y}}});var v=o.start,g=o.end,y="left",m="right",b=dr(r,function(T){return T.x<l.x?y:m}),x=(s+p)*2+d;j(b,function(T){var F=T.length*d;F>x&&(x=Math.min(F,Math.abs(v.y-g.y)))});var w={minX:v.x,maxX:g.x,minY:l.y-x/2,maxY:l.y+x/2};j(b,function(T,F){var I=x/d;T.length>I&&(T.sort(function(M,O){return O.percent-M.percent}),j(T,function(M,O){O>I&&(u[M.id].set("visible",!1),M.invisible=!0)})),HT(T,d,w)});var S=w.minY,C=w.maxY;j(b,function(T,F){var I=F===m;j(T,function(M){var O=H(u,M&&[M.id]);if(O){if(M.y<S||M.y>C){O.set("visible",!1);return}var k=O.getChildByIndex(0),L=k.getCanvasBBox(),N={x:I?L.x:L.maxX,y:L.y+L.height/2};Is(k,M.x-N.x,M.y-N.y),M.labelLine&&BK(M,o,I)}})})}}function $K(r,e,t,n){j(e,function(a){var i=n.minX,o=n.minY,l=n.maxX,s=n.maxY,u=a.getCanvasBBox(),c=u.minX,f=u.minY,h=u.maxX,d=u.maxY,p=u.x,v=u.y,g=u.width,y=u.height,m=p,b=v;(c<i||h<i)&&(m=i),(f<o||d<o)&&(b=o),c>l?m=l-g:h>l&&(m=m-(h-l)),f>s?b=s-y:d>s&&(b=b-(d-s)),(m!==p||b!==v)&&Is(a,m-p,b-v)})}function jK(r,e,t,n){j(e,function(a,i){var o=a.getCanvasBBox(),l=t[i].getBBox();(o.minX<l.minX||o.minY<l.minY||o.maxX>l.maxX||o.maxY>l.maxY)&&a.remove(!0)})}var VK=100,zT=function(){function r(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,n=t===void 0?1:t,a=e.yGap,i=a===void 0?8:a;this.xGap=n,this.yGap=i}return r.prototype.hasGap=function(e){for(var t=!0,n=this.bitmap,a=Math.round(e.minX),i=Math.round(e.maxX),o=Math.round(e.minY),l=Math.round(e.maxY),s=a;s<=i;s+=1){if(!n[s]){n[s]={};continue}if(s===a||s===i){for(var u=o;u<=l;u++)if(n[s][u]){t=!1;break}}else if(n[s][o]||n[s][l]){t=!1;break}}return t},r.prototype.fillGap=function(e){for(var t=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),i=Math.round(e.minY),o=Math.round(e.maxY),l=n;l<=a;l+=1)t[l]||(t[l]={});for(var l=n;l<=a;l+=this.xGap){for(var s=i;s<=o;s+=this.yGap)t[l][s]=!0;t[l][o]=!0}if(this.yGap!==1)for(var l=i;l<=o;l+=1)t[n][l]=!0,t[a][l]=!0;if(this.xGap!==1)for(var l=n;l<=a;l+=1)t[l][i]=!0,t[l][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function HK(r,e,t){t===void 0&&(t=VK);var n=-1,a=r.attr(),i=a.x,o=a.y,l=r.getCanvasBBox(),s=Math.sqrt(l.width*l.width+l.height*l.height),u,c=-n,f=0,h=0,d=function(y){var m=y*.1;return[m*Math.cos(m),m*Math.sin(m)]};if(e.hasGap(l))return e.fillGap(l),!0;for(var p=!1,v=0,g={};Math.min(Math.abs(f),Math.abs(h))<s&&v<t;)if(u=d(c+=n),f=~~u[0],h=~~u[1],!(!f&&!h||g["".concat(f,"-").concat(h)])&&(r.attr({x:i+f,y:o+h}),f+h<0&&r.attr("textAlign","right"),v++,e.hasGap(r.getCanvasBBox()))){e.fillGap(r.getCanvasBBox()),p=!0,g["".concat(f,"-").concat(h)]=!0;break}return p}function zK(r,e,t,n){var a=r.getCanvasBBox(),i=a.width,o=a.height,l={x:e,y:t,textAlign:"center"};switch(n){case 0:l.y-=o+1,l.x+=1,l.textAlign="left";break;case 1:l.y-=o+1,l.x-=1,l.textAlign="right";break;case 2:l.y+=o+1,l.x-=1,l.textAlign="right";break;case 3:l.y+=o+1,l.x+=1,l.textAlign="left";break;case 5:l.y-=o*2+2;break;case 6:l.y+=o*2+2;break;case 7:l.x+=i+1,l.textAlign="left";break;case 8:l.x-=i+1,l.textAlign="right";break}return r.attr(l),r.getCanvasBBox()}function WK(r,e,t,n){var a=new zT;j(e,function(i){var o=i.find(function(l){return l.get("type")==="text"});HK(o,a)||i.remove(!0)}),a.destroy()}function GK(r,e,t,n){var a=new zT;j(e,function(i){for(var o=i.find(function(d){return d.get("type")==="text"}),l=o.attr(),s=l.x,u=l.y,c=!1,f=0;f<=8;f++){var h=zK(o,s,u,f);if(a.hasGap(h)){a.fillGap(h),c=!0;break}}c||i.remove(!0)}),a.destroy()}function qK(r,e){return(r[0]||0)*(e[0]||0)+(r[1]||0)*(e[1]||0)+(r[2]||0)*(e[2]||0)}function _w(r){if(r.length>4)return[];var e=function(a,i){return[i.x-a.x,i.y-a.y]},t=e(r[0],r[1]),n=e(r[1],r[2]);return[t,n]}function xu(r,e,t){e===void 0&&(e=0),t===void 0&&(t={x:0,y:0});var n=r.x,a=r.y;return{x:(n-t.x)*Math.cos(-e)+(a-t.y)*Math.sin(-e)+t.x,y:(t.x-n)*Math.sin(-e)+(a-t.y)*Math.cos(-e)+t.y}}function Bw(r){var e=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],t=r.rotation;return t?[xu(e[0],t,e[0]),xu(e[1],t,e[0]),xu(e[2],t,e[0]),xu(e[3],t,e[0])]:e}function Nw(r,e){if(r.length>4)return{min:0,max:0};var t=[];return r.forEach(function(n){t.push(qK([n.x,n.y],e))}),{min:Math.min.apply(Math,pt([],ct(t),!1)),max:Math.max.apply(Math,pt([],ct(t),!1))}}function YK(r,e){return r.max>e.min&&r.min<e.max}function UK(r){return typeof r=="number"&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0}function $w(r){return["x","y","width","height"].every(function(e){return UK(r[e])})}function XK(r,e,t){return t===void 0&&(t=0),!(e.x>r.x+r.width+t||e.x+e.width<r.x-t||e.y>r.y+r.height+t||e.y+e.height<r.y-t)}function KK(r,e,t){if(t===void 0&&(t=0),!$w(r)||!$w(e))return!1;if(!r.rotation&&!e.rotation)return XK(r,e,t);for(var n=Bw(r),a=Bw(e),i=_w(n).concat(_w(a)),o=0;o<i.length;o++){var l=i[o],s=Nw(n,l),u=Nw(a,l);if(!YK(s,u))return!1}return!0}var ZK=function(){function r(e){var t=this;this.queue=[],this.worker=new Worker(e),this.worker.onmessage=function(n){var a;(a=t.queue.shift())===null||a===void 0||a.resolve(n)},this.worker.onmessageerror=function(n){var a;console.warn("[AntV G2] Web worker is not available"),(a=t.queue.shift())===null||a===void 0||a.reject(n)}}return r.prototype.post=function(e,t){var n=this;return new Promise(function(a,i){n.queue.push({resolve:a,reject:i});try{n.worker.postMessage(e)}catch{console.warn("[AntV G2] Web worker is not available"),ut(t)&&t()}})},r.prototype.destroy=function(){this.worker.terminate()},r}();function QK(r){if(!(typeof window>"u")){var e;try{e=new Blob([r.toString()],{type:"application/javascript"})}catch{e=new window.BlobBuilder,e.append(r.toString()),e=e.getBlob()}return new ZK(URL.createObjectURL(e))}}var JK=function(r){function e(){function u(b,x){return(b[0]||0)*(x[0]||0)+(b[1]||0)*(x[1]||0)+(b[2]||0)*(x[2]||0)}function c(b){if(b.length>4)return[];var x=function(C,T){return[T.x-C.x,T.y-C.y]},w=x(b[0],b[1]),S=x(b[1],b[2]);return[w,S]}function f(b,x,w){x===void 0&&(x=0),w===void 0&&(w={x:0,y:0});var S=b.x,C=b.y;return{x:(S-w.x)*Math.cos(-x)+(C-w.y)*Math.sin(-x)+w.x,y:(w.x-S)*Math.sin(-x)+(C-w.y)*Math.cos(-x)+w.y}}function h(b){var x=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}],w=b.rotation;return w?[f(x[0],w,x[0]),f(x[1],w,x[0]),f(x[2],w,x[0]),f(x[3],w,x[0])]:x}function d(b,x){if(b.length>4)return{min:0,max:0};var w=[];return b.forEach(function(S){w.push(u([S.x,S.y],x))}),{min:Math.min.apply(null,w),max:Math.max.apply(null,w)}}function p(b,x){return b.max>x.min&&b.min<x.max}function v(b){return typeof b=="number"&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0}function g(b){return["x","y","width","height"].every(function(x){return v(b[x])})}function y(b,x,w){return w===void 0&&(w=0),!(x.x>b.x+b.width+w||x.x+x.width<b.x-w||x.y>b.y+b.height+w||x.y+x.height<b.y-w)}function m(b,x,w){if(w===void 0&&(w=0),!g(b)||!g(x))return!1;if(!b.rotation&&!x.rotation)return y(b,x,w);for(var S=h(b),C=h(x),T=c(S).concat(c(C)),F=0;F<T.length;F++){var I=T[F],M=d(S,I),O=d(C,I);if(!p(M,O))return!1}return!0}return{intersect:m}}var t=e().intersect;function n(u){for(var c=u.slice(),f=0;f<c.length;f++){var h=c[f];if(h.visible)for(var d=f+1;d<c.length;d++){var p=c[d];h!==p&&p.visible&&t(h,p)&&(p.visible=!1)}}return c}var a={"hide-overlap":n};try{var i=JSON.parse(r.data);if(!i||!i.type||!a[i.type])return;var o=i.type,l=i.items,s=a[o](l);self.postMessage(s)}catch(u){throw u}},tZ=`
   self.onmessage = `.concat(JK.toString(),`
`),xd=function(r){for(var e=r.slice(),t=0;t<e.length;t++){var n=e[t];if(n.visible)for(var a=t+1;a<e.length;a++){var i=e[a];n!==i&&i.visible&&KK(n,i)&&(i.visible=!1)}}return e},bd=new Map,jw=QK(tZ);function eZ(r,e,t,n){return Bl(this,void 0,void 0,function(){var a,i,o,l,s,u;return Nl(this,function(c){switch(c.label){case 0:return a=e.map(function(f,h){return E(E({},uT(f,r[h],H(r[h],"background.padding"))),{visible:!0})}),i=JSON.stringify(a),o=function(f){return bd.set(i,f),j(f,function(h,d){var p=h.visible,v=e[d];p?v==null||v.show():v==null||v.hide()}),f},bd.get(i)?(o(bd.get(i)),[3,7]):[3,1];case 1:if(!jw)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),l=JSON.stringify({type:"hide-overlap",items:a}),[4,jw.post(l,function(){return o(xd(a))})];case 3:return s=c.sent(),o(Array.isArray(s.data)?s.data:[]),[3,5];case 4:return u=c.sent(),console.error(u),o(xd(a)),[3,5];case 5:return[3,7];case 6:o(xd(a)),c.label=7;case 7:return[2]}})})}var Vw={"#5B8FF9":!0},rZ=function(r){var e=pa.toRGB(r).toUpperCase();if(Vw[e])return Vw[e];var t=ct(pa.rgb2arr(e),3),n=t[0],a=t[1],i=t[2],o=(n*299+a*587+i*114)/1e3<128;return o};function nZ(r,e,t){if(t.length!==0){var n=t[0].get("element"),a=n.geometry.theme,i=a.labels||{},o=i.fillColorLight,l=i.fillColorDark;t.forEach(function(s,u){var c=e[u],f=c.find(function(y){return y.get("type")==="text"}),h=Xe.fromObject(s.getBBox()),d=Xe.fromObject(f.getCanvasBBox()),p=!h.contains(d),v=s.attr("fill"),g=rZ(v);p?f.attr(a.overflowLabels.style):g?o&&f.attr("fill",o):l&&f.attr("fill",l)})}}function aZ(r,e,t){var n=r.coordinate,a=Ca(e),i=Xe.fromObject(a.getCanvasBBox()),o=Xe.fromObject(t.getBBox());return n.isTransposed?o.height>=i.height:o.width>=i.width}function iZ(r,e,t){var n=!!r.getAdjust("stack");return n||e.every(function(a,i){var o=t[i];return aZ(r,a,o)})}function oZ(r,e,t){var n=r.coordinate,a=Xe.fromObject(t.getBBox()),i=Ca(e);n.isTransposed?i.attr({x:a.minX+a.width/2,textAlign:"center"}):i.attr({y:a.minY+a.height/2,textBaseline:"middle"})}function lZ(r,e,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=iZ(i,e,t);o&&t.forEach(function(l,s){var u=e[s];oZ(i,u,l)})}}}function sZ(r){var e=500,t=[],n=Math.max(Math.floor(r.length/e),1);return j(r,function(a,i){i%n===0?t.push(a):a.set("visible",!1)}),t}function uZ(r,e,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=sZ(e),l=ct(i.getXYFields(),1),s=l[0],u=[],c=[],f=dr(o,function(g){return g.get("data")[s]}),h=pi(Qt(o,function(g){return g.get("data")[s]})),d;o.forEach(function(g){g.set("visible",!0)});var p=function(g){g&&(g.length&&c.push(g.pop()),c.push.apply(c,pt([],ct(g),!1)))};for(Ie(h)>0&&(d=h.shift(),p(f[d])),Ie(h)>0&&(d=h.pop(),p(f[d])),j(h.reverse(),function(g){p(f[g])});c.length>0;){var v=c.shift();v.get("visible")&&(CX(v,u)?v.set("visible",!1):u.push(v))}}}}function cZ(r,e){var t=r.getXYFields()[1],n=[],a=e.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,pt([],ct(a),!1)),n}function WT(r,e,t){return r.some(function(n){return t(n,e)})}function fZ(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function Hw(r,e){return WT(r,e,function(t,n){var a=Ca(t),i=Ca(n);return fZ(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function hZ(r,e,t,n,a){var i,o;if(t.length!==0){var l=(i=t[0])===null||i===void 0?void 0:i.get("element"),s=l==null?void 0:l.geometry;if(!(!s||s.type!=="point")){var u=ct(s.getXYFields(),2),c=u[0],f=u[1],h=dr(e,function(v){return v.get("data")[c]}),d=[],p=a&&a.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Qt(Po(h).reverse(),function(v){for(var g=cZ(s,h[v]);g.length;){var y=g.shift(),m=Ca(y);if(WT(d,y,function(w,S){return w.get("data")[c]===S.get("data")[c]&&w.get("data")[f]===S.get("data")[f]})){m.set("visible",!1);continue}var b=Hw(d,y),x=!1;if(b&&(m.attr("y",m.attr("y")+2*p),x=Hw(d,y)),x){m.set("visible",!1);continue}d.push(y)}})}}}function dZ(r,e){var t=r.getXYFields()[1],n=[],a=e.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,pt([],ct(a),!1)),n}function GT(r,e,t){return r.some(function(n){return t(n,e)})}function pZ(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function zw(r,e){return GT(r,e,function(t,n){var a=Ca(t),i=Ca(n);return pZ(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function vZ(r,e,t,n,a){var i,o;if(t.length!==0){var l=(i=t[0])===null||i===void 0?void 0:i.get("element"),s=l==null?void 0:l.geometry;if(!(!s||["path","line","area"].indexOf(s.type)<0)){var u=ct(s.getXYFields(),2),c=u[0],f=u[1],h=dr(e,function(v){return v.get("data")[c]}),d=[],p=a&&a.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Qt(Po(h).reverse(),function(v){for(var g=dZ(s,h[v]);g.length;){var y=g.shift(),m=Ca(y);if(GT(d,y,function(w,S){return w.get("data")[c]===S.get("data")[c]&&w.get("data")[f]===S.get("data")[f]})){m.set("visible",!1);continue}var b=zw(d,y),x=!1;if(b&&(m.attr("y",m.attr("y")+2*p),x=zw(d,y)),x){m.set("visible",!1);continue}d.push(y)}})}}}var wd;function gZ(){return wd||(wd=document.createElement("canvas").getContext("2d")),wd}var bu=Lo(function(r,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,a=e.fontWeight,i=e.fontStyle,o=e.fontVariant,l=gZ();return l.font=[i,o,a,"".concat(t,"px"),n].join(" "),l.measureText(gt(r)?r:"").width},function(r,e){return e===void 0&&(e={}),pt([r],ct(lf(e)),!1).join("")}),yZ=function(r,e,t){var n=16,a=bu("...",t),i;gt(r)?i=r:i=xs(r);var o=e,l=[],s,u;if(bu(r,t)<=e)return r;for(;s=i.substr(0,n),u=bu(s,t),!(u+a>o&&u>o);)if(l.push(s),o-=u,i=i.substr(n),!i)return l.join("");for(;s=i.substr(0,1),u=bu(s,t),!(u+a>o);)if(l.push(s),o-=u,i=i.substr(1),!i)return l.join("");return"".concat(l.join(""),"...")};function mZ(r,e,t,n,a){if(!(e.length<=0)){var i=(a==null?void 0:a.direction)||["top","right","bottom","left"],o=(a==null?void 0:a.action)||"translate",l=(a==null?void 0:a.margin)||0,s=e[0].get("coordinate");if(s){var u=fU(s,l),c=u.minX,f=u.minY,h=u.maxX,d=u.maxY;j(e,function(p){var v=p.getCanvasBBox(),g=v.minX,y=v.minY,m=v.maxX,b=v.maxY,x=v.x,w=v.y,S=v.width,C=v.height,T=x,F=w;if(i.indexOf("left")>=0&&(g<c||m<c)&&(T=c),i.indexOf("top")>=0&&(y<f||b<f)&&(F=f),i.indexOf("right")>=0&&(g>h?T=h-S:m>h&&(T=T-(m-h))),i.indexOf("bottom")>=0&&(y>d?F=d-C:b>d&&(F=F-(b-d))),T!==x||F!==w){var I=T-x;if(o==="translate")Is(p,I,F-w);else if(o==="ellipsis"){var M=p.findAll(function(O){return O.get("type")==="text"});M.forEach(function(O){var k=yg(O.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),L=O.getCanvasBBox(),N=yZ(O.attr("text"),L.width-Math.abs(I),k);O.attr("text",N)})}else p.hide()}})}}}function xZ(r,e,t){var n={fillOpacity:Q(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:Q(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:Q(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(n,e)}function bZ(r,e,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},a=e.easing,i=e.duration,o=e.delay;r.animate(n,i,a,function(){r.remove(!0)},o)}function wZ(r,e,t){var n,a=ct(e,2),i=a[0],o=a[1];return r.applyToMatrix([i,o,1]),t==="x"?(r.setMatrix(be(r.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]])),n=be(r.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])):t==="y"?(r.setMatrix(be(r.getMatrix(),[["t",-i,-o],["s",1,.01],["t",i,o]])),n=be(r.getMatrix(),[["t",-i,-o],["s",1,100],["t",i,o]])):t==="xy"&&(r.setMatrix(be(r.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])),n=be(r.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])),n}function dy(r,e,t,n,a){var i=t.start,o=t.end,l=t.getWidth(),s=t.getHeight(),u,c;a==="y"?(u=i.x+l/2,c=n.y<i.y?n.y:i.y):a==="x"?(u=n.x>i.x?n.x:i.x,c=i.y+s/2):a==="xy"&&(t.isPolar?(u=t.getCenter().x,c=t.getCenter().y):(u=(i.x+o.x)/2,c=(i.y+o.y)/2));var f=wZ(r,[u,c],a);r.animate({matrix:f},e)}function SZ(r,e,t){var n=t.coordinate,a=t.minYPoint;dy(r,e,n,a,"x")}function CZ(r,e,t){var n=t.coordinate,a=t.minYPoint;dy(r,e,n,a,"y")}function AZ(r,e,t){var n=t.coordinate,a=t.minYPoint;dy(r,e,n,a,"xy")}function EZ(r,e,t){var n=r.getTotalLength();r.attr("lineDash",[n]),r.animate(function(a){return{lineDashOffset:(1-a)*n}},e)}function TZ(r,e,t){var n=t.toAttrs,a=n.x,i=n.y;delete n.x,delete n.y,r.attr(n),r.animate({x:a,y:i},e)}function IZ(r,e,t){var n=r.getBBox(),a=r.get("origin").mappingData,i=a.points,o=i[0].y-i[1].y>0?n.maxX:n.minX,l=(n.minY+n.maxY)/2;r.applyToMatrix([o,l,1]);var s=be(r.getMatrix(),[["t",-o,-l],["s",.01,1],["t",o,l]]);r.setMatrix(s),r.animate({matrix:be(r.getMatrix(),[["t",-o,-l],["s",100,1],["t",o,l]])},e)}function MZ(r,e,t){var n=r.getBBox(),a=r.get("origin").mappingData,i=(n.minX+n.maxX)/2,o=a.points,l=o[0].y-o[1].y<=0?n.maxY:n.minY;r.applyToMatrix([i,l,1]);var s=be(r.getMatrix(),[["t",-i,-l],["s",1,.01],["t",i,l]]);r.setMatrix(s),r.animate({matrix:be(r.getMatrix(),[["t",-i,-l],["s",1,100],["t",i,l]])},e)}function Ww(r,e){var t,n=Tc(r,e),a=n.startAngle,i=n.endAngle;return!Le(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),!Le(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),e[5]===0&&(t=ct([i,a],2),a=t[0],i=t[1]),Le(a,Math.PI*1.5)&&(a=Math.PI*-.5),Le(i,Math.PI*-.5)&&!Le(a,i)&&(i=Math.PI*1.5),{startAngle:a,endAngle:i}}function Gw(r){var e;return r[0]==="M"||r[0]==="L"?e=[r[1],r[2]]:(r[0]==="a"||r[0]==="A"||r[0]==="C")&&(e=[r[r.length-2],r[r.length-1]]),e}function qw(r){var e,t,n,a=r.filter(function(b){return b[0]==="A"||b[0]==="a"});if(a.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var i=a[0],o=a.length>1?a[1]:a[0],l=r.indexOf(i),s=r.indexOf(o),u=Gw(r[l-1]),c=Gw(r[s-1]),f=Ww(u,i),h=f.startAngle,d=f.endAngle,p=Ww(c,o),v=p.startAngle,g=p.endAngle;Le(h,v)&&Le(d,g)?(t=h,n=d):(t=Math.min(h,v),n=Math.max(d,g));var y=i[1],m=a[a.length-1][1];return y<m?(e=ct([m,y],2),y=e[0],m=e[1]):y===m&&(m=0),{startAngle:t,endAngle:n,radius:y,innerRadius:m}}function OZ(r,e,t){var n=t.toAttrs,a=t.coordinate,i=n.path||[],o=i.map(function(m){return m[0]});if(!(i.length<1)){var l=qw(i),s=l.startAngle,u=l.endAngle,c=l.radius,f=l.innerRadius,h=qw(r.attr("path")),d=h.startAngle,p=h.endAngle,v=a.getCenter(),g=s-d,y=u-p;if(g===0&&y===0){r.attr(n);return}r.animate(function(m){var b=d+m*g,x=p+m*y;return E(E({},n),{path:le(o,["M","A","A","Z"])?IE(v.x,v.y,c,b,x):va(v.x,v.y,c,b,x,f)})},E(E({},e),{callback:function(){r.attr("path",i),ut(e.callback)&&e.callback()}}))}}function FZ(r,e,t){var n=Wg(t.coordinate,20),a=n.type,i=n.startState,o=n.endState,l=r.setClip({type:a,attrs:i});t.toAttrs&&r.attr(t.toAttrs),l.animate(o,E(E({},e),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),l.remove(!0),ut(e.callback)&&e.callback()}}))}function py(r,e,t){if(r.isGroup())j(r.getChildren(),function(l){py(l,e,t)});else{var n=r.getBBox(),a=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;if(r.applyToMatrix([a,i,1]),t==="zoomIn"){var o=be(r.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]]);r.setMatrix(o),r.animate({matrix:be(r.getMatrix(),[["t",-a,-i],["s",100,100],["t",a,i]])},e)}else r.animate({matrix:be(r.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]])},E(E({},e),{callback:function(){r.remove(!0),ut(e.callback)&&e.callback()}}))}}function kZ(r,e,t){py(r,e,"zoomIn")}function PZ(r,e,t){py(r,e,"zoomOut")}function Vn(r){return[it.TOP,it.BOTTOM].includes(r)?{offsetX:0,offsetY:r===it.TOP?-8:8,style:{textAlign:"center",textBaseline:r===it.TOP?"bottom":"top"}}:[it.LEFT,it.RIGHT].includes(r)?{offsetX:r===it.LEFT?-8:8,offsetY:0,style:{textAlign:r===it.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Sd(r,e,t){return{x:r.x+e*Math.cos(t),y:r.y+e*Math.sin(t)}}var RZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,n){var a=.5,i={x:.5,y:.5},o=Math.PI*2/t,l=-1*Math.PI/2+o*n,s=a/(1+1/Math.sin(o/2)),u=Sd(i,a-s,l),c=Math.PI*5/4,f=Math.PI*1/4;return{start:Sd(u,s,c),end:Sd(u,s,f)}},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,a=this.cfg,i=a.fields,o=a.type,l=ct(i,1),s=l[0];if(!s)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,s),c=u.length,f=[];return u.forEach(function(h,d){var p=[{field:s,value:h,values:u}],v=Be(t,n.getFacetDataFilter(p)),g={type:o,data:v,region:n.getRegion(c,d),columnValue:h,columnField:s,columnIndex:d,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};f.push(g)}),f},e.prototype.getXAxisOption=function(t,n,a,i){return a},e.prototype.getYAxisOption=function(t,n,a,i){return a},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n){var a=n.columnValue,i=n.view,o=H(t.cfg.title,"formatter"),l=lt({position:["50%","0%"],content:o?o(a):a},Vn(it.TOP),t.cfg.title);i.annotation().text(l)})},e}(_o),LZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,a=this.cfg.fields,i=this.cfg.cols,o=ct(a,1),l=o[0];if(!l)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,l),u=s.length;i=i||u;var c=this.getPageCount(u,i),f=[];return s.forEach(function(h,d){var p=n.getRowCol(d,i),v=p.row,g=p.col,y=[{field:l,value:h,values:s}],m=Be(t,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:m,region:n.getRegion(c,i,g,v),columnValue:h,rowValue:h,columnField:l,rowField:null,columnIndex:g,rowIndex:v,columnValuesLength:i,rowValuesLength:c,total:u};f.push(b)}),f},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?E(E({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?E(E({},a),{title:null,label:null}):a},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n){var a=n.columnValue,i=n.view,o=H(t.cfg.title,"formatter"),l=lt({position:["50%","0%"],content:o?o(a):a},Vn(it.TOP),t.cfg.title);i.annotation().text(l)})},e.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},e.prototype.getRowCol=function(t,n){var a=Math.floor(t/n),i=t%n;return{row:a,col:i}},e}(_o),DZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:E({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:E({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){for(var n=this.cfg,a=n.fields,i=n.type,o=a.length,l=o,s=[],u=0;u<l;u++)for(var c=a[u],f=0;f<o;f++){var h=a[f],d={type:i,data:t,region:this.getRegion(o,l,u,f),columnValue:c,rowValue:h,columnField:c,rowField:h,columnIndex:u,rowIndex:f,columnValuesLength:l,rowValuesLength:o};s.push(d)}return s},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?E(E({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?E(E({},a),{title:null,label:null}):a},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,l=n.columnValuesLength;n.rowValuesLength;var s=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=H(t.cfg.columnTitle,"formatter"),h=lt({position:["50%","0%"],content:f?f(s):s},Vn(it.TOP),t.cfg.columnTitle);c.annotation().text(h)}if(i===l-1){var f=H(t.cfg.rowTitle,"formatter"),h=lt({position:["100%","50%"],content:f?f(u):u},Vn(it.RIGHT),t.cfg.rowTitle);c.annotation().text(h)}})},e}(_o),_Z=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.generateFacets=function(t){var n=this,a=ct(this.cfg.fields,1),i=a[0],o=[],l=1,s=1,u=[""],c=[""],f,h;return this.cfg.transpose?(f=i,u=this.getFieldValues(t,f).slice(0,2),l=u.length):(h=i,c=this.getFieldValues(t,h).slice(0,2),s=c.length),u.forEach(function(d,p){c.forEach(function(v,g){var y=[{field:f,value:d,values:u},{field:h,value:v,values:c}],m=Be(t,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:m,region:n.getRegion(s,l,p,g),columnValue:d,rowValue:v,columnField:f,rowField:h,columnIndex:p,rowIndex:g,columnValuesLength:l,rowValuesLength:s};o.push(b)})}),o},e.prototype.getXAxisOption=function(t,n,a,i){return i.columnIndex===1||i.rowIndex===1?E(E({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return a},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n,a){var i=n.columnValue,o=n.rowValue,l=n.view,s=H(t.cfg.title,"formatter");if(t.cfg.transpose){var u=lt({position:["50%","0%"],content:s?s(i):i},Vn(it.TOP),t.cfg.title);l.annotation().text(u)}else{var u=lt({position:["100%","50%"],content:s?s(o):o},Vn(it.RIGHT),t.cfg.title);l.annotation().text(u)}})},e}(_o),BZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:E({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:E({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var n=this,a=ct(this.cfg.fields,2),i=a[0],o=a[1],l=[],s=1,u=1,c=[""],f=[""];return i&&(c=this.getFieldValues(t,i),s=c.length),o&&(f=this.getFieldValues(t,o),u=f.length),c.forEach(function(h,d){f.forEach(function(p,v){var g=[{field:i,value:h,values:c},{field:o,value:p,values:f}],y=Be(t,n.getFacetDataFilter(g)),m={type:n.cfg.type,data:y,region:n.getRegion(u,s,d,v),columnValue:h,rowValue:p,columnField:i,rowField:o,columnIndex:d,rowIndex:v,columnValuesLength:s,rowValuesLength:u};l.push(m)})}),l},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,l=n.columnValuesLength,s=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=H(t.cfg.columnTitle,"formatter"),h=lt({position:["50%","0%"],content:f?f(s):s},Vn(it.TOP),t.cfg.columnTitle);c.annotation().text(h)}if(i===l-1){var f=H(t.cfg.rowTitle,"formatter"),h=lt({position:["100%","50%"],content:f?f(u):u},Vn(it.RIGHT),t.cfg.rowTitle);c.annotation().text(h)}})},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?E(E({},a),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?E(E({},a),{title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?E(E({},a),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?E(E({},a),{title:null}):a},e}(_o),NZ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.init=function(){r.prototype.init.call(this),this.view.on(St.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return lt({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var a=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return a.push(i),i.children=this.getChildFacets(t,1,a),this.setRegion(a),a},e.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(a){a.region=n.getRegion(a.rowValuesLength,a.columnValuesLength,a.columnIndex,a.rowIndex)})},e.prototype.getRegion=function(t,n,a,i){var o=1/n,l=1/t,s={x:o*a,y:l*i},u={x:s.x+o,y:s.y+l*2/3};return{start:s,end:u}},e.prototype.forceColIndex=function(t){var n,a,i=this,o=[],l=0;t.forEach(function(p){i.isLeaf(p)&&(o.push(p),p.columnIndex=l,l++)}),o.forEach(function(p){p.columnValuesLength=o.length});for(var s=this.cfg.fields.length,u=s-1;u>=0;u--){var c=this.getFacetsByLevel(t,u);try{for(var f=(n=void 0,_t(c)),h=f.next();!h.done;h=f.next()){var d=h.value;this.isLeaf(d)||(d.originColIndex=d.columnIndex,d.columnIndex=this.getRegionIndex(d.children),d.columnValuesLength=o.length)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}},e.prototype.getFacetsByLevel=function(t,n){var a=[];return t.forEach(function(i){i.rowIndex===n&&a.push(i)}),a},e.prototype.getRegionIndex=function(t){var n=t[0],a=t[t.length-1];return(a.columnIndex-n.columnIndex)/2+n.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,n,a){var i=this,o=this.cfg.fields,l=o.length;if(!(l<n)){var s=[],u=o[n-1],c=this.getFieldValues(t,u);return c.forEach(function(f,h){var d=[{field:u,value:f,values:c}],p=t.filter(i.getFacetDataFilter(d));if(p.length){var v={type:i.cfg.type,data:p,region:null,columnValue:f,rowValue:"",columnField:u,rowField:"",columnIndex:h,rowValuesLength:i.getRows(),columnValuesLength:1,rowIndex:n,children:i.getChildFacets(p,n+1,a)};s.push(v),a.push(v)}}),s}},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;j(this.facets,function(n){var a=n.columnValue,i=n.view,o=H(t.cfg.title,"formatter"),l=lt({position:["50%","0%"],content:o?o(a):a},Vn(it.TOP),t.cfg.title);i.annotation().text(l)})},e.prototype.drawLines=function(t){var n=this;t.forEach(function(a){if(!n.isLeaf(a)){var i=a.children;n.addFacetLines(a,i)}})},e.prototype.addFacetLines=function(t,n){var a=this,i=t.view,o=i.coordinateBBox,l={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(s){var u=s.view.coordinateBBox,c={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},f={x:l.x,y:l.y+(c.y-l.y)/2},h={x:c.x,y:f.y};a.drawLine([l,f,h,c])})},e.prototype.getPath=function(t){var n=[],a=this.cfg.line.smooth;return a?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(i,o){o===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},e.prototype.drawLine=function(t){var n=this.getPath(t),a=this.cfg.line.style;this.container.addShape("path",{attrs:zt({path:n},a)})},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?E(E({},a),{title:null,label:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.originColIndex!==0&&i.columnIndex!==0?E(E({},a),{title:null,label:null}):a},e}(_o);function Yw(r){var e=pt([],ct(r),!1);e.sort(function(n,a){return n-a});var t=e.length;return t===0?0:t%2===1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2}function $Z(r){var e=ze(r,function(t,n){return t+=isNaN(n)||!xt(n)?0:n},0);return r.length===0?0:e/r.length}function wu(r,e){if(!e)return null;var t;switch(r){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=e.isCategory?Yw(e.values.map(function(n,a){return a})):Yw(e.values);break}case"mean":{t=e.isCategory?(e.values.length-1)/2:$Z(e.values);break}case"min":t=e.isCategory?0:e[r];break;case"max":t=e.isCategory?e.values.length-1:e[r];break;default:t=r;break}return e.scale(t)}var Su=["regionFilter","shape"],jZ=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(ce.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(ce.BG).addGroup(),n.option=[],n}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender(function(){var a=new Map;j(t.option,function(i){if(qa(Su,i.type)){var o=t.updateOrCreate(i);o&&a.set(t.getCacheKey(i),o)}}),t.cache=t.syncCache(a)});var n=new Map;j(this.option,function(a){if(!qa(Su,a.type)){var i=t.updateOrCreate(a);i&&n.set(t.getCacheKey(a),i)}}),this.cache=this.syncCache(n)},e.prototype.clear=function(t){t===void 0&&(t=!1),r.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(a){a.animateOption&&(a.once(ha.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(St.AFTER_RENDER,function(){t()})},e.prototype.createAnnotation=function(t){var n=t.type,a=n9[Ci(n)];if(a){var i=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,i);if(!o)return null;var l=new a(o);return{component:l,layer:this.isTop(o)?ce.FORE:ce.BG,direction:it.NONE,type:Te.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(E({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(E({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(E({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(E({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(E({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(E({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(E({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(E({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(E({type:"shape"},t))},e.prototype.html=function(t){this.annotation(E({type:"html"},t))},e.prototype.parsePosition=function(t){var n,a,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=ut(t)?t.call(null,i,o):t,s=0,u=0;if(J(l)){var c=ct(l,2),f=c[0],h=c[1];if(gt(f)&&f.indexOf("%")!==-1&&!isNaN(f.slice(0,-1)))return this.parsePercentPosition(l);s=wu(f,i),u=wu(h,Object.values(o)[0])}else if(!Q(l))try{for(var d=_t(Po(l)),p=d.next();!p.done;p=d.next()){var v=p.value,g=l[v];v===i.field&&(s=wu(g,i)),o[v]&&(u=wu(g,o[v]))}}catch(y){n={error:y}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return isNaN(s)||isNaN(u)?null:this.view.getCoordinate().convert({x:s,y:u})},e.prototype.getRegionPoints=function(t,n){var a=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=Object.values(o)[0],s=i.field,u=this.view.getData(),c=J(t)?t[0]:t[s],f=J(n)?n[0]:n[s],h=[],d;return j(u,function(p,v){if(p[s]===c&&(d=v),v>=d){var g=a.parsePosition([p[s],p[l.field]]);g&&h.push(g)}if(p[s]===f)return!1}),h},e.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,a=parseFloat(t[1])/100,i=this.view.getCoordinate(),o=i.start,l=i.end,s={x:Math.min(o.x,l.x),y:Math.min(o.y,l.y)},u=i.getWidth()*n+s.x,c=i.getHeight()*a+s.y;return{x:u,y:c}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,a=t.end,i=t.getWidth(),o=t.getHeight(),l={x:Math.min(n.x,a.x),y:Math.min(n.y,a.y)};return{x:l.x,y:l.y,minX:l.x,minY:l.y,maxX:l.x+i,maxY:l.y+o,width:i,height:o}},e.prototype.getAnnotationCfg=function(t,n,a){var i=this,o=this.view.getCoordinate(),l=this.view.getCanvas(),s={};if(Q(n))return null;var u=n.start,c=n.end,f=n.position,h=this.parsePosition(u),d=this.parsePosition(c),p=this.parsePosition(f);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!d))return null;if(["text","dataMarker","html"].includes(t)&&!p)return null;if(t==="arc"){var v=n;v.start,v.end;var g=Ht(v,["start","end"]),y=vo(o,h),m=vo(o,d);y>m&&(m=Math.PI*2+m),s=E(E({},g),{center:o.getCenter(),radius:Lf(o,h),startAngle:y,endAngle:m})}else if(t==="image"){var b=n;b.start,b.end;var g=Ht(b,["start","end"]);s=E(E({},g),{start:h,end:d,src:n.src})}else if(t==="line"){var x=n;x.start,x.end;var g=Ht(x,["start","end"]);s=E(E({},g),{start:h,end:d,text:H(n,"text",null)})}else if(t==="region"){var w=n;w.start,w.end;var g=Ht(w,["start","end"]);s=E(E({},g),{start:h,end:d})}else if(t==="text"){var S=this.view.getData(),C=n;C.position;var T=C.content,g=Ht(C,["position","content"]),F=T;ut(T)&&(F=T(S)),s=E(E(E({},p),g),{content:F})}else if(t==="dataMarker"){var I=n;I.position;var M=I.point,O=I.line,k=I.text,L=I.autoAdjust,N=I.direction,g=Ht(I,["position","point","line","text","autoAdjust","direction"]);s=E(E(E({},g),p),{coordinateBBox:this.getCoordinateBBox(),point:M,line:O,text:k,autoAdjust:L,direction:N})}else if(t==="dataRegion"){var R=n,D=R.start,W=R.end,V=R.region,k=R.text,B=R.lineLength,g=Ht(R,["start","end","region","text","lineLength"]);s=E(E({},g),{points:this.getRegionPoints(D,W),region:V,text:k,lineLength:B})}else if(t==="regionFilter"){var P=n;P.start,P.end;var $=P.apply,z=P.color,g=Ht(P,["start","end","apply","color"]),Y=this.view.geometries,q=[],_=function(Yt){Yt&&(Yt.isGroup()?Yt.getChildren().forEach(function(ne){return _(ne)}):q.push(Yt))};j(Y,function(Yt){$?qa($,Yt.type)&&j(Yt.elements,function(ne){_(ne.shape)}):j(Yt.elements,function(ne){_(ne.shape)})}),s=E(E({},g),{color:z,shapes:q,start:h,end:d})}else if(t==="shape"){var G=n,X=G.render,K=Ht(G,["render"]),tt=function(kt){if(ut(n.render))return X(kt,i.view,{parsePosition:i.parsePosition.bind(i)})};s=E(E({},K),{render:tt})}else if(t==="html"){var et=n,vt=et.html;et.position;var K=Ht(et,["html","position"]),st=function(Yt){return ut(vt)?vt(Yt,i.view):vt};s=E(E(E({},K),p),{parent:l.get("el").parentNode,html:st})}var yt=lt({},a,E(E({},s),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(yt.container=this.getComponentContainer(yt)),yt.animate=this.view.getOptions().animate&&yt.animate&&H(n,"animate",yt.animate),yt.animateOption=lt({},yo,yt.animateOption,n.animateOption),yt},e.prototype.isTop=function(t){return H(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return H(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var a=t.type,i=this.getAnnotationTheme(a),o=this.getAnnotationCfg(a,t,i);o&&tr(o,["container"]),n.component.update(E(E({},o||{}),{visible:!!o})),qa(Su,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),qa(Su,t.type)&&n.component.render());return n},e.prototype.syncCache=function(t){var n=this,a=new Map(this.cache);return t.forEach(function(i,o){a.set(o,i)}),a.forEach(function(i,o){Yr(n.option,function(l){return o===n.getCacheKey(l)})||(i.component.destroy(),a.delete(o))}),a},e.prototype.getCacheKey=function(t){return t},e}(No);function Uw(r,e){var t=lt({},H(r,["components","axis","common"]),H(r,["components","axis",e]));return H(t,["grid"],{})}function Cu(r,e,t,n){var a=[],i=e.getTicks();return r.isPolar&&i.push({value:1,text:"",tickValue:""}),i.reduce(function(o,l,s){var u=l.value;if(n)a.push({points:[r.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),r.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(s){var c=o.value,f=(c+u)/2;a.push({points:[r.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),r.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]})}return l},i[0]),a}function Cd(r,e,t,n,a){var i=e.values.length,o=[],l=t.getTicks();return l.reduce(function(s,u){var c=s?s.value:u.value,f=u.value,h=(c+f)/2;return a==="x"?o.push({points:[r.convert({x:n?f:h,y:0}),r.convert({x:n?f:h,y:1})]}):o.push({points:Qt(Array(i+1),function(d,p){return r.convert({x:p/i,y:n?f:h})})}),u},l[0]),o}function Xw(r,e){var t=H(e,"grid");if(t===null)return!1;var n=H(r,"grid");return!(t===void 0&&n===null)}var Zn=["container"],Kw=E(E({},yo),{appear:null}),VZ=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(ce.BG).addGroup(),n.gridForeContainer=n.view.getLayer(ce.FORE).addGroup(),n.axisContainer=n.view.getLayer(ce.BG).addGroup(),n.axisForeContainer=n.view.getLayer(ce.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,n=this.view.getCoordinate();j(this.getComponents(),function(a){var i=a.component,o=a.direction,l=a.type,s=a.extra,u=s.dim,c=s.scale,f=s.alignTick,h;if(l===Te.AXIS)n.isPolar?u==="x"?h=n.isTransposed?cu(n,o):vd(n):u==="y"&&(h=n.isTransposed?vd(n):cu(n,o)):h=cu(n,o);else if(l===Te.GRID)if(n.isPolar){var d=void 0;n.isTransposed?d=u==="x"?Cd(n,t.view.getYScales()[0],c,f,u):Cu(n,c,u,f):d=u==="x"?Cu(n,c,u,f):Cd(n,t.view.getXScale(),c,f,u),h={items:d,center:t.view.getCoordinate().getCenter()}}else h={items:Cu(n,c,u,f)};i.update(h)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(a,i){t.has(i)?n.set(i,a):a.component.destroy()}),this.cache=n},e.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var a=Cc(this.option,n.field);if(a!==!1){var i=ow(a,it.BOTTOM),o=ce.BG,l="x",s=this.view.getCoordinate(),u=this.getId("axis",n.field),c=this.getId("grid",n.field);if(s.isRect){var f=this.cache.get(u);if(f){var h=this.getLineAxisCfg(n,a,i);tr(h,Zn),f.component.update(h),t.set(u,f)}else f=this.createLineAxis(n,a,o,i,l),this.cache.set(u,f),t.set(u,f);var d=this.cache.get(c);if(d){var h=this.getLineGridCfg(n,a,i,l);tr(h,Zn),d.component.update(h),t.set(c,d)}else d=this.createLineGrid(n,a,o,i,l),d&&(this.cache.set(c,d),t.set(c,d))}else if(s.isPolar){var f=this.cache.get(u);if(f){var h=s.isTransposed?this.getLineAxisCfg(n,a,it.RADIUS):this.getCircleAxisCfg(n,a,i);tr(h,Zn),f.component.update(h),t.set(u,f)}else{if(s.isTransposed){if(Xa(a))return;f=this.createLineAxis(n,a,o,it.RADIUS,l)}else f=this.createCircleAxis(n,a,o,i,l);this.cache.set(u,f),t.set(u,f)}var d=this.cache.get(c);if(d){var h=s.isTransposed?this.getCircleGridCfg(n,a,it.RADIUS,l):this.getLineGridCfg(n,a,it.CIRCLE,l);tr(h,Zn),d.component.update(h),t.set(c,d)}else{if(s.isTransposed){if(Xa(a))return;d=this.createCircleGrid(n,a,o,it.RADIUS,l)}else d=this.createLineGrid(n,a,o,it.CIRCLE,l);d&&(this.cache.set(c,d),t.set(c,d))}}}}},e.prototype.updateYAxes=function(t){var n=this,a=this.view.getYScales();j(a,function(i,o){if(!(!i||i.isIdentity)){var l=i.field,s=Cc(n.option,l);if(s!==!1){var u=ce.BG,c="y",f=n.getId("axis",l),h=n.getId("grid",l),d=n.view.getCoordinate();if(d.isRect){var p=ow(s,o===0?it.LEFT:it.RIGHT),v=n.cache.get(f);if(v){var g=n.getLineAxisCfg(i,s,p);tr(g,Zn),v.component.update(g),t.set(f,v)}else v=n.createLineAxis(i,s,u,p,c),n.cache.set(f,v),t.set(f,v);var y=n.cache.get(h);if(y){var g=n.getLineGridCfg(i,s,p,c);tr(g,Zn),y.component.update(g),t.set(h,y)}else y=n.createLineGrid(i,s,u,p,c),y&&(n.cache.set(h,y),t.set(h,y))}else if(d.isPolar){var v=n.cache.get(f);if(v){var g=d.isTransposed?n.getCircleAxisCfg(i,s,it.CIRCLE):n.getLineAxisCfg(i,s,it.RADIUS);tr(g,Zn),v.component.update(g),t.set(f,v)}else{if(d.isTransposed){if(Xa(s))return;v=n.createCircleAxis(i,s,u,it.CIRCLE,c)}else v=n.createLineAxis(i,s,u,it.RADIUS,c);n.cache.set(f,v),t.set(f,v)}var y=n.cache.get(h);if(y){var g=d.isTransposed?n.getLineGridCfg(i,s,it.CIRCLE,c):n.getCircleGridCfg(i,s,it.RADIUS,c);tr(g,Zn),y.component.update(g),t.set(h,y)}else{if(d.isTransposed){if(Xa(s))return;y=n.createLineGrid(i,s,u,it.CIRCLE,c)}else y=n.createCircleGrid(i,s,u,it.RADIUS,c);y&&(n.cache.set(h,y),t.set(h,y))}}}}})},e.prototype.createLineAxis=function(t,n,a,i,o){var l={component:new tU(this.getLineAxisCfg(t,n,i)),layer:a,direction:i===it.RADIUS?it.NONE:i,type:Te.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},e.prototype.createLineGrid=function(t,n,a,i,o){var l=this.getLineGridCfg(t,n,i,o);if(l){var s={component:new rU(l),layer:a,direction:it.NONE,type:Te.GRID,extra:{dim:o,scale:t,alignTick:H(l,"alignTick",!0)}};return s.component.init(),s}},e.prototype.createCircleAxis=function(t,n,a,i,o){var l={component:new eU(this.getCircleAxisCfg(t,n,i)),layer:a,direction:i,type:Te.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},e.prototype.createCircleGrid=function(t,n,a,i,o){var l=this.getCircleGridCfg(t,n,i,o);if(l){var s={component:new nU(l),layer:a,direction:it.NONE,type:Te.GRID,extra:{dim:o,scale:t,alignTick:H(l,"alignTick",!0)}};return s.component.init(),s}},e.prototype.getLineAxisCfg=function(t,n,a){var i=H(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=cu(o,a),s=lw(t,n),u=fu(this.view.getTheme(),a),c=H(n,["title"])?lt({title:{style:{text:s}}},{title:iw(this.view.getTheme(),a,n.title)},n):n,f=lt(E(E({container:i},l),{ticks:t.getTicks().map(function(b){return{id:"".concat(b.tickValue),name:b.text,value:b.value}}),verticalFactor:o.isPolar?aw(l,o.getCenter())*-1:aw(l,o.getCenter()),theme:u}),u,c),h=this.getAnimateCfg(f),d=h.animate,p=h.animateOption;f.animateOption=p,f.animate=d;var v=kE(l),g=H(f,"verticalLimitLength",v?1/3:1/2);if(g<=1){var y=this.view.getCanvas().get("width"),m=this.view.getCanvas().get("height");f.verticalLimitLength=g*(v?y:m)}return f},e.prototype.getLineGridCfg=function(t,n,a,i){if(Xw(fu(this.view.getTheme(),a),n)){var o=Uw(this.view.getTheme(),a),l=lt({container:H(n,["top"])?this.gridForeContainer:this.gridContainer},o,H(n,"grid"),this.getAnimateCfg(n));return l.items=Cu(this.view.getCoordinate(),t,i,H(l,"alignTick",!0)),l}},e.prototype.getCircleAxisCfg=function(t,n,a){var i=H(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=t.getTicks().map(function(v){return{id:"".concat(v.tickValue),name:v.text,value:v.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&l.length&&(l[l.length-1].name="");var s=lw(t,n),u=fu(this.view.getTheme(),it.CIRCLE),c=H(n,["title"])?lt({title:{style:{text:s}}},{title:iw(this.view.getTheme(),a,n.title)},n):n,f=lt(E(E({container:i},vd(this.view.getCoordinate())),{ticks:l,verticalFactor:1,theme:u}),u,c),h=this.getAnimateCfg(f),d=h.animate,p=h.animateOption;return f.animate=d,f.animateOption=p,f},e.prototype.getCircleGridCfg=function(t,n,a,i){if(Xw(fu(this.view.getTheme(),a),n)){var o=Uw(this.view.getTheme(),it.RADIUS),l=lt({container:H(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,H(n,"grid"),this.getAnimateCfg(n)),s=H(l,"alignTick",!0),u=i==="x"?this.view.getYScales()[0]:this.view.getXScale();return l.items=Cd(this.view.getCoordinate(),u,t,s,i),l}},e.prototype.getId=function(t,n){var a=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(a.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&H(t,"animate"),animateOption:t&&t.animateOption?lt({},Kw,t.animateOption):Kw}},e}(No);function fa(r,e,t){return t===it.TOP?[r.minX+r.width/2-e.width/2,r.minY]:t===it.BOTTOM?[r.minX+r.width/2-e.width/2,r.maxY-e.height]:t===it.LEFT?[r.minX,r.minY+r.height/2-e.height/2]:t===it.RIGHT?[r.maxX-e.width,r.minY+r.height/2-e.height/2]:t===it.TOP_LEFT||t===it.LEFT_TOP?[r.tl.x,r.tl.y]:t===it.TOP_RIGHT||t===it.RIGHT_TOP?[r.tr.x-e.width,r.tr.y]:t===it.BOTTOM_LEFT||t===it.LEFT_BOTTOM?[r.bl.x,r.bl.y-e.height]:t===it.BOTTOM_RIGHT||t===it.RIGHT_BOTTOM?[r.br.x-e.width,r.br.y-e.height]:[0,0]}function Zw(r,e){return co(r)?r===!1?!1:{}:H(r,[e],r)}function Au(r){return H(r,"position",it.BOTTOM)}var HZ=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.container=n.view.getLayer(ce.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,j(this.components,function(n){var a=n.component,i=n.direction,o=gd(i),l=a.get("maxWidthRatio"),s=a.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,l,s),c=a.get("maxWidth"),f=a.get("maxHeight");a.update({maxWidth:Math.min(u.maxWidth,c||0),maxHeight:Math.min(u.maxHeight,f||0)});var h=a.get("padding"),d=a.getLayoutBBox(),p=new Xe(d.x,d.y,d.width,d.height).expand(h),v=ct(fa(t.view.viewBBox,p,i),2),g=v[0],y=v[1],m=ct(fa(t.layoutBBox,p,i),2),b=m[0],x=m[1],w=0,S=0;i.startsWith("top")||i.startsWith("bottom")?(w=g,S=x):(w=b,S=y),a.setLocation({x:w+h[3],y:S+h[0]}),t.layoutBBox=t.layoutBBox.cut(p,i)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},a=function(h,d,p){var v=t.getId(p.field),g=t.getComponentById(v);if(g){var y=void 0,m=Zw(t.option,p.field);m!==!1&&(H(m,"custom")?y=t.getCategoryCfg(h,d,p,m,!0):p.isLinear?y=t.getContinuousCfg(h,d,p,m):p.isCategory&&(y=t.getCategoryCfg(h,d,p,m))),y&&(tr(y,["container"]),g.direction=Au(m),g.component.update(y),n[v]=!0)}else{var b=t.createFieldLegend(h,d,p);b&&(b.component.init(),t.components.push(b),n[v]=!0)}};if(H(this.option,"custom")){var i="global-custom",o=this.getComponentById(i);if(o){var l=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);tr(l,["container"]),o.component.update(l),n[i]=!0}else{var s=this.createCustomLegend(void 0,void 0,void 0,this.option);if(s){s.init();var u=ce.FORE,c=Au(this.option);this.components.push({id:i,component:s,layer:u,direction:c,type:Te.LEGEND,extra:void 0}),n[i]=!0}}}else this.loopLegends(a);var f=[];j(this.getComponents(),function(h){n[h.id]?f.push(h):h.component.destroy()}),this.components=f},e.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var n=this,a=t.geometries;return j(t.views,function(i){a=a.concat(n.getGeometries(i))}),a},e.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(n){var a=this.getGeometries(this.view),i={};j(a,function(o){var l=o.getGroupAttributes();j(l,function(s){var u=s.getScale(s.type);!u||u.type==="identity"||i[u.field]||(t(o,s,u),i[u.field]=!0)})})}},e.prototype.createFieldLegend=function(t,n,a){var i,o=Zw(this.option,a.field),l=ce.FORE,s=Au(o);if(o!==!1&&(H(o,"custom")?i=this.createCustomLegend(t,n,a,o):a.isLinear?i=this.createContinuousLegend(t,n,a,o):a.isCategory&&(i=this.createCategoryLegend(t,n,a,o))),i)return i.set("field",a.field),{id:this.getId(a.field),component:i,layer:l,direction:s,type:Te.LEGEND,extra:{scale:a}}},e.prototype.createCustomLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i,!0);return new ew(o)},e.prototype.createContinuousLegend=function(t,n,a,i){var o=this.getContinuousCfg(t,n,a,tr(i,["value"]));return new aU(o)},e.prototype.createCategoryLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i);return new ew(o)},e.prototype.getContinuousCfg=function(t,n,a,i){var o=a.getTicks(),l=Yr(o,function(v){return v.value===0}),s=Yr(o,function(v){return v.value===1}),u=o.map(function(v){var g=v.value,y=v.tickValue,m=n.mapping(a.invert(g)).join("");return{value:y,attrValue:m,color:m,scaleValue:g}});l||u.push({value:a.min,attrValue:n.mapping(a.invert(0)).join(""),color:n.mapping(a.invert(0)).join(""),scaleValue:0}),s||u.push({value:a.max,attrValue:n.mapping(a.invert(1)).join(""),color:n.mapping(a.invert(1)).join(""),scaleValue:1}),u.sort(function(v,g){return v.value-g.value});var c={min:hr(u).value,max:we(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(c.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(c.colors=u.map(function(v){return v.attrValue}));var f=this.container,h=Au(i),d=gd(h),p=H(i,"title");return p&&(p=lt({text:Ql(a)},p)),c.container=f,c.layout=d,c.title=p,c.animateOption=yo,this.mergeLegendCfg(c,i,"continuous")},e.prototype.getCategoryCfg=function(t,n,a,i,o){var l=this.container,s=H(i,"position",it.BOTTOM),u=xw(this.view.getTheme(),s),c=H(u,["marker"]),f=H(i,"marker"),h=gd(s),d=H(u,["pageNavigator"]),p=H(i,"pageNavigator"),v=o?MX(c,f,i.items):hT(this.view,t,n,c,f),g=H(i,"title");g&&(g=lt({text:a?Ql(a):""},g));var y=H(i,"maxWidthRatio"),m=H(i,"maxHeightRatio"),b=this.getCategoryLegendSizeCfg(h,y,m);b.container=l,b.layout=h,b.items=v,b.title=g,b.animateOption=yo,b.pageNavigator=lt({},d,p);var x=this.mergeLegendCfg(b,i,s);x.reversed&&x.items.reverse();var w=H(x,"maxItemWidth");return w&&w<=1&&(x.maxItemWidth=this.view.viewBBox.width*w),x},e.prototype.mergeLegendCfg=function(t,n,a){var i=a.split("-")[0],o=xw(this.view.getTheme(),i);return lt({},o,t,n)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return Yr(this.components,function(n){return n.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t,n,a){n===void 0&&(n=Lx),a===void 0&&(a=Lx);var i=this.view.viewBBox,o=i.width,l=i.height;return t==="vertical"?{maxWidth:o*n,maxHeight:l}:{maxWidth:o,maxHeight:l*a}},e}(No),zZ=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.onChangeFn=ua,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=ct(a,2),o=i[0],l=i[1];n.start=o,n.end=l,n.changeViewData(o,l)},n.container=n.view.getLayer(ce.FORE).addGroup(),n.onChangeFn=mg(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(St.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(St.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(St.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(St.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,a=t.end;Q(this.start)&&(this.start=n,this.end=a);var i=this.view.getOptions().data;this.option&&!ir(i)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,a=this.slider.component.get("padding"),i=ct(a,4),o=i[0];i[1],i[2];var l=i[3],s=this.slider.component.getLayoutBBox(),u=new Xe(s.x,s.y,Math.min(s.width,n),s.height).expand(a),c=this.getMinMaxText(this.start,this.end),f=c.minText,h=c.maxText,d=ct(fa(this.view.viewBBox,u,it.BOTTOM),2);d[0];var p=d[1],v=ct(fa(this.view.coordinateBBox,u,it.BOTTOM),2),g=v[0];v[1],this.slider.component.update(E(E({},this.getSliderCfg()),{x:g+l,y:p+o,width:this.width,start:this.start,end:this.end,minText:f,maxText:h})),this.view.viewBBox=this.view.viewBBox.cut(u,it.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new Z9(E({container:this.container},t));return n.init(),{component:n,layer:ce.FORE,direction:it.BOTTOM,type:Te.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),a=n.minText,i=n.maxText;t=E(E({},t),{width:this.width,start:this.start,end:this.end,minText:a,maxText:i})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(jt(this.option)){var n=E({data:this.getData()},H(this.option,"trendCfg",{}));t=lt({},t,this.getThemeOptions(),this.option),t=E(E({},t),{trendCfg:n})}return t.start=Zt(Math.min(Q(t.start)?0:t.start,Q(t.end)?1:t.end),0,1),t.end=Zt(Math.max(Q(t.start)?0:t.start,Q(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,n=ct(this.view.getYScales(),1),a=n[0],i=this.view.getGroupScales();if(i.length){var o=i[0],l=o.field,s=o.ticks;return t.reduce(function(u,c){return c[l]===s[0]&&u.push(c[a.field]),u},[])}return t.map(function(u){return u[a.field]||0})},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return H(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=Zr(a,i.field);i.isLinear&&(o=o.sort());var l=o,s=Ie(a);if(!i||!s)return{};var u=Ie(l),c=Math.round(t*(u-1)),f=Math.round(n*(u-1)),h=H(l,[c]),d=H(l,[f]),p=this.getSliderCfg().formatter;return p&&(h=p(h,a[c],c),d=p(d,a[f],f)),{minText:h,maxText:d}},e.prototype.changeViewData=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=Ie(a);if(!(!i||!o)){var l=Zr(a,i.field),s=this.view.getXScale().isLinear?l.sort(function(d,p){return Number(d)-Number(p)}):l,u=s,c=Ie(u),f=Math.round(t*(c-1)),h=Math.round(n*(c-1));this.view.filter(i.field,function(d,p){var v=u.indexOf(d);return v>-1?Yi(v,f,h):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(No),Eu=0,Qw=8,WZ=32,GZ=20,qZ=function(r){U(e,r);function e(t){var n=r.call(this,t)||this;return n.onChangeFn=ua,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=a.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Zt(i,0,1);var l=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(l)},n.container=n.view.getLayer(ce.FORE).addGroup(),n.onChangeFn=mg(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(St.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(St.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(St.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(St.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,a=this.scrollbar.component.get("padding"),i=this.scrollbar.component.getLayoutBBox(),o=new Xe(i.x,i.y,Math.min(i.width,n),i.height).expand(a),l=this.getScrollbarComponentCfg(),s=void 0,u=void 0;if(l.isHorizontal){var c=ct(fa(this.view.viewBBox,o,it.BOTTOM),2);c[0];var f=c[1],h=ct(fa(this.view.coordinateBBox,o,it.BOTTOM),2),d=h[0];h[1],s=d,u=f}else{var p=ct(fa(this.view.viewBBox,o,it.RIGHT),2);p[0];var f=p[1],v=ct(fa(this.view.viewBBox,o,it.RIGHT),2),d=v[0];v[1],s=d,u=f}s+=a[3],u+=a[0],this.trackLen?this.scrollbar.component.update(E(E({},l),{x:s,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(E(E({},l),{x:s,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,l.isHorizontal?it.BOTTOM:it.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return H(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var n=H(this.view.getTheme(),["components","scrollbar"]),a=t||{},i=a.thumbHighlightColor,o=Ht(a,["thumbHighlightColor"]);return{default:lt({},H(n,["default","style"],{}),o),hover:lt({},H(n,["hover","style"],{}),{thumbColor:i})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var a=this.getScrollbarComponentCfg(),i=a.trackLen,o=a.thumbLen;this.trackLen=i,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Zt(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},e.prototype.changeViewData=function(t,n){var a=this,i=ct(t,2),o=i[0],l=i[1],s=this.getValidScrollbarCfg().type,u=s!=="vertical",c=Zr(this.data,this.xScaleCfg.field),f=this.view.getXScale().isLinear?c.sort(function(d,p){return Number(d)-Number(p)}):c,h=u?f:f.reverse();this.yScalesCfg.forEach(function(d){a.view.scale(d.field,{formatter:d.formatter,type:d.type,min:d.min,max:d.max,tickMethod:d.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(d){var p=h.indexOf(d);return p>-1?Yi(p,o,l):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",a=new J9(E(E({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return a.init(),{component:a,layer:ce.FORE,direction:n?it.BOTTOM:it.RIGHT,type:Te.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?E(E({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):E({},t);return this.scrollbar.component.update(n),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),a=n.type,i=n.categorySize,o=a!=="vertical";return Math.floor((o?t.width:t.height)/i)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),a=Zr(n,t.field);return Ie(a)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,a=t.viewBBox,i=this.getValidScrollbarCfg(),o=i.type,l=i.padding,s=i.width,u=i.height,c=i.style,f=o!=="vertical",h=ct(l,4),d=h[0],p=h[1],v=h[2],g=h[3],y=f?{x:n.minX+g,y:a.maxY-u-v}:{x:a.maxX-s-p,y:n.minY+d},m=this.getStep(),b=this.getCnt(),x=f?n.width-g-p:n.height-d-v,w=Math.max(x*Zt(m/b,0,1),GZ);return E(E({},this.getThemeOptions()),{x:y.x,y:y.y,size:f?u:s,isHorizontal:f,trackLen:x,thumbLen:w,thumbOffset:0,theme:this.getScrollbarTheme(c)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:WZ,width:Qw,height:Qw,padding:[0,0,0,0],animate:!0,style:{}};return jt(this.option)&&(t=E(E({},t),this.option)),(!jt(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[Eu,0,Eu,0]:[0,Eu,0,Eu]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),a=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(a=pt([],ct(a),!1).reverse()),a},e}(No),YZ={fill:"#CCD6EC",opacity:.3};function UZ(r,e,t){var n,a,i,o,l,s,u=eX(r,e,t);if(u.length){u=gr(u);try{for(var c=_t(u),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var d=(i=void 0,_t(h)),p=d.next();!p.done;p=d.next()){var v=p.value,g=v.mappingData,y=g.x,m=g.y;v.x=J(y)?y[y.length-1]:y,v.y=J(m)?m[m.length-1]:m}}catch(I){i={error:I}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(I){n={error:I}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var b=t.shared;if(b===!1&&u.length>1){var x=u[0],w=Math.abs(e.y-x[0].y);try{for(var S=_t(u),C=S.next();!C.done;C=S.next()){var T=C.value,F=Math.abs(e.y-T[0].y);F<=w&&(x=T,w=F)}}catch(I){l={error:I}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(l)throw l.error}}u=[x]}return pi(gr(u))}return[]}var XZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(t){var n=this.context.view,a=this.context.event,i=n.getController("tooltip").getTooltipCfg(),o=UZ(n,{x:a.x,y:a.y},i);if(!le(o,this.items)&&(this.items=o,o.length)){var l=n.getXScale().field,s=o[0].data[l],u=[],c=n.geometries;if(j(c,function(W){if(W.type==="interval"||W.type==="schema"){var V=W.getElementsBy(function(B){var P=B.getData();return P[l]===s});u=u.concat(V)}}),u.length){var f=n.getCoordinate(),h=u[0].shape.getCanvasBBox(),d=u[0].shape.getCanvasBBox(),p=h;j(u,function(W){var V=W.shape.getCanvasBBox();f.isTransposed?(V.minY<h.minY&&(h=V),V.maxY>d.maxY&&(d=V)):(V.minX<h.minX&&(h=V),V.maxX>d.maxX&&(d=V)),p.x=Math.min(V.minX,p.minX),p.y=Math.min(V.minY,p.minY),p.width=Math.max(V.maxX,p.maxX)-p.x,p.height=Math.max(V.maxY,p.maxY)-p.y});var v=n.backgroundGroup,g=n.coordinateBBox,y=void 0;if(f.isRect){var m=n.getXScale(),b=t||{},x=b.appendRatio,w=b.appendWidth;Q(w)&&(x=Q(x)?m.isLinear?0:.25:x,w=f.isTransposed?x*d.height:x*h.width);var S=void 0,C=void 0,T=void 0,F=void 0;f.isTransposed?(S=g.minX,C=Math.min(d.minY,h.minY)-w,T=g.width,F=p.height+w*2):(S=Math.min(h.minX,d.minX)-w,C=g.minY,T=p.width+w*2,F=g.height),y=[["M",S,C],["L",S+T,C],["L",S+T,C+F],["L",S,C+F],["Z"]]}else{var I=hr(u),M=we(u),O=Zl(I.getModel(),f).startAngle,k=Zl(M.getModel(),f).endAngle,L=f.getCenter(),N=f.getRadius(),R=f.innerRadius*N;y=va(L.x,L.y,N,O,k,R)}if(this.regionPath)this.regionPath.attr("path",y),this.regionPath.show();else{var D=H(t,"style",YZ);this.regionPath=v.addShape({type:"path",name:"active-region",capture:!1,attrs:E(E({},D),{path:y})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},e}(Xt),qT=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,n=t.event,a=t.view,i=a.isTooltipLocked();if(!i){var o=this.timeStamp,l=+new Date,s=H(t.view.getOptions(),"tooltip.showDelay",16);if(l-o>s){var u=this.location,c={x:n.x,y:n.y};(!u||!le(u,c))&&this.showTooltip(a,c),this.timeStamp=l,this.location=c}}},e.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),a=this.context.event,i=a.clientX,o=a.clientY;n.isCursorEntered({x:i,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,n){t.showTooltip(n)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Xt),KZ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,n){var a=yn(t);j(a,function(i){var o=yv(t,i,n);i.showTooltip(o)})},e.prototype.hideTooltip=function(t){var n=yn(t);j(n,function(a){a.hideTooltip()})},e}(qT),ZZ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date;if(i-a>16){var o=this.location,l={x:n.x,y:n.y};(!o||!le(o,l))&&this.showTooltip(l),this.timeStamp=i,this.location=l}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){if(!this.tooltip)this.renderTooltip();else{var o=n.view,l=o.canvas,s={start:{x:0,y:0},end:{x:l.get("width"),y:l.get("height")}};this.tooltip.set("region",s)}var u=i.get("tip");this.tooltip.update(E({title:u},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=n.getTheme(),l=H(o,["components","tooltip","domStyles"],{}),s=new Rf({parent:a.get("el").parentNode,region:i,visible:!1,crosshairs:null,domStyles:E({},lt({},l,(t={},t[$n]={"max-width":"50%"},t[jn]={"word-break":"break-all"},t)))});s.init(),s.setCapture(!1),this.tooltip=s},e}(Xt),vy=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var n=this,a=WE(t,this.stateName);j(a,function(i){n.setElementState(i,!1)})},e}(Xt);function Jw(r){return H(r.get("delegateObject"),"item")}var gy=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,n){var a=this.ignoreListItemStates,i=a.filter(function(o){return n.hasState(t,o)});return!!i.length},e.prototype.setStateByComponent=function(t,n,a){var i=this.context.view,o=t.get("field"),l=_e(i);this.setElementsStateByItem(l,o,n,a)},e.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},e.prototype.isMathItem=function(t,n,a){var i=this.context.view,o=go(i,n),l=Qr(t,n);return!Q(l)&&a.name===o.getText(l)},e.prototype.setElementsStateByItem=function(t,n,a,i){var o=this;j(t,function(l){o.isMathItem(l,n,a)&&l.setState(o.stateName,i)})},e.prototype.setStateEnable=function(t){var n=Sa(this.context);if(n)jE(this.context)&&this.setStateByElement(n,t);else{var a=yi(this.context);if(Jl(a)){var i=a.item,o=a.component;if(i&&o&&!this.isItemIgnore(i,o)){var l=this.context.event.gEvent;if(l&&l.fromShape&&l.toShape&&Jw(l.fromShape)===Jw(l.toShape))return;this.setStateByComponent(o,i,t)}}}},e.prototype.toggle=function(){var t=Sa(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(vy),QZ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(gy),JZ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,n){var a=n.geometry.getAttribute("color");if(!a)return null;var i=t.getScaleByField(a.getFields()[0]);return i},e.prototype.getLinkPath=function(t,n){var a=this.context.view,i=a.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),l=n.shape.getCanvasBBox(),s=i?[["M",o.minX,o.minY],["L",l.minX,l.maxY],["L",l.maxX,l.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",l.minX,l.minY],["L",l.minX,l.maxY],["L",o.maxX,o.maxY],["Z"]];return s},e.prototype.addLinkShape=function(t,n,a,i){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:E(E({},lt({},o,ut(i)?i(o,n):i)),{path:this.getLinkPath(n,a)})})},e.prototype.linkByElement=function(t,n){var a=this,i=this.context.view,o=this.getColorScale(i,t);if(o){var l=Qr(t,o.field);if(!this.cache[l]){var s=RU(i,o.field,l),u=this.linkGroup,c=u.addGroup();this.cache[l]=c;var f=s.length;j(s,function(h,d){if(d<f-1){var p=s[d+1];a.addLinkShape(c,h,p,n)}})}}},e.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var a=Qr(t,n.field);this.cache[a]&&(this.cache[a].remove(),this.cache[a]=null)}},e.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var a=Sa(n);a&&this.linkByElement(a,t==null?void 0:t.style)},e.prototype.unlink=function(){var t=Sa(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Xt),yy=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(ts(this.context))t=qg(this.context,10);else{var n=this.startPoint,a=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!a)return;var i={minX:Math.min(n.x,a.x),minY:Math.min(n.y,a.y),maxX:Math.max(n.x,a.x),maxY:Math.max(n.y,a.y)},o=this.context.view;t=Bf(o,i)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=_e(this.context.view),a=this.getIntersectElements();a&&a.length?this.effectByRecord?this.setSiblingsStateByRecord(a,t):this.setElementsState(a,t,n):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,n){var a=this,i=this.context.view,o=yn(i),l=t.map(function(c){return c.getModel().data}),s=i.getXScale().field,u=i.getYScales()[0].field;j(o,function(c){var f=_e(c),h=f.filter(function(d){var p=d.getModel().data;return YE(l,p,s,u)});a.setElementsState(h,n,f)})},e.prototype.setSiblingsState=function(t){var n=this,a=this.context.view,i=yn(a);ts(this.context)&&j(i,function(o){var l=_e(o),s=HE(n.context,o,10);s&&s.length?n.setElementsState(s,t,l):n.clearViewState(o)})},e.prototype.setElementsState=function(t,n,a){var i=this;j(a,function(o){t.includes(o)?i.setElementState(o,n):i.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var a=yn(n);j(a,function(i){t.clearViewState(i)})}else this.clearViewState(n)},e}(vy),tQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(yy),my=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var n=Sa(this.context);if(n){if(!jE(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},e.prototype.toggle=function(){var t=Sa(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(vy),eQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(my),Ml="inactive",Ol="active";function xy(r){var e=_e(r);j(e,function(t){t.hasState(Ol)&&t.setState(Ol,!1),t.hasState(Ml)&&t.setState(Ml,!1)})}function YT(r,e,t){j(r,function(n){e(n)?(n.hasState(Ml)&&n.setState(Ml,!1),n.setState(Ol,t)):(n.hasState(Ol)&&n.setState(Ol,!1),n.setState(Ml,t))})}var Qa=cc.INACTIVE,Fn=cc.ACTIVE,by=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Fn,t}return e.prototype.setElementsStateByItem=function(t,n,a,i){var o=this,l=function(s){return o.isMathItem(s,n,a)};this.setHighlightBy(t,l,i)},e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Qa)&&t.setState(Qa,!1),t.setState(Fn,!0)):t.hasState(Fn)||t.setState(Qa,!0)},e.prototype.setHighlightBy=function(t,n,a){var i=this;if(a)j(t,function(s){i.setElementHighlight(s,n)});else{var o=WE(this.context.view,Fn),l=!0;j(o,function(s){if(!n(s))return l=!1,!1}),l?this.clear():j(t,function(s){n(s)&&(s.hasState(Fn)&&s.setState(Fn,!1),s.setState(Qa,!0))})}},e.prototype.setElementState=function(t,n){var a=this.context.view,i=_e(a);this.setHighlightBy(i,function(o){return t===o},n)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;xy(t)},e}(gy),rQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,n){var a=this.context.view,i=t.geometry.getAttribute("color");if(i){var o=a.getScaleByField(i.getFields()[0]),l=Qr(t,o.field),s=_e(a),u=s.filter(function(c){return Qr(c,o.field)===l});this.setHighlightBy(s,function(c){return u.includes(c)},n)}},e}(by),nQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Qa)&&t.setState(Qa,!1),t.setState(Fn,!0)):(t.setState(Qa,!0),t.hasState(Fn)&&t.setState(Fn,!1))},e.prototype.setStateByElement=function(t,n){var a=this.context.view,i=a.getXScale(),o=Qr(t,i.field),l=_e(a),s=l.filter(function(u){return Qr(u,i.field)===o});this.setHighlightBy(l,function(u){return s.includes(u)},n)},e.prototype.toggle=function(){var t=Sa(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},e}(by),ln;(function(r){r.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",r.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",r.BEFORE_CLEAR="element-range-highlight:beforeclear",r.AFTER_CLEAR="element-range-highlight:afterclear"})(ln||(ln={}));var UT=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){xy(t)},e.prototype.highlight=function(){var t=this.context,n=t.view,a=t.event,i=this.getIntersectElements(),o={view:n,event:a,highlightElements:i};n.emit(ln.BEFORE_HIGHLIGHT,te.fromData(n,ln.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(ln.AFTER_HIGHLIGHT,te.fromData(n,ln.AFTER_HIGHLIGHT,o))},e.prototype.clear=function(){var t=this.context.view;t.emit(ln.BEFORE_CLEAR,te.fromData(t,ln.BEFORE_CLEAR,{})),r.prototype.clear.call(this),t.emit(ln.AFTER_CLEAR,te.fromData(t,ln.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,n,a){YT(a,function(i){return t.indexOf(i)>=0},n)},e}(yy),aQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,n){var a=this.context.view,i=_e(a);YT(i,function(o){return t===o},n)},e.prototype.clear=function(){var t=this.context.view;xy(t)},e}(my),iQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(yy),oQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(gy),lQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(my),Ei=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=yi(this.context),n=null;return Jl(t)&&(n={item:t.item,list:t.component}),n},e.prototype.getAllowComponents=function(){var t=this,n=this.context.view,a=qE(n),i=[];return j(a,function(o){o.isList()&&t.allowSetStateByElement(o)&&i.push(o)}),i},e.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();j(n,function(a){a.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var a=t.get("name");if(this.cfg.componentNames.indexOf(a)===-1)return!1}var i=this.context.view,o=go(i,n);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,n){var a=this.ignoreItemStates;if(a.length){var i=a.filter(function(o){return n.hasState(t,o)});return i.length===0}return!0},e.prototype.setStateByElement=function(t,n,a){var i=t.get("field"),o=this.context.view,l=go(o,i),s=Qr(n,i),u=l.getText(s);this.setItemsState(t,u,a)},e.prototype.setStateEnable=function(t){var n=this,a=Sa(this.context);if(a){var i=this.getAllowComponents();j(i,function(u){n.setStateByElement(u,a,t)})}else{var o=yi(this.context);if(Jl(o)){var l=o.item,s=o.component;this.allowSetStateByElement(s)&&this.allowSetStateByItem(l,s)&&this.setItemState(s,l,t)}}},e.prototype.setItemsState=function(t,n,a){var i=this,o=t.getItems();j(o,function(l){l.name===n&&i.setItemState(t,l,a)})},e.prototype.setItemState=function(t,n,a){t.setItemState(n,this.stateName,a)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=this.hasState(n,a);this.setItemState(n,a,!i)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Xt),sQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(Ei),t1="inactive",e1="active";function uQ(r){var e=r.getItems();j(e,function(t){r.hasState(t,e1)&&r.setItemState(t,e1,!1),r.hasState(t,t1)&&r.setItemState(t,t1,!1)})}var tl="inactive",ja="active",wy=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=ja,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,n,a){this.setHighlightBy(t,function(i){return i.name===n},a)},e.prototype.setItemState=function(t,n,a){t.getItems(),this.setHighlightBy(t,function(i){return i===n},a)},e.prototype.setHighlightBy=function(t,n,a){var i=t.getItems();if(a)j(i,function(s){n(s)?(t.hasState(s,tl)&&t.setItemState(s,tl,!1),t.setItemState(s,ja,!0)):t.hasState(s,ja)||t.setItemState(s,tl,!0)});else{var o=t.getItemsByState(ja),l=!0;j(o,function(s){if(!n(s))return l=!1,!1}),l?this.clear():j(i,function(s){n(s)&&(t.hasState(s,ja)&&t.setItemState(s,ja,!1),t.setItemState(s,tl,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)uQ(t.list);else{var n=this.getAllowComponents();j(n,function(a){a.clearItemsState(ja),a.clearItemsState(tl)})}},e}(Ei),cQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(Ei),fQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(Ei),Bi="unchecked",Tu="checked",hQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Tu,t}return e.prototype.setItemState=function(t,n,a){this.setCheckedBy(t,function(i){return i===n},a)},e.prototype.setCheckedBy=function(t,n,a){var i=t.getItems();a&&j(i,function(o){n(o)?(t.hasState(o,Bi)&&t.setItemState(o,Bi,!1),t.setItemState(o,Tu,!0)):t.hasState(o,Tu)||t.setItemState(o,Bi,!0)})},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=!of(n.getItems(),function(o){return n.hasState(o,Bi)});i||n.hasState(a,Bi)?this.setItemState(n,a,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();j(t,function(n){n.clearItemsState(Tu),n.clearItemsState(Bi)})},e}(Ei),Ni="unchecked",dQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggle=function(){var t,n,a,i,o,l,s,u,c=this.getTriggerListInfo();if(c!=null&&c.item){var f=c.list,h=c.item,d=f.getItems(),p=d.filter(function(I){return!f.hasState(I,Ni)}),v=d.filter(function(I){return f.hasState(I,Ni)}),g=p[0];if(d.length===p.length)try{for(var y=_t(d),m=y.next();!m.done;m=y.next()){var b=m.value;f.setItemState(b,Ni,b.id!==h.id)}}catch(I){t={error:I}}finally{try{m&&!m.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}else if(d.length-v.length===1)if(g.id===h.id)try{for(var x=_t(d),w=x.next();!w.done;w=x.next()){var b=w.value;f.setItemState(b,Ni,!1)}}catch(I){a={error:I}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}else try{for(var S=_t(d),C=S.next();!C.done;C=S.next()){var b=C.value;f.setItemState(b,Ni,b.id!==h.id)}}catch(I){o={error:I}}finally{try{C&&!C.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}else try{for(var T=_t(d),F=T.next();!F.done;F=T.next()){var b=F.value;f.setItemState(b,Ni,b.id!==h.id)}}catch(I){s={error:I}}finally{try{F&&!F.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}}},e}(Ei),r1="showRadio",Ad="legend-radio-tip",pQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,r1,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,r1,!1)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date,o=this.context.event.target;if(i-a>16&&o.get("name")==="legend-item-radio"){var l=this.location,s={x:n.x,y:n.y};this.timeStamp=i,this.location=s,(!l||!le(l,s))&&this.showTooltip(s)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),l=o.x,s=o.y;this.tooltip.update(E(E({title:i.get("tip")},t),{x:t.x+l,y:t.y+s})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=(t={},t[$n]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[jn]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Ad)&&document.body.removeChild(document.getElementById(Ad));var a=new Rf({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:Ad});a.init(),a.setCapture(!1),this.tooltip=a},e}(Ei),Sy=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var n="mask:".concat(t),a=this.context.view,i=this.context.event;a.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},e.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),a=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:E({fill:"#C5D4EB",opacity:.3},n)});return a},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.points;j(o,function(l){l.x+=a,l.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var n=lt({},this.getMaskAttrs(),t);this.maskShape.attr(n)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},e}(Xt);function XT(r){var e=we(r),t=0,n=0,a=0;if(r.length){var i=r[0];t=Yg(i,e)/2,n=(e.x+i.x)/2,a=(e.y+i.y)/2}return{x:n,y:a,r:t}}var vQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){return XT(this.points)},e}(Sy);function KT(r){return{start:hr(r),end:we(r)}}function ZT(r,e){var t=Math.min(r.x,e.x),n=Math.min(r.y,e.y),a=Math.abs(e.x-r.x),i=Math.abs(e.y-r.y);return{x:t,y:n,width:a,height:i}}var QT=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){return KT(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,a=t.end;return ZT(n,a)},e}(Sy);function n1(r){r.x=Zt(r.x,0,1),r.y=Zt(r.y,0,1)}function JT(r,e,t,n){var a=null,i=null,o=n.invert(hr(r)),l=n.invert(we(r));return t&&(n1(o),n1(l)),e==="x"?(a=n.convert({x:o.x,y:0}),i=n.convert({x:l.x,y:1})):(a=n.convert({x:0,y:o.y}),i=n.convert({x:1,y:l.y})),{start:a,end:i}}var tI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return JT(this.points,this.dim,this.inPlot,t)},e}(QT);function Cy(r){var e=[];return r.length&&(j(r,function(t,n){n===0?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",r[0].x,r[0].y])),e}function eI(r){return{path:Cy(r)}}var rI=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return Cy(this.points)},e.prototype.getMaskAttrs=function(){return eI(this.points)},e.prototype.addPoint=function(){this.resize()},e}(Sy);function Ay(r){return DU(r,!0)}function nI(r){return{path:Ay(r)}}var gQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return Ay(this.points)},e.prototype.getMaskAttrs=function(){return nI(this.points)},e}(rI),Ey=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),a=this.context.view,i=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(l){return o.hasOwnProperty(l)?o[l]:void 0}};a.emit(n,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:i.x,y:i.y})},e.prototype.createMask=function(t){var n=this.context.view,a=this.recordPoints[t],i=this.getMaskAttrs(a),o=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:E({fill:"#C5D4EB",opacity:.3},i)});this.maskShapes.push(o)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(l){l.x+=a,l.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(a,i){var o=lt({},n.getMaskAttrs(a),t);n.maskShapes[i].attr(o)})},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),r.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return pt([],ct((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=pt(pt([],ct(t),!1),[[n]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),a=t.splice(-1,1)[0]||[];a.push(n),this.recordPoints=pt(pt([],ct(t),!1),[a],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var a=n.attrs,i=a.width,o=a.height,l=a.r,s=i===0||o===0||l===0;return!s&&n.isHit(t.x,t.y)})},e}(Xt),aI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(t){return KT(t)},e.prototype.getMaskAttrs=function(t){var n=this.getRegion(t),a=n.start,i=n.end;return ZT(a,i)},e}(Ey),iI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return JT(t,this.dim,this.inPlot,n)},e}(aI),yQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=XT,t}return e}(Ey),oI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=Cy,t.getMaskAttrs=eI,t}return e.prototype.addPoint=function(){this.resize()},e}(Ey),mQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=Ay,t.getMaskAttrs=nI,t}return e}(oI),xQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(Xt),bQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,a){var i=this;t.getScaleByField(n)&&t.filter(n,a),t.views&&t.views.length&&j(t.views,function(o){i.filterView(o,n,a)})},e.prototype.filter=function(){var t=yi(this.context);if(t){var n=this.context.view,a=t.component,i=a.get("field");if(Jl(t)){if(i){var o=a.getItemsByState("unchecked"),l=go(n,i),s=o.map(function(d){return d.name});s.length?this.filterView(n,i,function(d){var p=l.getText(d);return!s.includes(p)}):this.filterView(n,i,null),n.render(!0)}}else if(VE(t)){var u=a.getValue(),c=ct(u,2),f=c[0],h=c[1];this.filterView(n,i,function(d){return d>=f&&d<=h}),n.render(!0)}}},e}(Xt);function a1(r,e,t,n){var a=Math.min(t[e],n[e]),i=Math.max(t[e],n[e]),o=ct(r.range,2),l=o[0],s=o[1];if(a<l&&(a=l),i>s&&(i=s),a===s&&i===s)return null;var u=r.invert(a),c=r.invert(i);if(r.isCategory){var f=r.values.indexOf(u),h=r.values.indexOf(c),d=r.values.slice(f,h+1);return function(p){return d.includes(p)}}else return function(p){return p>=u&&p<=c}}var Qe;(function(r){r.FILTER="brush-filter-processing",r.RESET="brush-filter-reset",r.BEFORE_FILTER="brush-filter:beforefilter",r.AFTER_FILTER="brush-filter:afterfilter",r.BEFORE_RESET="brush-filter:beforereset",r.AFTER_RESET="brush-filter:afterreset"})(Qe||(Qe={}));var Hf=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,n;if(ts(this.context)){var a=this.context.event.target,i=a.getCanvasBBox();t={x:i.x,y:i.y},n={x:i.maxX,y:i.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,l=o.view,s=o.event,u={view:l,event:s,dims:this.dims};l.emit(Qe.BEFORE_FILTER,te.fromData(l,Qe.BEFORE_FILTER,u));var c=l.getCoordinate(),f=c.invert(n),h=c.invert(t);if(this.hasDim("x")){var d=l.getXScale(),p=a1(d,"x",f,h);this.filterView(l,d.field,p)}if(this.hasDim("y")){var v=l.getYScales()[0],p=a1(v,"y",f,h);this.filterView(l,v.field,p)}this.reRender(l,{source:Qe.FILTER}),l.emit(Qe.AFTER_FILTER,te.fromData(l,Qe.AFTER_FILTER,u))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(Qe.BEFORE_RESET,te.fromData(t,Qe.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var a=t.getYScales()[0];this.filterView(t,a.field,null)}this.reRender(t,{source:Qe.RESET}),t.emit(Qe.AFTER_RESET,te.fromData(t,Qe.AFTER_RESET,{}))},e.prototype.filterView=function(t,n,a){t.filter(n,a)},e.prototype.reRender=function(t,n){t.render(!0,n)},e}(Xt),Ty=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,a){var i=yn(t);j(i,function(o){o.filter(n,a)})},e.prototype.reRender=function(t){var n=yn(t);j(n,function(a){a.render(!0)})},e}(Hf),wQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(){var t=yi(this.context),n=this.context.view,a=_e(n);if(ts(this.context)){var i=qg(this.context,10);i&&j(a,function(v){i.includes(v)?v.show():v.hide()})}else if(t){var o=t.component,l=o.get("field");if(Jl(t)){if(l){var s=o.getItemsByState("unchecked"),u=go(n,l),c=s.map(function(v){return v.name});j(a,function(v){var g=Qr(v,l),y=u.getText(g);c.indexOf(y)>=0?v.hide():v.show()})}}else if(VE(t)){var f=o.getValue(),h=ct(f,2),d=h[0],p=h[1];j(a,function(v){var g=Qr(v,l);g>=d&&g<=p?v.show():v.hide()})}}},e.prototype.clear=function(){var t=_e(this.context.view);j(t,function(n){n.show()})},e.prototype.reset=function(){this.clear()},e}(Xt),lI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){ts(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,n=qg(this.context,10);if(n){var a=t.getXScale().field,i=t.getYScales()[0].field,o=n.map(function(s){return s.getModel().data}),l=yn(t);j(l,function(s){var u=_e(s);j(u,function(c){var f=c.getModel().data;YE(o,f,a,i)?c.show():c.hide()})})}},e.prototype.filterByBBox=function(){var t=this,n=this.context.view,a=yn(n);j(a,function(i){var o=HE(t.context,i,10),l=_e(i);o&&j(l,function(s){o.includes(s)?s.show():s.hide()})})},e.prototype.reset=function(){var t=yn(this.context.view);j(t,function(n){var a=_e(n);j(a,function(i){i.show()})})},e}(Xt),SQ=10,CQ=5,AQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return lt(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),a=n.addShape({type:"text",name:"button-text",attrs:E({text:t.text},t.textStyle)}),i=a.getBBox(),o=Xg(t.padding),l=n.addShape({type:"rect",name:"button-rect",attrs:E({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2]},t.style)});l.toBack(),n.on("mouseenter",function(){l.attr(t.activeStyle)}),n.on("mouseleave",function(){l.attr(t.style)}),this.buttonGroup=n},e.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),a=n.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),l=be(null,[["t",a.x-o.width-SQ,a.y+o.height+CQ]]);i.setMatrix(l)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(Xt),EQ=4,TQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,a=this.context.event;this.dragStart?n.emit("drag",{target:a.target,x:a.x,y:a.y}):Yg(t,this.startPoint)>EQ&&(n.emit("dragstart",{target:a.target,x:a.x,y:a.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},e}(Xt),IQ=5,MQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),a=Yg(t,n);if(a>IQ&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var i=this.context.view,o=be(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);i.backgroundGroup.setMatrix(o),i.foregroundGroup.setMatrix(o),i.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Xt),i1="x",o1="y",sI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=[i1,o1],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},e.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var a=this.getScale(t);n.scale(a.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(i1),this.resetDim(o1);var t=this.context.view;t.render(!0)},e}(Xt),OQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;j(n,function(a){var i=t.getScale(a),o=i.min,l=i.max,s=i.values;t.startCache[a]={min:o,max:l,values:s}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,a=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),o=a.invert(n),l=a.invert(i),s=l.x-o.x,u=l.y-o.y,c=this.context.view,f=this.dims;j(f,function(h){t.translateDim(h,{x:s*-1,y:u*-1})}),c.render(!0)}},e.prototype.translateDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.translateLinear(t,a,n)}},e.prototype.translateLinear=function(t,n,a){var i=this.context.view,o=this.startCache[t],l=o.min,s=o.max,u=s-l,c=a[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:l,max:s}),i.scale(n.field,{nice:!1,min:l+c,max:s+c})},e.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(sI),FQ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var n=this,a=this.dims;j(a,function(i){n.zoomDim(i,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.zoomLinear(t,a,n)}},e.prototype.zoomLinear=function(t,n,a){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],l=o.max-o.min,s=n.min,u=n.max,c=a*l,f=s-c,h=u+c,d=h-f,p=d/l;h>f&&p<100&&p>.01&&i.scale(n.field,{nice:!1,min:s-c,max:u+c})},e}(sI);function kQ(r){var e=r.gEvent.originalEvent;return e.deltaY>0}var PQ=1,RQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.scroll=function(t){var n=this.context,a=n.view,i=n.event;if(a.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||PQ,l=a.getController("scrollbar"),s=a.getXScale(),u=a.getOptions().data,c=Ie(Zr(u,s.field)),f=Ie(s.values),h=l.getValue(),d=Math.floor((c-f)*h),p=d+(kQ(i)?o:-o),v=o/(c-f)/1e4,g=Zt(p/(c-f)+v,0,1);l.setValue(g)}},e}(Xt),LQ="aixs-description-tooltip",DQ=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context,n=yi(t).axis,a=n.cfg.title,i=a.description,o=a.text,l=a.descriptionTooltipStyle,s=t.event,u=s.x,c=s.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat($n,'" style={').concat(l,`}>
            <div class="`).concat(jn,`">
              字段说明：`).concat(i,`
            </div>
          </div>
        `)},x:u,y:c}),this.tooltip.show()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=new Rf({parent:a.get("el").parentNode,region:i,visible:!1,containerId:LQ,domStyles:E({},lt({},(t={},t[$n]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[jn]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(Xt);UU("dark",XE(DX));qC("canvas",m7);qC("svg",Z7);An("Polygon",fK);An("Interval",oK);An("Schema",hK);An("Path",sy);An("Point",uK);An("Line",lK);An("Area",J7);An("Edge",tK);An("Heatmap",eK);An("Violin",pK);Ts("base",$f);Ts("interval",FK);Ts("pie",kK);Ts("polar",VT);lr("overlap",GK);lr("distribute",RK);lr("fixed-overlap",WK);lr("hide-overlap",eZ);lr("limit-in-shape",jK);lr("limit-in-canvas",$K);lr("limit-in-plot",mZ);lr("pie-outer",DK);lr("adjust-color",nZ);lr("interval-adjust-position",lZ);lr("interval-hide-overlap",uZ);lr("point-adjust-position",hZ);lr("pie-spider",NK);lr("path-adjust-position",vZ);wr("fade-in",xZ);wr("fade-out",bZ);wr("grow-in-x",SZ);wr("grow-in-xy",AZ);wr("grow-in-y",CZ);wr("scale-in-x",IZ);wr("scale-in-y",MZ);wr("wave-in",FZ);wr("zoom-in",kZ);wr("zoom-out",PZ);wr("position-update",TZ);wr("sector-path-update",OZ);wr("path-in",EZ);Bo("rect",BZ);Bo("mirror",_Z);Bo("list",LZ);Bo("matrix",DZ);Bo("circle",RZ);Bo("tree",NZ);Ai("axis",VZ);Ai("legend",HZ);Ai("tooltip",tT);Ai("annotation",jZ);Ai("slider",zZ);Ai("scrollbar",qZ);ht("tooltip",qT);ht("sibling-tooltip",KZ);ht("ellipsis-text",ZZ);ht("element-active",QZ);ht("element-single-active",eQ);ht("element-range-active",tQ);ht("element-highlight",by);ht("element-highlight-by-x",nQ);ht("element-highlight-by-color",rQ);ht("element-single-highlight",aQ);ht("element-range-highlight",UT);ht("element-sibling-highlight",UT,{effectSiblings:!0,effectByRecord:!0});ht("element-selected",oQ);ht("element-single-selected",lQ);ht("element-range-selected",iQ);ht("element-link-by-color",JZ);ht("active-region",XZ);ht("list-active",sQ);ht("list-selected",cQ);ht("list-highlight",wy);ht("list-unchecked",fQ);ht("list-checked",hQ);ht("list-focus",dQ);ht("list-radio",pQ);ht("legend-item-highlight",wy,{componentNames:["legend"]});ht("axis-label-highlight",wy,{componentNames:["axis"]});ht("axis-description",DQ);ht("rect-mask",QT);ht("x-rect-mask",tI,{dim:"x"});ht("y-rect-mask",tI,{dim:"y"});ht("circle-mask",vQ);ht("path-mask",rI);ht("smooth-path-mask",gQ);ht("rect-multi-mask",aI);ht("x-rect-multi-mask",iI,{dim:"x"});ht("y-rect-multi-mask",iI,{dim:"y"});ht("circle-multi-mask",yQ);ht("path-multi-mask",oI);ht("smooth-path-multi-mask",mQ);ht("cursor",xQ);ht("data-filter",bQ);ht("brush",Hf);ht("brush-x",Hf,{dims:["x"]});ht("brush-y",Hf,{dims:["y"]});ht("sibling-filter",Ty);ht("sibling-x-filter",Ty,{dims:"x"});ht("sibling-y-filter",Ty,{dims:"y"});ht("element-filter",wQ);ht("element-sibling-filter",lI);ht("element-sibling-filter-record",lI,{byRecord:!0});ht("view-drag",TQ);ht("view-move",MQ);ht("scale-translate",OQ);ht("scale-zoom",FQ);ht("reset-button",AQ,{name:"reset-button",text:"reset"});ht("mousewheel-scroll",RQ);function _n(r){return r.isInPlot()}bt("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});bt("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});bt("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});bt("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});bt("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});bt("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});bt("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});bt("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});bt("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});bt("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});bt("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});bt("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});bt("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_n,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_n,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_n,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});bt("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});bt("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_n,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_n,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_n,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});bt("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_n,action:"path-mask:start"},{trigger:"mousedown",isEnable:_n,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});bt("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:_n,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(r){return!_f(r)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});bt("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});bt("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(r){return!r.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});bt("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});bt("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});bt("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});bt("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});bt("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function l1(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}bt("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return l1(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!l1(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});bt("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});bt("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var rr=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Jr;(function(r){r.ERROR="error",r.WARN="warn",r.INFO="log"})(Jr||(Jr={}));var _Q="AntV/G2Plot";function BQ(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=0;return"".concat(_Q,": ").concat(r.replace(/%s/g,function(){return"".concat(e[n++])}))}function Hn(r,e,t){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];e||console[r](BQ.apply(void 0,pt([t],n,!1)))}function $t(r,e){var t={};return r!==null&&typeof r=="object"&&e.forEach(function(n){var a=r[n];a!==void 0&&(t[n]=a)}),t}function Iy(r,e){if(!r)return{};var t=r.filter(function(i){var o=H(i,[e]);return xt(o)&&!isNaN(o)}),n=t.every(function(i){return H(i,[e])>=0}),a=t.every(function(i){return H(i,[e])<=0});return n?{min:0}:a?{max:0}:{}}function uI(r,e,t,n,a){if(a===void 0&&(a=[]),!Array.isArray(r))return{nodes:[],links:[]};var i=[],o={},l=-1;return r.forEach(function(s){var u=s[e],c=s[t],f=s[n],h=$t(s,a);o[u]||(o[u]=E({id:++l,name:u},h)),o[c]||(o[c]=E({id:++l,name:c},h)),i.push(E({source:o[u].id,target:o[c].id,value:f},h))}),{nodes:Object.values(o).sort(function(s,u){return s.id-u.id}),links:i}}function xo(r,e){var t=Be(r,function(n){var a=n[e];return a===null||typeof a=="number"&&!isNaN(a)});return Hn(Jr.WARN,t.length===r.length,"illegal data existed in chart data."),t}var NQ=5,$Q={}.toString,cI=function(r,e){return $Q.call(r)==="[object "+e+"]"},jQ=function(r){return cI(r,"Array")},VQ=function(r){return typeof r=="object"&&r!==null},s1=function(r){if(!VQ(r)||!cI(r,"Object"))return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e},fI=function(r,e,t,n){t=t||0,n=n||NQ;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=e[a];i?s1(i)?(s1(r[a])||(r[a]={}),t<n?fI(r[a],i,t+1,n):r[a]=e[a]):jQ(i)?(r[a]=[],r[a]=r[a].concat(i)):r[a]=i:r[a]=i}},Z=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0;n<e.length;n+=1)fI(r,e[n]);return r};function Ov(r){if(!r)return{width:0,height:0};var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function mt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(n,a){return a(n)},t)}}function Ne(r,e){return r.geometries.find(function(t){return t.type===e})}function Oc(r){return ze(r.geometries,function(e,t){return e.concat(t.elements)},[])}function ns(r){return H(r,["views","length"],0)<=0?Oc(r):ze(r.views,function(e,t){return e.concat(ns(t))},Oc(r))}function HQ(r){return H(r,["views","length"],0)<=0?r.geometries:ze(r.views,function(e,t){return e.concat(t.geometries)},r.geometries)}function u1(r){if(!r)return r;var e=r.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return e.map(function(t){return t.toLowerCase()}).join("-")}function Me(r){if(!Oa(r,"Object"))return r;var e=E({},r);return e.formatter&&!e.content&&(e.content=e.formatter),e}var Ed;function zQ(){return Ed||(Ed=document.createElement("canvas").getContext("2d")),Ed}Lo(function(r,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,a=n===void 0?"sans-serif":n,i=e.fontWeight,o=e.fontStyle,l=e.fontVariant,s=zQ();s.font=[o,i,l,"".concat(t,"px"),a].join(" ");var u=s.measureText(gt(r)?r:"");return u.width},function(r,e){return e===void 0&&(e={}),pt([r],lf(e),!0).join("")});function xi(r){return typeof r=="number"&&!isNaN(r)}function WQ(r,e,t){var n=Math.min(e,t),a=Math.max(e,t);return r>=n&&r<=a}function Aa(r){if(xt(r))return[r,r,r,r];if(J(r)){var e=r.length;if(e===1)return[r[0],r[0],r[0],r[0]];if(e===2)return[r[0],r[1],r[0],r[1]];if(e===3)return[r[0],r[1],r[2],r[1]];if(e===4)return r}return[0,0,0,0]}function zf(r,e,t){e===void 0&&(e="bottom"),t===void 0&&(t=25);var n=Aa(r),a=[e.startsWith("top")?t:0,e.startsWith("right")?t:0,e.startsWith("bottom")?t:0,e.startsWith("left")?t:0];return[n[0]+a[0],n[1]+a[1],n[2]+a[2],n[3]+a[3]]}function My(r){var e=r.map(function(n){return Aa(n)}),t=[0,0,0,0];return e.length>0&&(t=t.map(function(n,a){return e.forEach(function(i,o){n+=e[o][a]}),n})),t}function GQ(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var n=1,a=r.length;n<a;n+=1){var i=r[n];t.push(["L",i.x,i.y])}e&&t.push(["Z"])}return t}var qQ=function(r,e,t,n){var a=[],i,o,l=!!n,s,u;if(l){s=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,f=r.length;c<f;c++){var h=r[c];s=Pe([0,0],s,h),u=Re([0,0],u,h)}s=Pe([0,0],s,n[0]),u=Re([0,0],u,n[1])}for(var c=0,d=r.length;c<d;c++){var h=r[c];if(t)i=r[c?c-1:d-1],o=r[(c+1)%d];else if(c===0||c===d-1){a.push(h);continue}else i=r[c-1],o=r[c+1];var p=[0,0];p=ni(p,o,i),p=Ue(p,p,e);var v=fo(h,i),g=fo(h,o),y=v+g;y!==0&&(v/=y,g/=y);var m=Ue([0,0],p,-v),b=Ue([0,0],p,g),x=hn([0,0],h,m),w=hn([0,0],h,b);l&&(x=Re([0,0],x,s),x=Pe([0,0],x,u),w=Re([0,0],w,s),w=Pe([0,0],w,u)),a.push(x),a.push(w)}return t&&a.push(a.shift()),a};function YQ(r,e,t){for(var n=!!e,a=[],i=0,o=r.length;i<o;i+=2)a.push([r[i],r[i+1]]);for(var l=qQ(a,.4,n,t),s=a.length,u=[],c,f,h,i=0;i<s-1;i++)c=l[i*2],f=l[i*2+1],h=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=l[s],f=l[s+1],h=a[0],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),u}function UQ(r,e,t){var n=[],a=r[0],i=null;if(r.length<=2)return GQ(r,e);for(var o=0,l=r.length;o<l;o++){var s=r[o];(!i||!(i.x===s.x&&i.y===s.y))&&(n.push(s.x),n.push(s.y),i=s)}var u=t||[[0,0],[1,1]],c=YQ(n,e,u);return c.unshift(["M",a.x,a.y]),c}function hI(r){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];H(r,"fill")&&(e.color=r.fill);var n=$t(r,t),a=n.shadowColor,i=n.shadowBlur,o=i===void 0?0:i,l=n.shadowOffsetX,s=l===void 0?0:l,u=n.shadowOffsetY,c=u===void 0?0:u;e["text-shadow"]="".concat([a,"".concat(s,"px"),"".concat(c,"px"),"".concat(o,"px")].join(" "));var f=$t(r,t),h=f.stroke,d=f.lineWidth,p=d===void 0?0:d;return e["-webkit-text-stroke"]="".concat(["".concat(p,"px"),h].join(" ")),j(r,function(v,g){["fontSize"].includes(g)&&xt(v)?e[u1(g)]="".concat(v,"px"):g&&!t.includes(g)&&(e[u1(g)]="".concat(v))}),e}function dI(r,e){r.style["pointer-events"]="none",j(e,function(t,n){n&&t&&(r.style[n]=t)})}var Wf=function(r,e,t){var n=e.statistic,a=e.plotType,i=n.title,o=n.content;[i,o].forEach(function(l,s){if(l){var u="";s===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=i?"translate(-50%, 0)":"translate(-50%, -50%)";var c=ut(l.style)?l.style(t):l.style;r.annotation().html(E({position:["50%","50%"],html:function(f,h){var d=h.getCoordinate(),p=0;if(a==="pie"||a==="ring-progress")p=d.getRadius()*d.innerRadius*2;else if(a==="liquid"){var v=H(h.geometries,[0,"elements",0,"shape"]);if(v){var g=v.find(function(x){return x.get("name")==="wrap"}),y=g.getCanvasBBox().width;p=y}}else p||(p=d.getWidth());dI(f,E({width:"".concat(p,"px"),transform:u},hI(c)));var m=h.getData();if(l.customHtml)return l.customHtml(f,h,t,m);var b=l.content;return l.formatter&&(b=l.formatter(t,m)),b?gt(b)?b:"".concat(b):"<div></div>"},key:"".concat(s===0?"top":"bottom","-statistic")},$t(l,["offsetX","offsetY","rotate","style","formatter"])))}})},XQ=function(r,e,t){var n=e.statistic,a=n.title,i=n.content;[a,i].forEach(function(o){if(o){var l=ut(o.style)?o.style(t):o.style;r.annotation().html(E({position:["50%","100%"],html:function(s,u){var c=u.getCoordinate(),f=u.views[0].getCoordinate(),h=f.getCenter(),d=f.getRadius(),p=Math.max(Math.sin(f.startAngle),Math.sin(f.endAngle))*d,v=h.y+p-c.y.start-parseFloat(H(l,"fontSize",0)),g=c.getRadius()*c.innerRadius*2;dI(s,E({width:"".concat(g,"px"),transform:"translate(-50%, ".concat(v,"px)")},hI(l)));var y=u.getData();if(o.customHtml)return o.customHtml(s,u,t,y);var m=o.content;return o.formatter&&(m=o.formatter(t,y)),m?gt(m)?m:"".concat(m):"<div></div>"}},$t(o,["offsetX","offsetY","rotate","style","formatter"])))}})};function pI(r,e){return e?ze(e,function(t,n,a){return t.replace(new RegExp("{\\s*".concat(a,"\\s*}"),"g"),n)},r):r}function Ct(r,e){return r.views.find(function(t){return t.id===e})}function dl(r){var e=r.parent;return e?e.views:[]}function c1(r){return dl(r).filter(function(e){return e!==r})}function Os(r,e,t){t===void 0&&(t=r.geometries),typeof e=="boolean"?r.animate(e):r.animate(!0),j(t,function(n){var a;ut(e)?a=e(n.type||n.shapeType,n)||!0:a=e,n.animate(a)})}function Gf(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function Oy(r,e){e===void 0&&(e=r);var t=document.createElement("canvas"),n=Gf();t.width=r*n,t.height=e*n,t.style.width="".concat(r,"px"),t.style.height="".concat(e,"px");var a=t.getContext("2d");return a.scale(n,n),t}function Fy(r,e,t,n){n===void 0&&(n=t);var a=e.backgroundColor,i=e.opacity;r.globalAlpha=i,r.fillStyle=a,r.beginPath(),r.fillRect(0,0,t,n),r.closePath()}function vI(r,e,t){var n=r+e;return t?n*2:n}function gI(r,e){var t=e?[[r*.25,r*.25],[r*.75,r*.75]]:[[r*.5,r*.5]];return t}function ky(r,e){var t=e*Math.PI/180,n={a:Math.cos(t)*(1/r),b:Math.sin(t)*(1/r),c:-Math.sin(t)*(1/r),d:Math.cos(t)*(1/r),e:0,f:0};return n}var KQ={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function ZQ(r,e,t,n){var a=e.size,i=e.fill,o=e.lineWidth,l=e.stroke,s=e.fillOpacity;r.beginPath(),r.globalAlpha=s,r.fillStyle=i,r.strokeStyle=l,r.lineWidth=o,r.arc(t,n,a/2,0,2*Math.PI,!1),r.fill(),o&&r.stroke(),r.closePath()}function QQ(r){var e=Z({},KQ,r),t=e.size,n=e.padding,a=e.isStagger,i=e.rotation,o=vI(t,n,a),l=gI(o,a),s=Oy(o,o),u=s.getContext("2d");Fy(u,e,o);for(var c=0,f=l;c<f.length;c++){var h=f[c],d=h[0],p=h[1];ZQ(u,e,d,p)}var v=u.createPattern(s,"repeat");if(v){var g=Gf(),y=ky(g,i);v.setTransform(y)}return v}var JQ={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function tJ(r,e,t){var n=e.stroke,a=e.lineWidth,i=e.strokeOpacity,o=new Path2D(t);r.globalAlpha=i,r.lineCap="square",r.strokeStyle=a?n:"transparent",r.lineWidth=a,r.stroke(o)}function eJ(r){var e=Z({},JQ,r),t=e.spacing,n=e.rotation,a=e.lineWidth,i=t+a||1,o=t+a||1,l=`
            M 0 0 L `.concat(i,` 0
            M 0 `).concat(o," L ").concat(i," ").concat(o,`
            `),s=Oy(i,o),u=s.getContext("2d");Fy(u,e,i,o),tJ(u,e,l);var c=u.createPattern(s,"repeat");if(c){var f=Gf(),h=ky(f,n);c.setTransform(h)}return c}var rJ={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function nJ(r,e,t,n){var a=e.stroke,i=e.size,o=e.fill,l=e.lineWidth,s=e.fillOpacity;r.globalAlpha=s,r.strokeStyle=a,r.lineWidth=l,r.fillStyle=o,r.strokeRect(t-i/2,n-i/2,i,i),r.fillRect(t-i/2,n-i/2,i,i)}function aJ(r){var e=Z({},rJ,r),t=e.size,n=e.padding,a=e.isStagger,i=e.rotation,o=vI(t,n,a),l=gI(o,a),s=Oy(o,o),u=s.getContext("2d");Fy(u,e,o);for(var c=0,f=l;c<f.length;c++){var h=f[c],d=h[0],p=h[1];nJ(u,e,d,p)}var v=u.createPattern(s,"repeat");if(v){var g=Gf(),y=ky(g,i);v.setTransform(y)}return v}function iJ(r){var e=r.type,t=r.cfg,n;switch(e){case"dot":n=QQ(t);break;case"line":n=eJ(t);break;case"square":n=aJ(t);break}return n}function Sr(r){var e=this;return function(t){var n,a=t.options,i=t.chart,o=a.pattern;if(!o)return t;var l=function(s){for(var u,c,f,h=[],d=1;d<arguments.length;d++)h[d-1]=arguments[d];var p=i.getTheme().defaultColor,v=p,g=(c=(u=i.geometries)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.getAttribute("color");if(g){var y=g.getFields()[0],m=H(s,y);v=or.getMappingValue(g,m,((f=g.values)===null||f===void 0?void 0:f[0])||p)}var b=o;typeof o=="function"&&(b=o.call(e,s,v)),b instanceof CanvasPattern||(b=iJ(Z({},{cfg:{backgroundColor:v}},b)));var x=a[r];return E(E({},typeof x=="function"?x.call.apply(x,pt([e,s],h,!1)):x||{}),{fill:b||v})};return Z({},t,{options:(n={},n[r]=l,n)})}}function $o(r){var e=r.chart,t=r.options,n=t.legend,a=t.colorField,i=t.seriesField;return n===!1?e.legend(!1):(a||i)&&e.legend(a||i,n),r}function Ce(r){var e=r.chart,t=r.options,n=t.tooltip;return n!==void 0&&e.tooltip(n),r}function Jt(r){var e=r.chart,t=r.options,n=t.interactions;return j(n,function(a){a.enable===!1?e.removeInteraction(a.type):e.interaction(a.type,a.cfg||{})}),r}function Wt(r){var e=r.chart,t=r.options,n=t.animation;return Os(e,n),r}function Ft(r){var e=r.chart,t=r.options,n=t.theme;return n&&e.theme(n),r}function Ra(r){var e=r.chart,t=r.options,n=t.state;return n&&j(e.geometries,function(a){a.state(n)}),r}function Fs(r){var e=r.chart,t=r.options,n=t.slider;return e.option("slider",n),r}function Py(r){var e=r.chart,t=r.options,n=t.scrollbar;return e.option("scrollbar",n),r}function se(r,e){return function(t){var n=t.chart,a=t.options,i={};return j(r,function(o,l){i[l]=$t(o,rr)}),i=Z({},e,a.meta,i),n.scale(i),t}}function re(r){return function(e){var t=e.chart,n=e.options,a=t.getController("annotation");return j(pt(pt([],n.annotations||[],!0),r||[],!0),function(i){a.annotation(i)}),e}}function bi(r){var e=r.chart,t=r.options,n=t.yAxis,a=t.limitInPlot,i=a;return jt(n)&&Q(a)&&(Object.values($t(n,["min","max","minLimit","maxLimit"])).some(function(o){return!Q(o)})?i=!0:i=!1),e.limitInPlot=i,r}function yI(r){return r===void 0&&(r="rect"),function(e){var t=e.chart,n=e.options,a=n.coordinate,i=Array.from(a||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return i.length!==0&&t.coordinate({type:r,actions:i}),e}}var oJ={locale:"en-US"},Wu={};function mI(r,e){Wu[r]=e}function qf(r){return{get:function(e,t){return pI(H(Wu[r],e)||H(Wu[oJ.locale],e)||H(Wu["en-US"],e)||e,t)}}}var lJ={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},sJ={locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}};function $r(r,e){if(r===!1)return{fields:!1};var t=H(r,"fields"),n=H(r,"formatter");return n&&!t&&(t=e),{fields:t,formatter:n}}function Iu(r,e){var t=r.type,n=r.xField,a=r.yField,i=r.colorField,o=r.shapeField,l=r.sizeField,s=r.styleField,u=r.rawFields,c=[];if(u=(ut(u)?u(t,e):u)||[],e==="color")c=pt([i||n],u,!0);else if(e==="shape")c=pt([o||n],u,!0);else if(e==="size")c=pt([l||n],u,!0);else{c=pt([n,a,i,o,l,s],u,!0);var f=["x","y","color","shape","size","style"].indexOf(e),h=c[f];c.splice(f,1),c.unshift(h)}var d=pi(c.filter(function(v){return!!v})),p=t==="line"&&[n,a].includes(d.join("*"))?"":d.join("*");return{mappingFields:d,tileMappingField:p}}function Hi(r,e){if(e)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a={};return r.forEach(function(i,o){a[i]=t[o]}),delete a.undefined,e(a)}}function sr(r){var e=r.chart,t=r.options,n=t.type,a=t.args,i=t.mapping,o=t.xField,l=t.yField,s=t.colorField,u=t.shapeField,c=t.sizeField,f=t.tooltipFields,h=t.label,d=t.state,p=t.customInfo;if(!i)return r;var v=i.color,g=i.shape,y=i.size,m=i.style,b=i.tooltip,x=e[n](a).position("".concat(o,"*").concat(l));if(gt(v))s?x.color(s,v):x.color(v);else if(ut(v)){var w=Iu(t,"color"),S=w.mappingFields,C=w.tileMappingField;x.color(C,Hi(S,v))}else s&&x.color(s,v);if(gt(g))u?x.shape(u,[g]):x.shape(g);else if(ut(g)){var T=Iu(t,"shape"),S=T.mappingFields,C=T.tileMappingField;x.shape(C,Hi(S,g))}else u&&x.shape(u,g);if(xt(y))c?x.size(c,y):x.size(y);else if(ut(y)){var F=Iu(t,"size"),S=F.mappingFields,C=F.tileMappingField;x.size(C,Hi(S,y))}else c&&x.size(c,y);if(ut(m)){var I=Iu(t,"style"),S=I.mappingFields,C=I.tileMappingField;x.style(C,Hi(S,m))}else jt(m)&&x.style(m);if(f===!1?x.tooltip(!1):ir(f)||x.tooltip(f.join("*"),Hi(f,b)),h===!1)x.label(!1);else if(h){var M=h.callback,O=h.fields,k=Ht(h,["callback","fields"]);x.label({fields:O||[l],callback:M,cfg:Me(k)})}return d&&x.state(d),p&&x.customInfo(p),[o,l].filter(function(L){return L!==s}).forEach(function(L){e.legend(L,!1)}),E(E({},r),{ext:{geometry:x}})}function Yf(r){var e=r.options,t=e.area,n=e.xField,a=e.yField,i=e.seriesField,o=e.smooth,l=e.tooltip,s=e.useDeferredLabel,u=$r(l,[n,a,i]),c=u.fields,f=u.formatter;return t?sr(Z({},r,{options:{type:"area",colorField:i,tooltipFields:c,mapping:lt({shape:o?"smooth":"area",tooltip:f},t),args:{useDeferredLabel:s}}})):r}function xI(r){var e=r.options,t=e.edge,n=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,l=e.useDeferredLabel,s=$r(o,[n,a,i]),u=s.fields,c=s.formatter;return t?sr(Z({},r,{options:{type:"edge",colorField:i,tooltipFields:u,mapping:E({tooltip:c},t),args:{useDeferredLabel:l}}})):r}function uJ(r){var e=r.chart,t=r.options,n=r.ext,a=t.seriesField,i=t.isGroup,o=t.isStack,l=t.marginRatio,s=t.widthRatio,u=t.groupField,c=t.theme,f=[];if(a&&(i&&f.push({type:"dodge",dodgeBy:u||a,marginRatio:l}),o&&f.push({type:"stack",marginRatio:l})),f.length&&(n!=null&&n.geometry)){var h=n==null?void 0:n.geometry;h.adjust(f)}return Q(s)||e.theme(Z({},jt(c)?c:Il(c),{columnWidthRatio:s})),r}function $e(r){var e=r.options,t=e.xField,n=e.yField,a=e.interval,i=e.seriesField,o=e.tooltip,l=e.minColumnWidth,s=e.maxColumnWidth,u=e.columnBackground,c=e.dodgePadding,f=e.intervalPadding,h=e.useDeferredLabel,d=$r(o,[t,n,i]),p=d.fields,v=d.formatter,g=(a?sr(Z({},r,{options:{type:"interval",colorField:i,tooltipFields:p,mapping:E({tooltip:v},a),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:l,maxColumnWidth:s,background:u,useDeferredLabel:h}}})):r).ext;return uJ(E(E({},r),{ext:g}))}function jo(r){var e=r.options,t=e.line,n=e.stepType,a=e.xField,i=e.yField,o=e.seriesField,l=e.smooth,s=e.connectNulls,u=e.tooltip,c=e.useDeferredLabel,f=$r(u,[a,i,o]),h=f.fields,d=f.formatter;return t?sr(Z({},r,{options:{type:"line",colorField:o,tooltipFields:h,mapping:lt({shape:n||(l?"smooth":"line"),tooltip:d},t),args:{connectNulls:s,useDeferredLabel:c}}})):r}function Cr(r){var e=r.options,t=e.point,n=e.xField,a=e.yField,i=e.seriesField,o=e.sizeField,l=e.shapeField,s=e.tooltip,u=e.useDeferredLabel,c=$r(s,[n,a,i,o,l]),f=c.fields,h=c.formatter;return t?sr(Z({},r,{options:{type:"point",colorField:i,shapeField:l,tooltipFields:f,mapping:E({tooltip:h},t),args:{useDeferredLabel:u}}})):r}function Uf(r){var e=r.options,t=e.polygon,n=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,l=e.useDeferredLabel,s=$r(o,[n,a,i]),u=s.fields,c=s.formatter;return t?sr(Z({},r,{options:{type:"polygon",colorField:i,tooltipFields:u,mapping:E({tooltip:c},t),args:{useDeferredLabel:l}}})):r}function Ry(r){var e=r.options,t=e.schema,n=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,l=e.useDeferredLabel,s=$r(o,[n,a,i]),u=s.fields,c=s.formatter;return t?sr(Z({},r,{options:{type:"schema",colorField:i,tooltipFields:u,mapping:E({tooltip:c},t),args:{useDeferredLabel:l}}})):r}function cJ(r){var e=r.options,t=e.violin,n=e.xField,a=e.yField,i=e.seriesField,o=e.sizeField,l=e.tooltip,s=$r(l,[n,a,i,o]),u=s.fields,c=s.formatter;return t?sr(Z({},r,{options:{type:"violin",colorField:i,tooltipFields:u,mapping:E({tooltip:c},t)}})):r}var ui={},ga={},bI={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=1,t=function(){return"".concat(e++)};r.default=t})(bI);var Xf={},Kf={},Ly={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var o=this,l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];clearTimeout(i),i=setTimeout(function(){n.apply(o,s)},a)}};r.default=e})(Ly);var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.SizeSensorId=mn.SensorTabIndex=mn.SensorClassName=void 0;var fJ="size-sensor-id";mn.SizeSensorId=fJ;var hJ="size-sensor-object";mn.SensorClassName=hJ;var dJ="-1";mn.SensorTabIndex=dJ;Object.defineProperty(Kf,"__esModule",{value:!0});Kf.createSensor=void 0;var pJ=vJ(Ly),Td=mn;function vJ(r){return r&&r.__esModule?r:{default:r}}var gJ=function(e,t){var n=void 0,a=[],i=function(){getComputedStyle(e).position==="static"&&(e.style.position="relative");var f=document.createElement("object");return f.onload=function(){f.contentDocument.defaultView.addEventListener("resize",o),o()},f.style.display="block",f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.height="100%",f.style.width="100%",f.style.overflow="hidden",f.style.pointerEvents="none",f.style.zIndex="-1",f.style.opacity="0",f.setAttribute("class",Td.SensorClassName),f.setAttribute("tabindex",Td.SensorTabIndex),f.type="text/html",e.appendChild(f),f.data="about:blank",f},o=(0,pJ.default)(function(){a.forEach(function(c){c(e)})}),l=function(f){n||(n=i()),a.indexOf(f)===-1&&a.push(f)},s=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",o),n.parentNode.removeChild(n),e.removeAttribute(Td.SizeSensorId),n=void 0,a=[],t&&t())},u=function(f){var h=a.indexOf(f);h!==-1&&a.splice(h,1),a.length===0&&n&&s()};return{element:e,bind:l,destroy:s,unbind:u}};Kf.createSensor=gJ;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.createSensor=void 0;var yJ=mn,mJ=xJ(Ly);function xJ(r){return r&&r.__esModule?r:{default:r}}var bJ=function(e,t){var n=void 0,a=[],i=(0,mJ.default)(function(){a.forEach(function(c){c(e)})}),o=function(){var f=new ResizeObserver(i);return f.observe(e),i(),f},l=function(f){n||(n=o()),a.indexOf(f)===-1&&a.push(f)},s=function(){n.disconnect(),a=[],n=void 0,e.removeAttribute(yJ.SizeSensorId),t&&t()},u=function(f){var h=a.indexOf(f);h!==-1&&a.splice(h,1),a.length===0&&n&&s()};return{element:e,bind:l,destroy:s,unbind:u}};Zf.createSensor=bJ;Object.defineProperty(Xf,"__esModule",{value:!0});Xf.createSensor=void 0;var wJ=Kf,SJ=Zf,CJ=typeof ResizeObserver<"u"?SJ.createSensor:wJ.createSensor;Xf.createSensor=CJ;Object.defineProperty(ga,"__esModule",{value:!0});ga.removeSensor=ga.getSensor=ga.Sensors=void 0;var AJ=TJ(bI),EJ=Xf,Fv=mn;function TJ(r){return r&&r.__esModule?r:{default:r}}var ro={};ga.Sensors=ro;function wI(r){r&&ro[r]&&delete ro[r]}var IJ=function(e){var t=e.getAttribute(Fv.SizeSensorId);if(t&&ro[t])return ro[t];var n=(0,AJ.default)();e.setAttribute(Fv.SizeSensorId,n);var a=(0,EJ.createSensor)(e,function(){return wI(n)});return ro[n]=a,a};ga.getSensor=IJ;var MJ=function(e){var t=e.element.getAttribute(Fv.SizeSensorId);e.destroy(),wI(t)};ga.removeSensor=MJ;Object.defineProperty(ui,"__esModule",{value:!0});ui.ver=ui.clear=SI=ui.bind=void 0;var kv=ga,OJ=function(e,t){var n=(0,kv.getSensor)(e);return n.bind(t),function(){n.unbind(t)}},SI=ui.bind=OJ,FJ=function(e){var t=(0,kv.getSensor)(e);(0,kv.removeSensor)(t)};ui.clear=FJ;var kJ="1.0.2";ui.ver=kJ;var f1="data-chart-source-type",CI=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],wt=function(r){U(e,r);function e(t,n){var a=r.call(this)||this;return a.container=typeof t=="string"?document.getElementById(t):t,a.options=Z({},a.getDefaultOptions(),n),a.createG2(),a.bindEvents(),a}return e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,n=t.width,a=t.height,i=t.defaultInteractions;this.chart=new cX(E(E(E(E({container:this.container,autoFit:!1},this.getChartSize(n,a)),{localRefresh:!1}),$t(this.options,CI)),{defaultInteractions:i})),this.container.setAttribute(f1,"G2Plot")},e.prototype.getChartSize=function(t,n){var a=Ov(this.container);return{width:t||a.width||400,height:n||a.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n!=null&&n.type&&t.emit(n.type,n)})},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=Z({},this.options,t)},e.prototype.setState=function(t,n,a){a===void 0&&(a=!0);var i=ns(this.chart);j(i,function(o){n(o.getData())&&o.setState(t,a)})},e.prototype.getStates=function(){var t=ns(this.chart),n=[];return j(t,function(a){var i=a.getData(),o=a.getStates();j(o,function(l){n.push({data:i,state:l,geometry:a.geometry,element:a})})}),n},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},e.prototype.addAnnotations=function(t,n){n=n||this.chart;var a=pt([],t,!0),i=n.getController("annotation"),o=i.getComponents().map(function(u){return u.extra});i.clear(!0);for(var l=function(u){var c=o[u],f=a.findIndex(function(h){return h.id&&h.id===c.id});f!==-1&&(c=Z({},c,a[f]),a.splice(f,1)),i.annotation(c)},s=0;s<o.length;s++)l(s);a.forEach(function(u){return i.annotation(u)}),n.render(!0)},e.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),a=n.getComponents().map(function(l){return l.extra});n.clear(!0);for(var i=function(l){var s=a[l];t.find(function(u){return u.id&&u.id===s.id})||n.annotation(s)},o=0;o<a.length;o++)i(o);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(f1)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,a=n.padding,i=n.appendPadding;this.chart.padding=a,this.chart.appendPadding=i,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit,a=n===void 0?!0:n;a&&(this.unbind=SI(this.container,function(){var i=Ov(t.container),o=i.width,l=i.height;(o!==t.chart.width||l!==t.chart.height)&&t.triggerResize()}))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(xg);function AI(r,e,t,n){var a=ze(r,function(i,o){var l=o[t],s=i.has(l)?i.get(l):0,u=o[e];return s=xi(u)?s+u:s,i.set(l,s),i},new Map);return Qt(r,function(i){var o,l=i[e],s=i[t],u=xi(l)&&a.get(s)!==0?l/a.get(s):0;return E(E({},i),(o={},o[n]=u,o))})}function PJ(r,e,t,n){var a=ze(r,function(i,o){var l=ze(t,function(c,f){return"".concat(c).concat(o[f])},""),s=i.has(l)?i.get(l):0,u=o[e];return s=xi(u)?s+u:s,i.set(l,s),i},new Map);return Qt(r,function(i){var o,l=i[e],s=ze(t,function(c,f){return"".concat(c).concat(i[f])},""),u=xi(l)&&a.get(s)!==0?l/a.get(s):0;return E(E({},i),(o={},o[n]=u,o))})}function ks(r,e,t,n,a){return a?AI(r,e,t,n):r}function RJ(r){var e=r.chart,t=r.options,n=t.data,a=t.color,i=t.lineStyle,o=t.lineShape,l=t.point,s=t.area,u=t.seriesField,c=l==null?void 0:l.state,f=s==null?void 0:s.state;e.data(n);var h=Z({},r,{options:{shapeField:u,line:{color:a,style:i,shape:o},point:l&&E({color:a,shape:"circle"},l),area:s&&E({color:a},s),label:void 0}}),d=Z({},h,{options:{tooltip:!1,state:c}}),p=Z({},h,{options:{tooltip:!1,state:f}});return jo(h),Cr(d),Yf(p),r}function Qf(r){var e,t,n=r.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.data;return mt(se((e={},e[o]=a,e[l]=i,e),(t={},t[o]={type:"cat"},t[l]=Iy(s,l),t)))(r)}function LJ(r){var e=r.chart,t=r.options,n=t.reflect;if(n){var a=n;J(a)||(a=[a]);var i=a.map(function(o){return["reflect",o]});e.coordinate({type:"rect",actions:i})}return r}function EI(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?e.axis(o,!1):e.axis(o,a),r}function TI(r){var e=r.chart,t=r.options,n=t.legend,a=t.seriesField;return n&&a?e.legend(a,n):n===!1&&e.legend(!1),r}function DJ(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=Ne(e,"line");if(!n)i.label(!1);else{var o=n.callback,l=Ht(n,["callback"]);i.label({fields:[a],callback:o,cfg:E({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Me(l))})}return r}function _J(r){var e=r.chart,t=r.options,n=t.isStack;return n&&j(e.geometries,function(a){a.adjust("stack")}),r}function II(r){return mt(RJ,Qf,_J,Ft,LJ,EI,TI,Ce,DJ,Fs,Py,Jt,Wt,re(),bi)(r)}function BJ(r){var e=r.chart,t=r.options,n=t.data,a=t.areaStyle,i=t.areaShape,o=t.color,l=t.point,s=t.line,u=t.isPercent,c=t.xField,f=t.yField,h=t.tooltip,d=t.seriesField,p=t.startOnZero,v=l==null?void 0:l.state,g=ks(n,f,c,f,u);e.data(g);var y=u?E({formatter:function(w){return{name:w[d]||w[c],value:(Number(w[f])*100).toFixed(2)+"%"}}},h):h,m=Z({},r,{options:{area:{color:o,style:a,shape:i},point:l&&E({color:o},l),tooltip:y,label:void 0,args:{startOnZero:p}}}),b={chart:e,options:Z({line:{size:2}},sf(t,["state"]),{line:s&&E({color:o},s),sizeField:d,state:s==null?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:p}})},x=Z({},m,{options:{tooltip:!1,state:v}});return Yf(m),jo(b),Cr(x),r}function NJ(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=Ne(e,"area");if(!n)i.label(!1);else{var o=n.callback,l=Ht(n,["callback"]);i.label({fields:[a],callback:o,cfg:E({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Me(l))})}return r}function $J(r){var e=r.chart,t=r.options,n=t.isStack,a=t.isPercent,i=t.seriesField;return(a||n)&&i&&j(e.geometries,function(o){o.adjust("stack")}),r}function MI(r){return mt(Ft,Sr("areaStyle"),yI("rect"),BJ,Qf,$J,EI,TI,Ce,NJ,Fs,re(),Jt,Wt,bi)(r)}var jJ=Z({},wt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),VJ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return jJ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.isPercent,i=n.xField,o=n.yField,l=this,s=l.chart,u=l.options;Qf({chart:s,options:u}),this.chart.changeData(ks(t,o,i,o,a))},e.prototype.getSchemaAdaptor=function(){return MI},e}(wt),HJ=10,zJ=5,WJ={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},GJ=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=E({name:"button"},WJ),t}return e.prototype.getButtonCfg=function(){var t=this.context.view,n=H(t,["interactions","filter-action","cfg","buttonConfig"]);return Z(this.buttonCfg,n,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),a=this.drawText(n);this.drawBackground(n,a.getBBox()),this.buttonGroup=n},e.prototype.drawText=function(t){var n,a=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:E({text:a.text},(n=a.textStyle)===null||n===void 0?void 0:n.default)})},e.prototype.drawBackground=function(t,n){var a,i=this.getButtonCfg(),o=Aa(i.padding),l=t.addShape({type:"rect",name:"button-rect",attrs:E({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(a=i.buttonStyle)===null||a===void 0?void 0:a.default)});return l.toBack(),t.on("mouseenter",function(){var s;l.attr((s=i.buttonStyle)===null||s===void 0?void 0:s.active)}),t.on("mouseleave",function(){var s;l.attr((s=i.buttonStyle)===null||s===void 0?void 0:s.default)}),l},e.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),a=n.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),l=or.transform(null,[["t",a.x-o.width-HJ,a.y+o.height+zJ]]);i.setMatrix(l)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(Xt);ht("brush-reset-button",GJ,{name:"brush-reset-button"});bt("filter-action",{});function Mn(r){return r.isInPlot()}function Ti(r,e,t){var n=t||{},a=n.mask,i=n.isStartEnable,o=e||"rect";switch(r){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||Mn,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:Mn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Mn,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(l){return i?!i(l):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||Mn,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:Mn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Mn,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||Mn,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:Mn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Mn,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{}}}bt("brush",Ti("brush"));bt("brush-highlight",Ti("brush-highlight"));bt("brush-x",Ti("brush-x","x-rect"));bt("brush-y",Ti("brush-y","y-rect"));bt("brush-x-highlight",Ti("brush-x-highlight","x-rect"));bt("brush-y-highlight",Ti("brush-y-highlight","y-rect"));var h1=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function OI(r){var e=r.options,t=e.brush,n=Be(e.interactions||[],function(a){return h1.indexOf(a.type)===-1});return t!=null&&t.enabled&&(h1.forEach(function(a){var i=!1;switch(t.type){case"x-rect":i=a===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":i=a===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:i=a===(t.action==="highlight"?"brush-highlight":"brush");break}var o={type:a,enable:i};t&&(o.cfg=Ti(a,t.type,t)),n.push(o)}),(t==null?void 0:t.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),Z({},r,{options:{interactions:n}})}var ci={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},Dy=function(r,e){return r==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};bt(ci.hover,{start:Dy(ci.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]});bt(ci.click,{start:Dy(ci.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function qJ(r){return r===void 0&&(r=!1),function(e){var t=e.chart,n=e.options,a=n.connectedArea,i=function(){t.removeInteraction(ci.hover),t.removeInteraction(ci.click)};if(!r&&a){var o=a.trigger||"hover";i(),t.interaction(ci[o],{start:Dy(o,a.style)})}else i();return e}}function FI(r,e){return!xt(r)||!xt(e)||r===0&&e===0?"-":r===e?"100%":r===0?"∞":"".concat((100*e/r).toFixed(2),"%")}function YJ(r,e){return Z({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:r.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:r.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:FI}},r)}function Fc(r,e){return Qt(e.getModel().points,function(t){return r.convertPoint(t)})}function UJ(r,e,t){var n=r.view,a=r.geometry,i=r.group,o=r.options,l=r.horizontal,s=o.offset,u=o.size,c=o.arrow,f=n.getCoordinate(),h=Fc(f,e)[3],d=Fc(f,t)[0],p=d.y-h.y,v=d.x-h.x;if(typeof c!="boolean"){var g=c.headSize,y=o.spacing,m;l?(v-g)/2<y?(y=Math.max(1,(v-g)/2),m=[[h.x+y,h.y-s],[h.x+y,h.y-s-u],[d.x-y,d.y-s-u/2]]):m=[[h.x+y,h.y-s],[h.x+y,h.y-s-u],[d.x-y-g,d.y-s-u],[d.x-y,d.y-s-u/2],[d.x-y-g,d.y-s]]:(p-g)/2<y?(y=Math.max(1,(p-g)/2),m=[[h.x+s,h.y+y],[h.x+s+u,h.y+y],[d.x+s+u/2,d.y-y]]):m=[[h.x+s,h.y+y],[h.x+s+u,h.y+y],[d.x+s+u,d.y-y-g],[d.x+s+u/2,d.y-y],[d.x+s,d.y-y-g]],i.addShape("polygon",{id:"".concat(n.id,"-conversion-tag-arrow-").concat(a.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:t},attrs:E(E({},c.style||{}),{points:m})})}}function XJ(r,e,t){var n,a,i,o=r.view,l=r.geometry,s=r.group,u=r.options,c=r.field,f=r.horizontal,h=u.offset,d=u.size;if(typeof u.text!="boolean"){var p=o.getCoordinate(),v=((n=u.text)===null||n===void 0?void 0:n.formatter)&&((a=u.text)===null||a===void 0?void 0:a.formatter(e.getData()[c],t.getData()[c])),g=Fc(p,e)[f?3:0],y=Fc(p,t)[f?0:3],m=s.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(l.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:t},attrs:E(E({},((i=u.text)===null||i===void 0?void 0:i.style)||{}),{text:v,x:f?(g.x+y.x)/2:g.x+h+d/2,y:f?g.y-h-d/2:(g.y+y.y)/2})});if(f){var b=y.x-g.x,x=m.getBBox().width;if(x>b){var w=x/v.length,S=Math.max(1,Math.ceil(b/w)-1),C="".concat(v.slice(0,S),"...");m.attr("text",C)}}}}function KJ(r,e,t){UJ(r,e,t),XJ(r,e,t)}function ZJ(r,e,t){return e===void 0&&(e=!0),t===void 0&&(t=!1),function(n){var a=n.options,i=n.chart,o=a.conversionTag,l=a.theme;return o&&!t&&(i.theme(Z({},jt(l)?l:Il(l),{columnWidthRatio:1/3})),i.annotation().shape({render:function(s,u){var c=s.addGroup({id:"".concat(i.id,"-conversion-tag-group"),name:"conversion-tag-group"}),f=Yr(i.geometries,function(p){return p.type==="interval"}),h={view:u,geometry:f,group:c,field:r,horizontal:e,options:YJ(o,e)},d=f.elements;j(d,function(p,v){v>0&&KJ(h,d[v-1],p)})}})),n}}function QJ(r){var e=r.options,t=e.legend,n=e.seriesField,a=e.isStack;return n?t!==!1&&(t=E({position:a?"right-top":"top-left"},t)):t=!1,r.options.legend=t,r}function JJ(r){var e=r.chart,t=r.options,n=t.data,a=t.columnStyle,i=t.color,o=t.columnWidthRatio,l=t.isPercent,s=t.isGroup,u=t.isStack,c=t.xField,f=t.yField,h=t.seriesField,d=t.groupField,p=t.tooltip,v=t.shape,g=l&&s&&u?PJ(n,f,[c,d],f):ks(n,f,c,f,l),y=[];u&&h&&!s?g.forEach(function(x){var w=y.find(function(S){return S[c]===x[c]&&S[h]===x[h]});w?w[f]+=x[f]||0:y.push(E({},x))}):y=g,e.data(y);var m=l?E({formatter:function(x){var w;return{name:s&&u?"".concat(x[h]," - ").concat(x[d]):(w=x[h])!==null&&w!==void 0?w:x[c],value:(Number(x[f])*100).toFixed(2)+"%"}}},p):p,b=Z({},r,{options:{data:y,widthRatio:o,tooltip:m,interval:{shape:v,style:a,color:i}}});return $e(b),b}function _y(r){var e,t,n=r.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.data,u=n.isPercent,c=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return mt(se((e={},e[o]=a,e[l]=i,e),(t={},t[o]={type:"cat"},t[l]=E(E({},Iy(s,l)),c),t)))(r)}function ttt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?e.axis(o,!1):e.axis(o,a),r}function ett(r){var e=r.chart,t=r.options,n=t.legend,a=t.seriesField;return n&&a?e.legend(a,n):n===!1&&e.legend(!1),r}function rtt(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=t.isRange,o=Ne(e,"interval");if(!n)o.label(!1);else{var l=n.callback,s=Ht(n,["callback"]);o.label({fields:[a],callback:l,cfg:E({layout:s!=null&&s.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Me(i?E({content:function(u){var c;return(c=u[a])===null||c===void 0?void 0:c.join("-")}},s):s))})}return r}function ntt(r){var e=r.chart,t=r.options,n=t.tooltip,a=t.isGroup,i=t.isStack,o=t.groupField,l=t.data,s=t.xField,u=t.yField,c=t.seriesField;if(n===!1)e.tooltip(!1);else{var f=n;if(a&&i){var h=f.customItems,d=(f==null?void 0:f.formatter)||function(p){return{name:"".concat(p[c]," - ").concat(p[o]),value:p[u]}};f=E(E({},f),{customItems:function(p){var v=[];return j(p,function(g){var y=Be(l,function(m){return LC(m,$t(g.data,[s,c]))});y.forEach(function(m){v.push(E(E(E({},g),{value:m[u],data:m,mappingData:{_origin:m}}),d(m)))})}),h?h(v):v}})}e.tooltip(f)}return r}function Jf(r,e){e===void 0&&(e=!1);var t=r.options,n=t.seriesField;return mt(QJ,Ft,Sr("columnStyle"),Ra,yI("rect"),JJ,_y,ttt,ett,ntt,Fs,Py,rtt,OI,Jt,Wt,re(),ZJ(t.yField,!e,!!n),qJ(!t.isStack),bi)(r)}function att(r){var e=r.options,t=e.xField,n=e.yField,a=e.xAxis,i=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},l=i!==!1?E({position:o[(i==null?void 0:i.position)||"left"]},i):!1,s=a!==!1?E({position:o[(a==null?void 0:a.position)||"bottom"]},a):!1;return E(E({},r),{options:E(E({},e),{xField:n,yField:t,xAxis:l,yAxis:s})})}function itt(r){var e=r.options,t=e.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Z({},r,{options:{label:t}})}function ott(r){var e=r.options,t=e.seriesField,n=e.isStack,a=e.legend;return t?a!==!1&&(a=E({position:n?"top-left":"right-top"},a||{})):a=!1,Z({},r,{options:{legend:a}})}function ltt(r){var e=r.options,t=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return Z({},r,{options:{coordinate:t}})}function stt(r){var e=r.chart,t=r.options,n=t.barStyle,a=t.barWidthRatio,i=t.minBarWidth,o=t.maxBarWidth,l=t.barBackground;return Jf({chart:e,options:E(E({},t),{columnStyle:n,columnWidthRatio:a,minColumnWidth:i,maxColumnWidth:o,columnBackground:l})},!0)}function kI(r){return mt(att,itt,ott,Ce,ltt,stt)(r)}var utt=Z({},wt.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),PI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bar",t}return e.getDefaultOptions=function(){return utt},e.prototype.changeData=function(t){var n,a;this.updateOption({data:t});var i=this,o=i.chart,l=i.options,s=l.isPercent,u=l.xField,c=l.yField,f=l.xAxis,h=l.yAxis;n=[c,u],u=n[0],c=n[1],a=[h,f],f=a[0],h=a[1];var d=E(E({},l),{xField:u,yField:c,yAxis:h,xAxis:f});_y({chart:o,options:d}),o.changeData(ks(t,u,c,u,s))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return kI},e}(wt),ctt=Z({},wt.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),RI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="column",t}return e.getDefaultOptions=function(){return ctt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.yField,i=n.xField,o=n.isPercent,l=this,s=l.chart,u=l.options;_y({chart:s,options:u}),this.chart.changeData(ks(t,a,i,a,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Jf},e}(wt),Id,Ea="$$percentage$$",Ta="$$mappingValue$$",Bn="$$conversion$$",Pv="$$totalPercentage$$",as="$$x$$",is="$$y$$",ftt={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Id={},Id[Ta]={min:0,max:1,nice:!1},Id),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},LI="CONVERSION_TAG_NAME";function By(r,e,t){var n=[],a=t.yField,i=t.maxSize,o=t.minSize,l=H(NC(e,a),[a]),s=xt(i)?i:1,u=xt(o)?o:0;return n=Qt(r,function(c,f){var h=(c[a]||0)/l;return c[Ea]=h,c[Ta]=(s-u)*h+u,c[Bn]=[H(r,[f-1,a]),c[a]],c}),n}function Ny(r){return function(e){var t=e.chart,n=e.options,a=n.conversionTag,i=n.filteredData,o=i||t.getOptions().data;if(a){var l=a.formatter;o.forEach(function(s,u){if(!(u<=0||Number.isNaN(s[Ta]))){var c=r(s,u,o,{top:!0,name:LI,text:{content:ut(l)?l(s,o):l,offsetX:a.offsetX,offsetY:a.offsetY,position:"end",autoRotate:!1,style:E({textAlign:"start",textBaseline:"middle"},a.style)}});t.annotation().line(c)}})}return e}}function htt(r){var e=r.chart,t=r.options,n=t.data,a=n===void 0?[]:n,i=t.yField,o=t.maxSize,l=t.minSize,s=By(a,a,{yField:i,maxSize:o,minSize:l});return e.data(s),r}function dtt(r){var e=r.chart,t=r.options,n=t.xField,a=t.yField,i=t.color,o=t.tooltip,l=t.label,s=t.shape,u=s===void 0?"funnel":s,c=t.funnelStyle,f=t.state,h=$r(o,[n,a]),d=h.fields,p=h.formatter;sr({chart:e,options:{type:"interval",xField:n,yField:Ta,colorField:n,tooltipFields:J(d)&&d.concat([Ea,Bn]),mapping:{shape:u,tooltip:p,color:i,style:c},label:l,state:f}});var v=Ne(r.chart,"interval");return v.adjust("symmetric"),r}function ptt(r){var e=r.chart,t=r.options,n=t.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),r}function DI(r){var e=r.options,t=r.chart,n=e.maxSize,a=H(t,["geometries","0","dataArray"],[]),i=H(t,["options","data","length"]),o=Qt(a,function(s){return H(s,["0","nextPoints","0","x"])*i-.5}),l=function(s,u,c,f){var h=n-(n-s[Ta])/2;return E(E({},f),{start:[o[u-1]||u-.5,h],end:[o[u-1]||u-.5,h+.05]})};return Ny(l)(r),r}function _I(r){return mt(htt,dtt,ptt,DI)(r)}function vtt(r){var e,t=r.chart,n=r.options,a=n.data,i=a===void 0?[]:a,o=n.yField;return t.data(i),t.scale((e={},e[o]={sync:!0},e)),r}function gtt(r){var e=r.chart,t=r.options,n=t.data,a=t.xField,i=t.yField,o=t.color,l=t.compareField,s=t.isTransposed,u=t.tooltip,c=t.maxSize,f=t.minSize,h=t.label,d=t.funnelStyle,p=t.state,v=t.showFacetTitle;return e.facet("mirror",{fields:[l],transpose:!s,padding:s?0:[32,0,0,0],showTitle:v,eachView:function(g,y){var m=s?y.rowIndex:y.columnIndex;s||g.coordinate({type:"rect",actions:[["transpose"],["scale",m===0?-1:1,-1]]});var b=By(y.data,n,{yField:i,maxSize:c,minSize:f});g.data(b);var x=$r(u,[a,i,l]),w=x.fields,S=x.formatter,C=s?{offset:m===0?10:-23,position:m===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:m===0?"end":"start"}};sr({chart:g,options:{type:"interval",xField:a,yField:Ta,colorField:a,tooltipFields:J(w)&&w.concat([Ea,Bn]),mapping:{shape:"funnel",tooltip:S,color:o,style:d},label:h===!1?!1:Z({},C,h),state:p}})}}),r}function BI(r){var e=r.chart,t=r.index,n=r.options,a=n.conversionTag,i=n.isTransposed;(xt(t)?[e]:e.views).forEach(function(o,l){var s=H(o,["geometries","0","dataArray"],[]),u=H(o,["options","data","length"]),c=Qt(s,function(h){return H(h,["0","nextPoints","0","x"])*u-.5}),f=function(h,d,p,v){var g=(t||l)===0?-1:1;return Z({},v,{start:[c[d-1]||d-.5,h[Ta]],end:[c[d-1]||d-.5,h[Ta]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:a!==!1?g*a.offsetX:0,style:{textAlign:(t||l)===0?"end":"start"}}})};Ny(f)(Z({},{chart:o,options:n}))})}function ytt(r){var e=r.chart;return e.once("beforepaint",function(){return BI(r)}),r}function mtt(r){return mt(vtt,gtt,ytt)(r)}function xtt(r){var e=r.chart,t=r.options,n=t.data,a=n===void 0?[]:n,i=t.yField,o=ze(a,function(u,c){return u+(c[i]||0)},0),l=NC(a,i)[i],s=Qt(a,function(u,c){var f=[],h=[];if(u[Pv]=(u[i]||0)/o,c){var d=a[c-1][as],p=a[c-1][is];f[0]=d[3],h[0]=p[3],f[1]=d[2],h[1]=p[2]}else f[0]=-.5,h[0]=1,f[1]=.5,h[1]=1;return h[2]=h[1]-u[Pv],f[2]=(h[2]+1)/4,h[3]=h[2],f[3]=-f[2],u[as]=f,u[is]=h,u[Ea]=(u[i]||0)/l,u[Bn]=[H(a,[c-1,i]),u[i]],u});return e.data(s),r}function btt(r){var e=r.chart,t=r.options,n=t.xField,a=t.yField,i=t.color,o=t.tooltip,l=t.label,s=t.funnelStyle,u=t.state,c=$r(o,[n,a]),f=c.fields,h=c.formatter;return sr({chart:e,options:{type:"polygon",xField:as,yField:is,colorField:n,tooltipFields:J(f)&&f.concat([Ea,Bn]),label:l,state:u,mapping:{tooltip:h,color:i,style:s}}}),r}function wtt(r){var e=r.chart,t=r.options,n=t.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),r}function Stt(r){var e=function(t,n,a,i){return E(E({},i),{start:[t[as][1],t[is][1]],end:[t[as][1]+.05,t[is][1]]})};return Ny(e)(r),r}function Ctt(r){return mt(xtt,btt,wtt,Stt)(r)}function Att(r){var e,t=r.chart,n=r.options,a=n.data,i=a===void 0?[]:a,o=n.yField;return t.data(i),t.scale((e={},e[o]={sync:!0},e)),r}function Ett(r){var e=r.chart,t=r.options,n=t.seriesField,a=t.isTransposed,i=t.showFacetTitle;return e.facet("rect",{fields:[n],padding:[a?0:32,10,0,10],showTitle:i,eachView:function(o,l){_I(Z({},r,{chart:o,options:{data:l.data}}))}}),r}function Ttt(r){return mt(Att,Ett)(r)}var Itt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rendering=!1,t}return e.prototype.change=function(t){var n=this;if(!this.rendering){var a=t.seriesField,i=t.compareField,o=i?BI:DI,l=this.context.view,s=a||i?l.views:[l];Qt(s,function(u,c){var f=u.getController("annotation"),h=Be(H(f,["option"],[]),function(p){var v=p.name;return v!==LI});f.clear(!0),j(h,function(p){typeof p=="object"&&u.annotation()[p.type](p)});var d=H(u,["filteredData"],u.getOptions().data);o({chart:u,index:c,options:E(E({},t),{filteredData:By(d,d,t)})}),u.filterData(d),n.rendering=!0,u.render(!0)})}this.rendering=!1},e}(Xt),NI="funnel-conversion-tag",Rv="funnel-afterrender",$I={trigger:"afterrender",action:"".concat(NI,":change")};ht(NI,Itt);bt(Rv,{start:[$I]});function Mtt(r){var e=r.options,t=e.compareField,n=e.xField,a=e.yField,i=e.locale,o=e.funnelStyle,l=e.data,s=qf(i),u={label:t?{fields:[n,a,t,Ea,Bn],formatter:function(f){return"".concat(f[a])}}:{fields:[n,a,Ea,Bn],offset:0,position:"middle",formatter:function(f){return"".concat(f[n]," ").concat(f[a])}},tooltip:{title:n,formatter:function(f){return{name:f[n],value:f[a]}}},conversionTag:{formatter:function(f){return"".concat(s.get(["conversionTag","label"]),": ").concat(FI.apply(void 0,f[Bn]))}}},c;return(t||o)&&(c=function(f){return Z({},t&&{lineWidth:1,stroke:"#fff"},ut(o)?o(f):o)}),Z({options:u},r,{options:{funnelStyle:c,data:Ye(l)}})}function Ott(r){var e=r.options,t=e.compareField,n=e.dynamicHeight,a=e.seriesField;return a?Ttt(r):t?mtt(r):n?Ctt(r):_I(r)}function Ftt(r){var e,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return mt(se((e={},e[i]=n,e[o]=a,e)))(r)}function ktt(r){var e=r.chart;return e.axis(!1),r}function Ptt(r){var e=r.chart,t=r.options,n=t.legend;return n===!1?e.legend(!1):e.legend(n),r}function Rtt(r){var e=r.chart,t=r.options,n=t.interactions,a=t.dynamicHeight;return j(n,function(i){i.enable===!1?e.removeInteraction(i.type):e.interaction(i.type,i.cfg||{})}),a?e.removeInteraction(Rv):e.interaction(Rv,{start:[E(E({},$I),{arg:t})]}),r}function jI(r){return mt(Mtt,Ott,Ftt,ktt,Ce,Rtt,Ptt,Wt,Ft,re())(r)}var Ltt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="funnel",t}return e.getDefaultOptions=function(){return ftt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jI},e.prototype.setState=function(t,n,a){a===void 0&&(a=!0);var i=ns(this.chart);j(i,function(o){n(o.getData())&&o.setState(t,a)})},e.prototype.getStates=function(){var t=ns(this.chart),n=[];return j(t,function(a){var i=a.getData(),o=a.getStates();j(o,function(l){n.push({data:i,state:l,geometry:a.geometry,element:a})})}),n},e.CONVERSATION_FIELD=Bn,e.PERCENT_FIELD=Ea,e.TOTAL_PERCENT_FIELD=Pv,e}(wt),Mu,$y="range",VI="type",Ln="percent",Dtt="#f0f0f0",HI="indicator-view",zI="range-view",_tt={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(Mu={},Mu[$y]={sync:"v"},Mu[Ln]={sync:"v",tickCount:5,tickInterval:.2},Mu),animation:!1};function Btt(r,e){return r.map(function(t,n){var a;return a={},a[$y]=t-(r[n-1]||0),a[VI]="".concat(n),a[Ln]=e,a})}function WI(r){var e;return[(e={},e[Ln]=Zt(r,0,1),e)]}function GI(r,e){var t=H(e,["ticks"],[]),n=Ie(t)?pi(t):[0,Zt(r,0,1),1];return n[0]||n.shift(),Btt(n,r)}function Ntt(r){var e=r.chart,t=r.options,n=t.percent,a=t.range,i=t.radius,o=t.innerRadius,l=t.startAngle,s=t.endAngle,u=t.axis,c=t.indicator,f=t.gaugeStyle,h=t.type,d=t.meter,p=a.color,v=a.width;if(c){var g=WI(n),y=e.createView({id:HI});y.data(g),y.point().position("".concat(Ln,"*1")).shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),y.coordinate("polar",{startAngle:l,endAngle:s,radius:o*i}),y.axis(Ln,u),y.scale(Ln,$t(u,rr))}var m=GI(n,t.range),b=e.createView({id:zI});b.data(m);var x=gt(p)?[p,Dtt]:p,w=$e({chart:b,options:{xField:"1",yField:$y,seriesField:VI,rawFields:[Ln],isStack:!0,interval:{color:x,style:f,shape:h==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:v,maxColumnWidth:v}}).ext,S=w.geometry;return S.customInfo({meter:d}),b.coordinate("polar",{innerRadius:o,radius:i,startAngle:l,endAngle:s}).transpose(),r}function $tt(r){var e;return mt(se((e={range:{min:0,max:1,maxLimit:1,minLimit:0}},e[Ln]={},e)))(r)}function qI(r,e){var t=r.chart,n=r.options,a=n.statistic,i=n.percent;if(t.getController("annotation").clear(!0),a){var o=a.content,l=void 0;o&&(l=Z({},{content:"".concat((i*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),XQ(t,{statistic:E(E({},a),{content:l})},{percent:i})}return e&&t.render(!0),r}function jtt(r){var e=r.chart,t=r.options,n=t.tooltip;return n?e.tooltip(Z({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(a,i){var o=H(i,[0,"data",Ln],0);return"".concat((o*100).toFixed(2),"%")}},n)):e.tooltip(!1),r}function Vtt(r){var e=r.chart;return e.legend(!1),r}function YI(r){return mt(Ft,Wt,Ntt,$tt,jtt,qI,Jt,re(),Vtt)(r)}Bt("point","gauge-indicator",{draw:function(r,e){var t=r.customInfo,n=t.indicator,a=t.defaultColor,i=n,o=i.pointer,l=i.pin,s=e.addGroup(),u=this.parsePoint({x:0,y:0});return o&&s.addShape("line",{name:"pointer",attrs:E({x1:u.x,y1:u.y,x2:r.x,y2:r.y,stroke:a},o.style)}),l&&s.addShape("circle",{name:"pin",attrs:E({x:u.x,y:u.y,stroke:a},l.style)}),s}});Bt("interval","meter-gauge",{draw:function(r,e){var t=r.customInfo.meter,n=t===void 0?{}:t,a=n.steps,i=a===void 0?50:a,o=n.stepRatio,l=o===void 0?.5:o;i=i<1?1:i,l=Zt(l,0,1);var s=this.coordinate,u=s.startAngle,c=s.endAngle,f=0;if(l>0&&l<1){var h=c-u;f=h/i/(l/(1-l)+1-1/i)}for(var d=f/(1-l)*l,p=e.addGroup(),v=this.coordinate.getCenter(),g=this.coordinate.getRadius(),y=or.getAngle(r,this.coordinate),m=y.startAngle,b=y.endAngle,x=m;x<b;){var w=void 0,S=(x-u)%(d+f);S<d?w=x+(d-S):(x+=d+f-S,w=x+d);var C=or.getSectorPath(v.x,v.y,g,x,Math.min(w,b),g*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:C,fill:r.color,stroke:r.color,lineWidth:.5}}),x=w+f}return p}});var Htt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="gauge",t}return e.getDefaultOptions=function(){return _tt},e.prototype.changeData=function(t){this.chart.emit(St.BEFORE_CHANGE_DATA,te.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(i){return i.id===HI});n&&n.data(WI(t));var a=this.chart.views.find(function(i){return i.id===zI});a&&a.data(GI(t,this.options.range)),qI({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,te.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return YI},e}(wt);function d1(r,e,t){if(t===1)return[0,e];var n=Math.floor(r/e);return[e*n,e*(n+1)]}function ztt(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function UI(r,e,t,n,a){var i=Ye(r);KW(i,e);var o=Zr(i,e),l=_C(o),s=l.max-l.min,u=t;if(!t&&n&&(u=n>1?s/(n-1):l.max),!t&&!n){var c=ztt(o);u=s/c}var f={},h=dr(i,a);ir(h)?j(i,function(p){var v=p[e],g=d1(v,u,n),y="".concat(g[0],"-").concat(g[1]);xa(f,y)||(f[y]={range:g,count:0}),f[y].count+=1}):Object.keys(h).forEach(function(p){j(h[p],function(v){var g=v[e],y=d1(g,u,n),m="".concat(y[0],"-").concat(y[1]),b="".concat(m,"-").concat(p);xa(f,b)||(f[b]={range:y,count:0},f[b][a]=p),f[b].count+=1})});var d=[];return j(f,function(p){d.push(p)}),d}var kc="range",os="count",Wtt=Z({},wt.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Gtt(r){var e=r.chart,t=r.options,n=t.data,a=t.binField,i=t.binNumber,o=t.binWidth,l=t.color,s=t.stackField,u=t.legend,c=t.columnStyle,f=UI(n,a,o,i,s);e.data(f);var h=Z({},r,{options:{xField:kc,yField:os,seriesField:s,isStack:!0,interval:{color:l,style:c}}});return $e(h),u&&s?e.legend(s,u):e.legend(!1),r}function qtt(r){var e,t=r.options,n=t.xAxis,a=t.yAxis;return mt(se((e={},e[kc]=n,e[os]=a,e)))(r)}function Ytt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis;return n===!1?e.axis(kc,!1):e.axis(kc,n),a===!1?e.axis(os,!1):e.axis(os,a),r}function Utt(r){var e=r.chart,t=r.options,n=t.label,a=Ne(e,"interval");if(!n)a.label(!1);else{var i=n.callback,o=Ht(n,["callback"]);a.label({fields:[os],callback:i,cfg:Me(o)})}return r}function XI(r){return mt(Ft,Sr("columnStyle"),Gtt,qtt,Ytt,Ra,Utt,Ce,Jt,Wt)(r)}var Xtt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="histogram",t}return e.getDefaultOptions=function(){return Wtt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.binField,i=n.binNumber,o=n.binWidth,l=n.stackField;this.chart.changeData(UI(t,a,o,i,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return XI},e}(wt),Ktt=Z({},wt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),Ztt=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var a=n.data.items,i=t.geometries.filter(function(o){return o.type==="point"});j(i,function(o){j(o.elements,function(l){var s=DC(a,function(u){return u.data===l.data})!==-1;l.setState("active",s)})})}},e.prototype.reset=function(){var t=this.getView(),n=t.geometries.filter(function(a){return a.type==="point"});j(n,function(a){j(a.elements,function(i){i.setState("active",!1)})})},e.prototype.getView=function(){return this.context.view},e}(Xt);ht("marker-active",Ztt);bt("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var KI=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t}return e.getDefaultOptions=function(){return Ktt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;Qf({chart:a,options:i}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return II},e}(wt),ZI=Z({},wt.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),Qtt=[1,0,0,0,1,0,0,0,1];function Lv(r,e){var t=e?pt([],e,!0):pt([],Qtt,!0);return or.transform(t,r)}var Jtt=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getActiveElements=function(){var t=or.getDelegationObject(this.context);if(t){var n=this.context.view,a=t.component,i=t.item,o=a.get("field");if(o){var l=n.geometries[0].elements;return l.filter(function(s){return s.getModel().data[o]===i.value})}}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements(),a=t.geometries[0].labelsContainer.getChildren();return a.filter(function(i){return n.find(function(o){return le(o.getData(),i.get("data"))})})},e.prototype.transfrom=function(t){t===void 0&&(t=7.5);var n=this.getActiveElements(),a=this.getActiveElementLabels();n.forEach(function(i,o){var l=a[o],s=i.geometry.coordinate;if(s.isPolar&&s.isTransposed){var u=or.getAngle(i.getModel(),s),c=u.startAngle,f=u.endAngle,h=(c+f)/2,d=t,p=d*Math.cos(h),v=d*Math.sin(h);i.shape.setMatrix(Lv([["t",p,v]])),l.setMatrix(Lv([["t",p,v]]))}})},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(Xt);function tet(r){var e=r.event,t,n=e.target;return n&&(t=n.get("element")),t}var eet=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getAnnotations=function(t){var n=t||this.context.view;return n.getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var a=t.getAnnotations(n);t.initialAnnotation=a})},e.prototype.change=function(t){var n=this.context,a=n.view,i=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=H(i,["data","data"]);if(i.type.match("legend-item")){var l=or.getDelegationObject(this.context),s=a.getGroupedFields()[0];if(l&&s){var u=l.item;o=a.getData().find(function(d){return d[s]===u.value})}}if(o){var c=H(t,"annotations",[]),f=H(t,"statistic",{});a.getController("annotation").clear(!0),j(c,function(d){typeof d=="object"&&a.annotation()[d.type](d)}),Wf(a,{statistic:f,plotType:"pie"},o),a.render(!0)}var h=tet(this.context);h&&h.shape.toFront()},e.prototype.reset=function(){var t=this.context.view,n=t.getController("annotation");n.clear(!0);var a=this.getInitialAnnotation();j(a,function(i){t.annotation()[i.type](i)}),t.render(!0)},e}(Xt),QI="pie-statistic";ht(QI,eet);bt("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]});ht("pie-legend",Jtt);bt("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function ret(r,e){var t=null;return j(r,function(n){typeof n[e]=="number"&&(t+=n[e])}),t}function net(r,e){var t;switch(r){case"inner":return t="-30%",gt(e)&&e.endsWith("%")?parseFloat(e)*.01>0?t:e:e<0?e:t;case"outer":return t=12,gt(e)&&e.endsWith("%")?parseFloat(e)*.01<0?t:e:e>0?e:t;default:return e}}function Pc(r,e){return pg(xo(r,e),function(t){return t[e]===0})}function aet(r){var e=r.chart,t=r.options,n=t.data,a=t.angleField,i=t.colorField,o=t.color,l=t.pieStyle,s=t.shape,u=xo(n,a);if(Pc(u,a)){var c="$$percentage$$";u=u.map(function(h){var d;return E(E({},h),(d={},d[c]=1/u.length,d))}),e.data(u);var f=Z({},r,{options:{xField:"1",yField:c,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:l},args:{zIndexReversed:!0,sortZIndex:!0}}});$e(f)}else{e.data(u);var f=Z({},r,{options:{xField:"1",yField:a,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:l},args:{zIndexReversed:!0,sortZIndex:!0}}});$e(f)}return r}function iet(r){var e,t=r.chart,n=r.options,a=n.meta,i=n.colorField,o=Z({},a);return t.scale(o,(e={},e[i]={type:"cat"},e)),r}function oet(r){var e=r.chart,t=r.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return e.coordinate({type:"theta",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}),r}function set(r){var e=r.chart,t=r.options,n=t.label,a=t.colorField,i=t.angleField,o=e.geometries[0];if(!n)o.label(!1);else{var l=n.callback,s=Ht(n,["callback"]),u=Me(s);if(u.content){var c=u.content;u.content=function(p,v,g){var y=p[a],m=p[i],b=e.getScaleByField(i),x=b==null?void 0:b.scale(m);return ut(c)?c(E(E({},p),{percent:x}),v,g):gt(c)?pI(c,{value:m,name:y,percentage:xt(x)&&!Q(m)?"".concat((x*100).toFixed(2),"%"):null}):c}}var f={inner:"",outer:"pie-outer",spider:"pie-spider"},h=u.type?f[u.type]:"pie-outer",d=u.layout?J(u.layout)?u.layout:[u.layout]:[];u.layout=(h?[{type:h}]:[]).concat(d),o.label({fields:a?[i,a]:[i],callback:l,cfg:E(E({},u),{offset:net(u.type,u.offset),type:"pie"})})}return r}function JI(r){var e=r.innerRadius,t=r.statistic,n=r.angleField,a=r.colorField,i=r.meta,o=r.locale,l=qf(o);if(e&&t){var s=Z({},ZI.statistic,t),u=s.title,c=s.content;return u!==!1&&(u=Z({},{formatter:function(f){var h=f?f[a]:Q(u.content)?l.get(["statistic","total"]):u.content,d=H(i,[a,"formatter"])||function(p){return p};return d(h)}},u)),c!==!1&&(c=Z({},{formatter:function(f,h){var d=f?f[n]:ret(h,n),p=H(i,[n,"formatter"])||function(v){return v};return f||Q(c.content)?p(d):c.content}},c)),Z({},{statistic:{title:u,content:c}},r)}return r}function tM(r){var e=r.chart,t=r.options,n=JI(t),a=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),mt(re())(r),a&&i&&Wf(e,{statistic:i,plotType:"pie"}),r}function uet(r){var e=r.chart,t=r.options,n=t.tooltip,a=t.colorField,i=t.angleField,o=t.data;if(n===!1)e.tooltip(n);else if(e.tooltip(Z({},n,{shared:!1})),Pc(o,i)){var l=H(n,"fields"),s=H(n,"formatter");ir(H(n,"fields"))&&(l=[a,i],s=s||function(u){return{name:u[a],value:xs(u[i])}}),e.geometries[0].tooltip(l.join("*"),Hi(l,s))}return r}function cet(r){var e=r.chart,t=r.options,n=JI(t),a=n.interactions,i=n.statistic,o=n.annotations;return j(a,function(l){var s,u;if(l.enable===!1)e.removeInteraction(l.type);else if(l.type==="pie-statistic-active"){var c=[];!((s=l.cfg)===null||s===void 0)&&s.start||(c=[{trigger:"element:mouseenter",action:"".concat(QI,":change"),arg:{statistic:i,annotations:o}}]),j((u=l.cfg)===null||u===void 0?void 0:u.start,function(f){c.push(E(E({},f),{arg:{statistic:i,annotations:o}}))}),e.interaction(l.type,Z({},l.cfg,{start:c}))}else e.interaction(l.type,l.cfg||{})}),r}function eM(r){return mt(Sr("pieStyle"),aet,iet,Ft,oet,$o,uet,set,Ra,tM,cet,Wt)(r)}var rM=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pie",t}return e.getDefaultOptions=function(){return ZI},e.prototype.changeData=function(t){this.chart.emit(St.BEFORE_CHANGE_DATA,te.fromData(this.chart,St.BEFORE_CHANGE_DATA,null));var n=this.options,a=this.options.angleField,i=xo(n.data,a),o=xo(t,a);Pc(i,a)||Pc(o,a)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),tM({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(St.AFTER_CHANGE_DATA,te.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return eM},e}(wt),nM=["#FAAD14","#E8EDF3"],fet={percent:.2,color:nM,animation:{}};function jy(r){var e=Zt(xi(r)?r:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function aM(r){var e=r.chart,t=r.options,n=t.percent,a=t.progressStyle,i=t.color,o=t.barWidthRatio;e.data(jy(n));var l=Z({},r,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:a,color:gt(i)?[i,nM[1]]:i},args:{zIndexReversed:!0,sortZIndex:!0}}});return $e(l),e.tooltip(!1),e.axis(!1),e.legend(!1),r}function het(r){var e=r.chart;return e.coordinate("rect").transpose(),r}function iM(r){return mt(aM,se({}),het,Wt,Ft,re())(r)}var oM=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="process",t}return e.getDefaultOptions=function(){return fet},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(jy(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return iM},e}(wt);function det(r){var e=r.chart,t=r.options,n=t.innerRadius,a=t.radius;return e.coordinate("theta",{innerRadius:n,radius:a}),r}function lM(r,e){var t=r.chart,n=r.options,a=n.innerRadius,i=n.statistic,o=n.percent,l=n.meta;if(t.getController("annotation").clear(!0),a&&i){var s=H(l,["percent","formatter"])||function(c){return"".concat((c*100).toFixed(2),"%")},u=i.content;u&&(u=Z({},u,{content:Q(u.content)?s(o):u.content})),Wf(t,{statistic:E(E({},i),{content:u}),plotType:"ring-progress"},{percent:o})}return e&&t.render(!0),r}function sM(r){return mt(aM,se({}),det,lM,Wt,Ft,re())(r)}var pet={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},uM=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ring-process",t}return e.getDefaultOptions=function(){return pet},e.prototype.changeData=function(t){this.chart.emit(St.BEFORE_CHANGE_DATA,te.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(jy(t)),lM({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,te.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sM},e}(wt);function Ia(r,e){return vet(r)||get(r,e)||yet()}function vet(r){if(Array.isArray(r))return r}function get(r,e){var t=[],n=!0,a=!1,i=void 0;try{for(var o=r[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(t.push(l.value),!(e&&t.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}function yet(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Vy(r,e,t,n){r=r.filter(function(p,v){var g=e(p,v),y=t(p,v);return g!=null&&isFinite(g)&&y!=null&&isFinite(y)}),n&&r.sort(function(p,v){return e(p)-e(v)});for(var a=r.length,i=new Float64Array(a),o=new Float64Array(a),l=0,s=0,u,c,f,h=0;h<a;)f=r[h],i[h]=u=+e(f,h,r),o[h]=c=+t(f,h,r),++h,l+=(u-l)/h,s+=(c-s)/h;for(var d=0;d<a;++d)i[d]-=l,o[d]-=s;return[i,o,l,s]}function Ii(r,e,t,n){for(var a=0,i=0,o=r.length;i<o;i++){var l=r[i],s=+e(l,i,r),u=+t(l,i,r);s!=null&&isFinite(s)&&u!=null&&isFinite(u)&&n(s,u,a++)}}function Vo(r,e,t,n,a){var i=0,o=0;return Ii(r,e,t,function(l,s){var u=s-a(l),c=s-n;i+=u*u,o+=c*c}),1-i/o}function p1(r){return Math.atan2(r[1][1]-r[0][1],r[1][0]-r[0][0])*180/Math.PI}function met(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}function Ps(r,e,t){for(var n=Math.log(e-r)*Math.LOG10E+1|0,a=1*Math.pow(10,-n/2-1),i=1e4,o=[s(r),s(e)],l=0;u(o)&&l<i;);return o;function s(c){return[c,t(c)]}function u(c){l++;for(var f=c.length,h=!1,d=0;d<f-1;d++){var p=c[d],v=c[d+1],g=met([p,v]),y=s(g[0]),m=p1([p,g]),b=p1([p,y]),x=Math.abs(m-b);x>a&&(c.splice(d+1,0,y),h=!0)}return h}}function Rs(r,e,t,n){var a=n-r*r,i=Math.abs(a)<1e-24?0:(t-r*e)/a,o=e-i*r;return[o,i]}function xet(){var r=function(i){return i[0]},e=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,c=0,f=t?+t[0]:1/0,h=t?+t[1]:-1/0;Ii(a,r,e,function(b,x){var w=Math.log(x),S=b*x;++i,o+=(x-o)/i,s+=(S-s)/i,c+=(b*S-c)/i,l+=(x*w-l)/i,u+=(S*w-u)/i,t||(b<f&&(f=b),b>h&&(h=b))});var d=Rs(s/o,l/o,u/o,c/o),p=Ia(d,2),v=p[0],g=p[1];v=Math.exp(v);var y=function(x){return v*Math.exp(g*x)},m=Ps(f,h,y);return m.a=v,m.b=g,m.predict=y,m.rSquared=Vo(a,r,e,o,y),m}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(r=a,n):r},n.y=function(a){return arguments.length?(e=a,n):e},n}function cM(){var r=function(i){return i[0]},e=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,c=t?+t[0]:1/0,f=t?+t[1]:-1/0;Ii(a,r,e,function(m,b){++i,o+=(m-o)/i,l+=(b-l)/i,s+=(m*b-s)/i,u+=(m*m-u)/i,t||(m<c&&(c=m),m>f&&(f=m))});var h=Rs(o,l,s,u),d=Ia(h,2),p=d[0],v=d[1],g=function(b){return v*b+p},y=[[c,g(c)],[f,g(f)]];return y.a=v,y.b=p,y.predict=g,y.rSquared=Vo(a,r,e,l,g),y}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(r=a,n):r},n.y=function(a){return arguments.length?(e=a,n):e},n}function bet(r){r.sort(function(t,n){return t-n});var e=r.length/2;return e%1===0?(r[e-1]+r[e])/2:r[Math.floor(e)]}var v1=2,g1=1e-12;function wet(){var r=function(i){return i[0]},e=function(i){return i[1]},t=.3;function n(a){for(var i=Vy(a,r,e,!0),o=Ia(i,4),l=o[0],s=o[1],u=o[2],c=o[3],f=l.length,h=Math.max(2,~~(t*f)),d=new Float64Array(f),p=new Float64Array(f),v=new Float64Array(f).fill(1),g=-1;++g<=v1;){for(var y=[0,h-1],m=0;m<f;++m){for(var b=l[m],x=y[0],w=y[1],S=b-l[x]>l[w]-b?x:w,C=0,T=0,F=0,I=0,M=0,O=1/Math.abs(l[S]-b||1),k=x;k<=w;++k){var L=l[k],N=s[k],R=Cet(Math.abs(b-L)*O)*v[k],D=L*R;C+=R,T+=D,F+=N*R,I+=N*D,M+=L*D}var W=Rs(T/C,F/C,I/C,M/C),V=Ia(W,2),B=V[0],P=V[1];d[m]=B+P*b,p[m]=Math.abs(s[m]-d[m]),Aet(l,m+1,y)}if(g===v1)break;var $=bet(p);if(Math.abs($)<g1)break;for(var z=0,Y,q;z<f;++z)Y=p[z]/(6*$),v[z]=Y>=1?g1:(q=1-Y*Y)*q}return Eet(l,d,u,c)}return n.bandwidth=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(r=a,n):r},n.y=function(a){return arguments.length?(e=a,n):e},n}function Cet(r){return(r=1-r*r*r)*r*r}function Aet(r,e,t){var n=r[e],a=t[0],i=t[1]+1;if(!(i>=r.length))for(;e>a&&r[i]-n<=n-r[a];)t[0]=++a,t[1]=i,++i}function Eet(r,e,t,n){for(var a=r.length,i=[],o=0,l=0,s=[],u;o<a;++o)u=r[o]+t,s[0]===u?s[1]+=(e[o]-s[1])/++l:(l=0,s[1]+=n,s=[u,e[o]],i.push(s));return s[1]+=n,i}function Tet(){var r=function(o){return o[0]},e=function(o){return o[1]},t=Math.E,n;function a(i){var o=0,l=0,s=0,u=0,c=0,f=n?+n[0]:1/0,h=n?+n[1]:-1/0,d=Math.log(t);Ii(i,r,e,function(x,w){var S=Math.log(x)/d;++o,l+=(S-l)/o,s+=(w-s)/o,u+=(S*w-u)/o,c+=(S*S-c)/o,n||(x<f&&(f=x),x>h&&(h=x))});var p=Rs(l,s,u,c),v=Ia(p,2),g=v[0],y=v[1],m=function(w){return y*Math.log(w)/d+g},b=Ps(f,h,m);return b.a=y,b.b=g,b.predict=m,b.rSquared=Vo(i,r,e,s,m),b}return a.domain=function(i){return arguments.length?(n=i,a):n},a.x=function(i){return arguments.length?(r=i,a):r},a.y=function(i){return arguments.length?(e=i,a):e},a.base=function(i){return arguments.length?(t=i,a):t},a}function fM(){var r=function(i){return i[0]},e=function(i){return i[1]},t;function n(a){var i=Vy(a,r,e),o=Ia(i,4),l=o[0],s=o[1],u=o[2],c=o[3],f=l.length,h=0,d=0,p=0,v=0,g=0,y,m,b,x;for(y=0;y<f;)m=l[y],b=s[y++],x=m*m,h+=(x-h)/y,d+=(x*m-d)/y,p+=(x*x-p)/y,v+=(m*b-v)/y,g+=(x*b-g)/y;var w=0,S=0,C=t?+t[0]:1/0,T=t?+t[1]:-1/0;Ii(a,r,e,function(R,D){S++,w+=(D-w)/S,t||(R<C&&(C=R),R>T&&(T=R))});var F=p-h*h,I=h*F-d*d,M=(g*h-v*d)/I,O=(v*F-g*d)/I,k=-M*h,L=function(D){return D=D-u,M*D*D+O*D+k+c},N=Ps(C,T,L);return N.a=M,N.b=O-2*M*u,N.c=k-O*u+M*u*u+c,N.predict=L,N.rSquared=Vo(a,r,e,w,L),N}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(r=a,n):r},n.y=function(a){return arguments.length?(e=a,n):e},n}function Iet(){var r=function(o){return o[0]},e=function(o){return o[1]},t=3,n;function a(i){if(t===1){var o=cM().x(r).y(e).domain(n)(i);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(t===2){var l=fM().x(r).y(e).domain(n)(i);return l.coefficients=[l.c,l.b,l.a],delete l.a,delete l.b,delete l.c,l}var s=Vy(i,r,e),u=Ia(s,4),c=u[0],f=u[1],h=u[2],d=u[3],p=c.length,v=[],g=[],y=t+1,m=0,b=0,x=n?+n[0]:1/0,w=n?+n[1]:-1/0;Ii(i,r,e,function(L,N){++b,m+=(N-m)/b,n||(L<x&&(x=L),L>w&&(w=L))});var S,C,T,F,I;for(S=0;S<y;++S){for(T=0,F=0;T<p;++T)F+=Math.pow(c[T],S)*f[T];for(v.push(F),I=new Float64Array(y),C=0;C<y;++C){for(T=0,F=0;T<p;++T)F+=Math.pow(c[T],S+C);I[C]=F}g.push(I)}g.push(v);var M=Oet(g),O=function(N){N-=h;var R=d+M[0]+M[1]*N+M[2]*N*N;for(S=3;S<y;++S)R+=M[S]*Math.pow(N,S);return R},k=Ps(x,w,O);return k.coefficients=Met(y,M,-h,d),k.predict=O,k.rSquared=Vo(i,r,e,m,O),k}return a.domain=function(i){return arguments.length?(n=i,a):n},a.x=function(i){return arguments.length?(r=i,a):r},a.y=function(i){return arguments.length?(e=i,a):e},a.order=function(i){return arguments.length?(t=i,a):t},a}function Met(r,e,t,n){var a=Array(r),i,o,l,s;for(i=0;i<r;++i)a[i]=0;for(i=r-1;i>=0;--i)for(l=e[i],s=1,a[i]+=l,o=1;o<=i;++o)s*=(i+1-o)/o,a[i-o]+=l*Math.pow(t,o)*s;return a[0]+=n,a}function Oet(r){var e=r.length-1,t=[],n,a,i,o,l;for(n=0;n<e;++n){for(o=n,a=n+1;a<e;++a)Math.abs(r[n][a])>Math.abs(r[n][o])&&(o=a);for(i=n;i<e+1;++i)l=r[i][n],r[i][n]=r[i][o],r[i][o]=l;for(a=n+1;a<e;++a)for(i=e;i>=n;i--)r[i][a]-=r[i][n]*r[n][a]/r[n][n]}for(a=e-1;a>=0;--a){for(l=0,i=a+1;i<e;++i)l+=r[i][a]*t[i];t[a]=(r[e][a]-l)/r[a][a]}return t}function Fet(){var r=function(i){return i[0]},e=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,c=0,f=t?+t[0]:1/0,h=t?+t[1]:-1/0;Ii(a,r,e,function(b,x){var w=Math.log(b),S=Math.log(x);++i,o+=(w-o)/i,l+=(S-l)/i,s+=(w*S-s)/i,u+=(w*w-u)/i,c+=(x-c)/i,t||(b<f&&(f=b),b>h&&(h=b))});var d=Rs(o,l,s,u),p=Ia(d,2),v=p[0],g=p[1];v=Math.exp(v);var y=function(x){return v*Math.pow(x,g)},m=Ps(f,h,y);return m.a=v,m.b=g,m.predict=y,m.rSquared=Vo(a,r,e,c,y),m}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(r=a,n):r},n.y=function(a){return arguments.length?(e=a,n):e},n}var ket={exp:xet,linear:cM,loess:wet,log:Tet,poly:Iet,pow:Fet,quad:fM};function Pet(r,e){var t=10,n={regionStyle:[{position:{start:[r,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[r,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[r,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[r,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var Ret=function(r,e){var t=e.view,n=e.options,a=n.xField,i=n.yField,o=t.getScaleByField(a),l=t.getScaleByField(i),s=r.map(function(u){return t.getCoordinate().convert({x:o.scale(u[0]),y:l.scale(u[1])})});return UQ(s,!1)},Let=function(r){var e=r.options,t=e.xField,n=e.yField,a=e.data,i=e.regressionLine,o=i.type,l=o===void 0?"linear":o,s=i.algorithm,u=i.equation,c,f=null;if(s)c=J(s)?s:s(a),f=u;else{var h=ket[l]().x(function(d){return d[t]}).y(function(d){return d[n]});c=h(a),f=_et(l,c)}return[Ret(c,r),f]},Det=function(r){var e,t=r.meta,n=t===void 0?{}:t,a=r.xField,i=r.yField,o=r.data,l=o[0][a],s=o[0][i],u=l>0,c=s>0;function f(h,d){var p=H(n,[h]);function v(y){return H(p,y)}var g={};return d==="x"?(xt(l)&&(xt(v("min"))||(g.min=u?0:l*2),xt(v("max"))||(g.max=u?l*2:0)),g):(xt(s)&&(xt(v("min"))||(g.min=c?0:s*2),xt(v("max"))||(g.max=c?s*2:0)),g)}return E(E({},n),(e={},e[a]=E(E({},n[a]),f(a,"x")),e[i]=E(E({},n[i]),f(i,"y")),e))};function _et(r,e){var t,n,a,i=function(u,c){return c===void 0&&(c=4),Math.round(u*Math.pow(10,c))/Math.pow(10,c)},o=function(u){return Number.isFinite(u)?i(u):"?"};switch(r){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var l="y = ".concat(o((t=e.coefficients)===null||t===void 0?void 0:t[0])," + ").concat(o((n=e.coefficients)===null||n===void 0?void 0:n[1]),"x + ").concat(o((a=e.coefficients)===null||a===void 0?void 0:a[2]),"x^2"),s=3;s<e.coefficients.length;++s)l+=" + ".concat(o(e.coefficients[s]),"x^").concat(s);return"".concat(l,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}function hM(r){var e=r.data,t=e===void 0?[]:e,n=r.xField,a=r.yField;if(t.length){for(var i=!0,o=!0,l=t[0],s=void 0,u=1;u<t.length&&(s=t[u],l[n]!==s[n]&&(i=!1),l[a]!==s[a]&&(o=!1),!(!i&&!o));u++)l=s;var c=[];i&&c.push(n),o&&c.push(a);var f=$t(Det(r),c);return Z({},r,{meta:f})}return r}function Bet(r){var e=r.chart,t=r.options,n=t.data,a=t.type,i=t.color,o=t.shape,l=t.pointStyle,s=t.shapeField,u=t.colorField,c=t.xField,f=t.yField,h=t.sizeField,d=t.size,p=t.tooltip;h&&(d||(d=[2,8]),xt(d)&&(d=[d,d])),p&&!p.fields&&(p=E(E({},p),{fields:[c,f,u,h,s]})),e.data(n),Cr(Z({},r,{options:{seriesField:u,point:{color:i,shape:o,size:d,style:l},tooltip:p}}));var v=Ne(e,"point");return a&&v.adjust(a),r}function Gu(r){var e,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=hM(t);return mt(se((e={},e[i]=n,e[o]=a,e)))(Z({},r,{options:l}))}function Net(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return e.axis(i,n),e.axis(o,a),r}function $et(r){var e=r.chart,t=r.options,n=t.legend,a=t.colorField,i=t.shapeField,o=t.sizeField,l=t.shapeLegend,s=t.sizeLegend,u=n!==!1;return a&&e.legend(a,u?n:!1),i&&(l?e.legend(i,l):e.legend(i,l===!1?!1:n)),o&&e.legend(o,s||!1),!u&&!l&&!s&&e.legend(!1),r}function jet(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=Ne(e,"point");if(!n)i.label(!1);else{var o=n.callback,l=Ht(n,["callback"]);i.label({fields:[a],callback:o,cfg:Me(l)})}return r}function Vet(r){var e=r.options,t=e.quadrant,n=[];if(t){var a=t.xBaseline,i=a===void 0?0:a,o=t.yBaseline,l=o===void 0?0:o,s=t.labels,u=t.regionStyle,c=t.lineStyle,f=Pet(i,l),h=new Array(4).join(",").split(",");h.forEach(function(d,p){n.push(E(E({type:"region",top:!1},f.regionStyle[p].position),{style:Z({},f.regionStyle[p].style,u==null?void 0:u[p])}),E({type:"text",top:!0},Z({},f.labelStyle[p],s==null?void 0:s[p])))}),n.push({type:"line",top:!1,start:["min",l],end:["max",l],style:Z({},f.lineStyle,c)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:Z({},f.lineStyle,c)})}return mt(re(n))(r)}function Het(r){var e=r.options,t=r.chart,n=e.regressionLine;if(n){var a=n.style,i=n.equationStyle,o=i===void 0?{}:i,l=n.top,s=l===void 0?!1:l,u=n.showEquation,c=u===void 0?!1:u,f={stroke:"#9ba29a",lineWidth:2,opacity:.5},h={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};t.annotation().shape({top:s,render:function(d,p){var v=d.addGroup({id:"".concat(t.id,"-regression-line"),name:"regression-line-group"}),g=Let({view:p,options:e}),y=g[0],m=g[1];v.addShape("path",{name:"regression-line",attrs:E(E({path:y},f),a)}),c&&v.addShape("text",{name:"regression-equation",attrs:E(E(E({},h),o),{text:m})})}})}return r}function zet(r){var e=r.chart,t=r.options,n=t.tooltip;return n?e.tooltip(n):n===!1&&e.tooltip(!1),r}function dM(r){return mt(Bet,Gu,Net,$et,zet,jet,OI,Fs,Py,Jt,Vet,Wt,Ft,Het)(r)}var Wet=Z({},wt.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});bt("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var Get=function(r){U(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.type="scatter",a.on(St.BEFORE_RENDER,function(i){var o,l,s=a,u=s.options,c=s.chart;if(((o=i.data)===null||o===void 0?void 0:o.source)===Qe.FILTER){var f=a.chart.filterData(a.chart.getData());Gu({chart:c,options:E(E({},u),{data:f})})}((l=i.data)===null||l===void 0?void 0:l.source)===Qe.RESET&&Gu({chart:c,options:u})}),a}return e.getDefaultOptions=function(){return Wet},e.prototype.changeData=function(t){this.updateOption(hM(Z({},this.options,{data:t})));var n=this,a=n.options,i=n.chart;Gu({chart:i,options:a}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return dM},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(wt),ls="$$stock-range$$",th="trend",pM="up",vM="down",qet={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(r,e,t){var n;if(r==="x"){var a=t[0];n=a?a.title:e}else n=e;return{position:r==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},Yet=Z({},wt.getDefaultOptions(),{tooltip:qet,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function gM(r,e){return Qt(r,function(t){var n=t&&E({},t);if(J(e)&&n){var a=e[0],i=e[1],o=e[2],l=e[3];n[th]=n[a]<=n[i]?pM:vM,n[ls]=[n[a],n[i],n[o],n[l]]}return n})}function Uet(r){var e=r.chart,t=r.options,n=t.yField,a=t.data,i=t.risingFill,o=t.fallingFill,l=t.tooltip,s=t.stockStyle;e.data(gM(a,n));var u=l;return u!==!1&&(u=Z({},{fields:n},u)),Ry(Z({},r,{options:{schema:{shape:"candle",color:[i,o],style:s},yField:ls,seriesField:th,rawFields:n,tooltip:u}})),r}function Xet(r){var e,t,n=r.chart,a=r.options,i=a.meta,o=a.xAxis,l=a.yAxis,s=a.xField,u=(e={},e[s]={type:"timeCat",tickCount:6},e[th]={values:[pM,vM]},e),c=Z(u,i,(t={},t[s]=$t(o,rr),t[ls]=$t(l,rr),t));return n.scale(c),r}function Ket(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?e.axis(ls,!1):e.axis(ls,a),r}function Zet(r){var e=r.chart,t=r.options,n=t.tooltip;return n!==!1?e.tooltip(n):e.tooltip(!1),r}function Qet(r){var e=r.chart,t=r.options,n=t.legend;return n?e.legend(th,n):n===!1&&e.legend(!1),r}function yM(r){mt(Ft,Uet,Xet,Ket,Zet,Qet,Jt,Wt,re(),Fs)(r)}var Jet=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="stock",t}return e.getDefaultOptions=function(){return Yet},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yM},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField;this.chart.changeData(gM(t,n))},e}(wt);function Mi(r){return Qt(r||[],function(e,t){return{x:"".concat(t),y:e}})}var ss="x",no="y",mM={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,e){return"".concat(H(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},trt={appendPadding:2,tooltip:E({},mM),animation:{}};function ert(r){var e=r.chart,t=r.options,n=t.data,a=t.color,i=t.areaStyle,o=t.point,l=t.line,s=o==null?void 0:o.state,u=Mi(n);e.data(u);var c=Z({},r,{options:{xField:ss,yField:no,area:{color:a,style:i},line:l,point:o}}),f=Z({},c,{options:{tooltip:!1}}),h=Z({},c,{options:{tooltip:!1,state:s}});return Yf(c),jo(f),Cr(h),e.axis(!1),e.legend(!1),r}function Ho(r){var e,t,n=r.options,a=n.xAxis,i=n.yAxis,o=n.data,l=Mi(o);return mt(se((e={},e[ss]=a,e[no]=i,e),(t={},t[ss]={type:"cat"},t[no]=Iy(l,no),t)))(r)}function xM(r){return mt(Sr("areaStyle"),ert,Ho,Ce,Ft,Wt,re())(r)}var rrt={appendPadding:2,tooltip:E({},mM),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},nrt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-area",t}return e.getDefaultOptions=function(){return rrt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;Ho({chart:a,options:i}),a.changeData(Mi(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xM},e}(wt);function art(r){var e=r.chart,t=r.options,n=t.data,a=t.color,i=t.columnStyle,o=t.columnWidthRatio,l=Mi(n);e.data(l);var s=Z({},r,{options:{xField:ss,yField:no,widthRatio:o,interval:{style:i,color:a}}});return $e(s),e.axis(!1),e.legend(!1),e.interaction("element-active"),r}function bM(r){return mt(Ft,Sr("columnStyle"),art,Ho,Ce,Wt,re())(r)}var irt={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,e){return"".concat(H(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},ort={appendPadding:2,tooltip:E({},irt),animation:{}},wM=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-column",t}return e.getDefaultOptions=function(){return ort},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;Ho({chart:a,options:i}),a.changeData(Mi(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return bM},e}(wt);function lrt(r){var e=r.chart,t=r.options,n=t.data,a=t.color,i=t.lineStyle,o=t.point,l=o==null?void 0:o.state,s=Mi(n);e.data(s);var u=Z({},r,{options:{xField:ss,yField:no,line:{color:a,style:i},point:o}}),c=Z({},u,{options:{tooltip:!1,state:l}});return jo(u),Cr(c),e.axis(!1),e.legend(!1),r}function SM(r){return mt(lrt,Ho,Ft,Ce,Wt,re())(r)}var CM=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-line",t}return e.getDefaultOptions=function(){return trt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;Ho({chart:a,options:i}),a.changeData(Mi(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return SM},e}(wt),srt={line:II,pie:eM,column:Jf,bar:kI,area:MI,gauge:YI,"tiny-line":SM,"tiny-column":bM,"tiny-area":xM,"ring-progress":sM,progress:iM,scatter:dM,histogram:XI,funnel:jI,stock:yM},urt={line:KI,pie:rM,column:RI,bar:PI,area:VJ,gauge:Htt,"tiny-line":CM,"tiny-column":wM,"tiny-area":nrt,"ring-progress":uM,progress:oM,scatter:Get,histogram:Xtt,funnel:Ltt,stock:Jet},crt={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Dv(r,e,t){var n=urt[r];if(!n){console.error("could not find ".concat(r," plot"));return}var a=srt[r];a({chart:e,options:Z({},n.getDefaultOptions(),H(crt,r,{}),t)})}function frt(r){var e=r.chart,t=r.options,n=t.views,a=t.legend;return j(n,function(i){var o=i.region,l=i.data,s=i.meta,u=i.axes,c=i.coordinate,f=i.interactions,h=i.annotations,d=i.tooltip,p=i.geometries,v=e.createView({region:o});v.data(l);var g={};u&&j(u,function(y,m){g[m]=$t(y,rr)}),g=Z({},s,g),v.scale(g),u?j(u,function(y,m){v.axis(m,y)}):v.axis(!1),v.coordinate(c),j(p,function(y){var m=sr({chart:v,options:y}).ext,b=y.adjust;b&&m.geometry.adjust(b)}),j(f,function(y){y.enable===!1?v.removeInteraction(y.type):v.interaction(y.type,y.cfg)}),j(h,function(y){v.annotation()[y.type](E({},y))}),typeof i.animation=="boolean"?v.animate(!1):(v.animate(!0),j(v.geometries,function(y){y.animate(i.animation)})),d&&(v.interaction("tooltip"),v.tooltip(d))}),a?j(a,function(i,o){e.legend(o,i)}):e.legend(!1),e.tooltip(t.tooltip),r}function hrt(r){var e=r.chart,t=r.options,n=t.plots,a=t.data,i=a===void 0?[]:a;return j(n,function(o){var l=o.type,s=o.region,u=o.options,c=u===void 0?{}:u,f=o.top,h=c.tooltip;if(f){Dv(l,e,E(E({},c),{data:i}));return}var d=e.createView(E({region:s},$t(c,CI)));h&&d.interaction("tooltip"),Dv(l,d,E({data:i},c))}),r}function drt(r){var e=r.chart,t=r.options;return e.option("slider",t.slider),r}function prt(r){return mt(Wt,frt,hrt,Jt,Wt,Ft,Ce,drt,re())(r)}function vrt(r,e){var t=r.getModel(),n=t.data,a;return J(n)?a=n[0][e]:a=n[e],a}function grt(r){var e=Oc(r);j(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var yrt=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getAssociationItems=function(t,n){var a,i=this.context.event,o=n||{},l=o.linkField,s=o.dim,u=[];if(!((a=i.data)===null||a===void 0)&&a.data){var c=i.data.data;j(t,function(f){var h,d,p=l;if(s==="x"?p=f.getXScale().field:s==="y"?p=(h=f.getYScales().find(function(g){return g.field===p}))===null||h===void 0?void 0:h.field:p||(p=(d=f.getGroupScales()[0])===null||d===void 0?void 0:d.field),!!p){var v=Qt(Oc(f),function(g){var y=!1,m=!1,b=J(c)?H(c[0],p):H(c,p);return vrt(g,p)===b?y=!0:m=!0,{element:g,view:f,active:y,inactive:m}});u.push.apply(u,v)}})}return u},e.prototype.showTooltip=function(t){var n=c1(this.context.view),a=this.getAssociationItems(n,t);j(a,function(i){if(i.active){var o=i.element.shape.getCanvasBBox();i.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},e.prototype.hideTooltip=function(){var t=c1(this.context.view);j(t,function(n){n.hideTooltip()})},e.prototype.active=function(t){var n=dl(this.context.view),a=this.getAssociationItems(n,t);j(a,function(i){var o=i.active,l=i.element;o&&l.setState("active",!0)})},e.prototype.selected=function(t){var n=dl(this.context.view),a=this.getAssociationItems(n,t);j(a,function(i){var o=i.active,l=i.element;o&&l.setState("selected",!0)})},e.prototype.highlight=function(t){var n=dl(this.context.view),a=this.getAssociationItems(n,t);j(a,function(i){var o=i.inactive,l=i.element;o&&l.setState("inactive",!0)})},e.prototype.reset=function(){var t=dl(this.context.view);j(t,function(n){grt(n)})},e}(Xt);ht("association",yrt);bt("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});bt("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});bt("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});bt("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="mix",t}return e.prototype.getSchemaAdaptor=function(){return prt},e})(wt);var y1;(function(r){r.DEV="DEV",r.BETA="BETA",r.STABLE="STABLE"})(y1||(y1={}));var bn="first-axes-view",wn="second-axes-view",Ja="series-field-key";function AM(r,e,t,n,a){var i=[];e.forEach(function(f){n.forEach(function(h){var d,p=(d={},d[r]=h[r],d[t]=f,d[f]=h[f],d);i.push(p)})});var o=Object.values(dr(i,t)),l=o[0],s=l===void 0?[]:l,u=o[1],c=u===void 0?[]:u;return a?[s.reverse(),c.reverse()]:[s,c]}function Dn(r){return r!=="vertical"}function mrt(r,e,t){var n=e[0],a=e[1],i=n.autoPadding,o=a.autoPadding,l=r.__axisPosition,s=l.layout,u=l.position;if(Dn(s)&&u==="top"&&(n.autoPadding=t.instance(i.top,0,i.bottom,i.left),a.autoPadding=t.instance(o.top,i.left,o.bottom,0)),Dn(s)&&u==="bottom"&&(n.autoPadding=t.instance(i.top,i.right/2+5,i.bottom,i.left),a.autoPadding=t.instance(o.top,o.right,o.bottom,i.right/2+5)),!Dn(s)&&u==="bottom"){var c=i.left>=o.left?i.left:o.left;n.autoPadding=t.instance(i.top,i.right,i.bottom/2+5,c),a.autoPadding=t.instance(i.bottom/2+5,o.right,o.bottom,c)}if(!Dn(s)&&u==="top"){var c=i.left>=o.left?i.left:o.left;n.autoPadding=t.instance(i.top,i.right,0,c),a.autoPadding=t.instance(0,o.right,i.top,c)}}function xrt(r){var e=r.chart,t=r.options,n=t.data,a=t.xField,i=t.yField,o=t.color,l=t.barStyle,s=t.widthRatio,u=t.legend,c=t.layout,f=AM(a,i,Ja,n,Dn(c));u?e.legend(Ja,u):u===!1&&e.legend(!1);var h,d,p=f[0],v=f[1];Dn(c)?(h=e.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:bn}),h.coordinate().transpose().reflect("x"),d=e.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:wn}),d.coordinate().transpose(),h.data(p),d.data(v)):(h=e.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:bn}),d=e.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:wn}),d.coordinate().reflect("y"),h.data(p),d.data(v));var g=Z({},r,{chart:h,options:{widthRatio:s,xField:a,yField:i[0],seriesField:Ja,interval:{color:o,style:l}}});$e(g);var y=Z({},r,{chart:d,options:{xField:a,yField:i[1],seriesField:Ja,widthRatio:s,interval:{color:o,style:l}}});return $e(y),r}function brt(r){var e,t,n,a=r.options,i=r.chart,o=a.xAxis,l=a.yAxis,s=a.xField,u=a.yField,c=Ct(i,bn),f=Ct(i,wn),h={};return Po((a==null?void 0:a.meta)||{}).map(function(d){H(a==null?void 0:a.meta,[d,"alias"])&&(h[d]=a.meta[d].alias)}),i.scale((e={},e[Ja]={sync:!0,formatter:function(d){return H(h,d,d)}},e)),se((t={},t[s]=o,t[u[0]]=l[u[0]],t))(Z({},r,{chart:c})),se((n={},n[s]=o,n[u[1]]=l[u[1]],n))(Z({},r,{chart:f})),r}function wrt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=t.layout,s=Ct(e,bn),u=Ct(e,wn);return(n==null?void 0:n.position)==="bottom"?u.axis(i,E(E({},n),{label:{formatter:function(){return""}}})):u.axis(i,!1),n===!1?s.axis(i,!1):s.axis(i,E({position:Dn(l)?"top":"bottom"},n)),a===!1?(s.axis(o[0],!1),u.axis(o[1],!1)):(s.axis(o[0],a[o[0]]),u.axis(o[1],a[o[1]])),e.__axisPosition={position:s.getOptions().axes[i].position,layout:l},r}function Srt(r){var e=r.chart;return Jt(Z({},r,{chart:Ct(e,bn)})),Jt(Z({},r,{chart:Ct(e,wn)})),r}function Crt(r){var e=r.chart,t=r.options,n=t.yField,a=t.yAxis;return bi(Z({},r,{chart:Ct(e,bn),options:{yAxis:a[n[0]]}})),bi(Z({},r,{chart:Ct(e,wn),options:{yAxis:a[n[1]]}})),r}function Art(r){var e=r.chart;return Ft(Z({},r,{chart:Ct(e,bn)})),Ft(Z({},r,{chart:Ct(e,wn)})),Ft(r),r}function Ert(r){var e=r.chart;return Wt(Z({},r,{chart:Ct(e,bn)})),Wt(Z({},r,{chart:Ct(e,wn)})),r}function Trt(r){var e=this,t,n,a=r.chart,i=r.options,o=i.label,l=i.yField,s=i.layout,u=Ct(a,bn),c=Ct(a,wn),f=Ne(u,"interval"),h=Ne(c,"interval");if(!o)f.label(!1),h.label(!1);else{var d=o.callback,p=Ht(o,["callback"]);p.position||(p.position="middle"),p.offset===void 0&&(p.offset=2);var v=E({},p);if(Dn(s)){var g=((t=v.style)===null||t===void 0?void 0:t.textAlign)||(p.position==="middle"?"center":"left");p.style=Z({},p.style,{textAlign:g});var y={left:"right",right:"left",center:"center"};v.style=Z({},v.style,{textAlign:y[g]})}else{var m={top:"bottom",bottom:"top",middle:"middle"};typeof p.position=="string"?p.position=m[p.position]:typeof p.position=="function"&&(p.position=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];return m[p.position.apply(e,w)]});var b=((n=v.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";v.style=Z({},v.style,{textBaseline:b});var x={top:"bottom",bottom:"top",middle:"middle"};p.style=Z({},p.style,{textBaseline:x[b]})}f.label({fields:[l[0]],callback:d,cfg:Me(v)}),h.label({fields:[l[1]],callback:d,cfg:Me(p)})}return r}function Irt(r){return mt(xrt,brt,wrt,Crt,Art,Trt,Ce,Srt,Ert)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return e.getDefaultOptions=function(){return Z({},r.getDefaultOptions.call(this),{syncViewPadding:mrt})},e.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(St.BEFORE_CHANGE_DATA,te.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,a=n.xField,i=n.yField,o=n.layout,l=AM(a,i,Ja,t,Dn(o)),s=l[0],u=l[1],c=Ct(this.chart,bn),f=Ct(this.chart,wn);c.data(s),f.data(u),this.chart.render(!0),this.chart.emit(St.AFTER_CHANGE_DATA,te.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Irt},e.SERIES_FIELD_KEY=Ja,e})(wt);var Md,bo="$$range$$",Mrt="low-q1-median-q3-high",Ort="$$y_outliers$$",EM="outliers_view",Frt=Z({},wt.getDefaultOptions(),{meta:(Md={},Md[bo]={min:0,alias:Mrt},Md),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),TM=function(r,e){var t=r;if(Array.isArray(e)){var n=e[0],a=e[1],i=e[2],o=e[3],l=e[4];t=Qt(r,function(s){return s[bo]=[s[n],s[a],s[i],s[o],s[l]],s})}return t};function krt(r){var e=r.chart,t=r.options,n=t.xField,a=t.yField,i=t.groupField,o=t.color,l=t.tooltip,s=t.boxStyle;e.data(TM(t.data,a));var u=J(a)?bo:a,c=a?J(a)?a:[a]:[],f=l;f!==!1&&(f=Z({},{fields:J(a)?a:[]},f));var h=Ry(Z({},r,{options:{xField:n,yField:u,seriesField:i,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:o,style:s}}})).ext;return i&&h.geometry.adjust("dodge"),r}function Prt(r){var e=r.chart,t=r.options,n=t.xField,a=t.data,i=t.outliersField,o=t.outliersStyle,l=t.padding,s=t.label;if(!i)return r;var u=e.createView({padding:l,id:EM}),c=a.reduce(function(f,h){var d=h[i];return d.forEach(function(p){var v;return f.push(E(E({},h),(v={},v[i]=p,v)))}),f},[]);return u.data(c),Cr({chart:u,options:{xField:n,yField:i,point:{shape:"circle",style:o},label:s}}),u.axis(!1),r}function Rrt(r){var e,t,n=r.chart,a=r.options,i=a.meta,o=a.xAxis,l=a.yAxis,s=a.xField,u=a.yField,c=a.outliersField,f=Array.isArray(u)?bo:u,h={};if(c){var d=Ort;h=(e={},e[c]={sync:d,nice:!0},e[f]={sync:d,nice:!0},e)}var p=Z(h,i,(t={},t[s]=$t(o,rr),t[f]=$t(l,rr),t));return n.scale(p),r}function Lrt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=Array.isArray(o)?bo:o;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?e.axis(bo,!1):e.axis(l,a),r}function Drt(r){var e=r.chart,t=r.options,n=t.legend,a=t.groupField;return a?n?e.legend(a,n):e.legend(a,{position:"bottom"}):e.legend(!1),r}function _rt(r){return mt(krt,Prt,Rrt,Lrt,Drt,Ce,re(),Jt,Wt,Ft)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="box",t}return e.getDefaultOptions=function(){return Frt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,a=this.chart.views.find(function(i){return i.id===EM});a&&a.data(t),this.chart.changeData(TM(t,n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _rt},e})(wt);function m1(r,e,t){return r.length>1?"".concat(e,"_").concat(t):"".concat(e)}function IM(r){var e=r.data,t=r.xField,n=r.measureField,a=r.rangeField,i=r.targetField,o=r.layout,l=[],s=[];e.forEach(function(f,h){var d=[f[a]].flat();d.sort(function(g,y){return g-y}),d.forEach(function(g,y){var m,b=y===0?g:d[y]-d[y-1];l.push((m={rKey:"".concat(a,"_").concat(y)},m[t]=t?f[t]:String(h),m[a]=b,m))});var p=[f[n]].flat();p.forEach(function(g,y){var m;l.push((m={mKey:m1(p,n,y)},m[t]=t?f[t]:String(h),m[n]=g,m))});var v=[f[i]].flat();v.forEach(function(g,y){var m;l.push((m={tKey:m1(v,i,y)},m[t]=t?f[t]:String(h),m[i]=g,m))}),s.push(f[a],f[n],f[i])});var u=Math.min.apply(Math,s.flat(1/0)),c=Math.max.apply(Math,s.flat(1/0));return u=u>0?0:u,o==="vertical"&&l.reverse(),{min:u,max:c,ds:l}}function Brt(r){var e=r.chart,t=r.options,n=t.bulletStyle,a=t.targetField,i=t.rangeField,o=t.measureField,l=t.xField,s=t.color,u=t.layout,c=t.size,f=t.label,h=IM(t),d=h.min,p=h.max,v=h.ds;e.data(v);var g=Z({},r,{options:{xField:l,yField:i,seriesField:"rKey",isStack:!0,label:H(f,"range"),interval:{color:H(s,"range"),style:H(n,"range"),size:H(c,"range")}}});$e(g),e.geometries[0].tooltip(!1);var y=Z({},r,{options:{xField:l,yField:o,seriesField:"mKey",isStack:!0,label:H(f,"measure"),interval:{color:H(s,"measure"),style:H(n,"measure"),size:H(c,"measure")}}});$e(y);var m=Z({},r,{options:{xField:l,yField:a,seriesField:"tKey",label:H(f,"target"),point:{color:H(s,"target"),style:H(n,"target"),size:ut(H(c,"target"))?function(b){return H(c,"target")(b)/2}:H(c,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return Cr(m),u==="horizontal"&&e.coordinate().transpose(),E(E({},r),{ext:{data:{min:d,max:p}}})}function MM(r){var e,t,n=r.options,a=r.ext,i=n.xAxis,o=n.yAxis,l=n.targetField,s=n.rangeField,u=n.measureField,c=n.xField,f=a.data;return mt(se((e={},e[c]=i,e[u]=o,e),(t={},t[u]={min:f==null?void 0:f.min,max:f==null?void 0:f.max,sync:!0},t[l]={sync:"".concat(u)},t[s]={sync:"".concat(u)},t)))(r)}function Nrt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.measureField,l=t.rangeField,s=t.targetField;return e.axis("".concat(l),!1),e.axis("".concat(s),!1),n===!1?e.axis("".concat(i),!1):e.axis("".concat(i),n),a===!1?e.axis("".concat(o),!1):e.axis("".concat(o),a),r}function $rt(r){var e=r.chart,t=r.options,n=t.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),r}function jrt(r){var e=r.chart,t=r.options,n=t.label,a=t.measureField,i=t.targetField,o=t.rangeField,l=e.geometries,s=l[0],u=l[1],c=l[2];return H(n,"range")?s.label("".concat(o),E({layout:[{type:"limit-in-plot"}]},Me(n.range))):s.label(!1),H(n,"measure")?u.label("".concat(a),E({layout:[{type:"limit-in-plot"}]},Me(n.measure))):u.label(!1),H(n,"target")?c.label("".concat(i),E({layout:[{type:"limit-in-plot"}]},Me(n.target))):c.label(!1),r}function Vrt(r){mt(Brt,MM,Nrt,$rt,Ft,jrt,Ce,Jt,Wt)(r)}var Hrt=Z({},wt.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bullet",t}return e.getDefaultOptions=function(){return Hrt},e.prototype.changeData=function(t){this.updateOption({data:t});var n=IM(this.options),a=n.min,i=n.max,o=n.ds;MM({options:this.options,ext:{data:{min:a,max:i}},chart:this.chart}),this.chart.changeData(o)},e.prototype.getSchemaAdaptor=function(){return Vrt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e})(wt);var zrt={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(r){return r.id},source:function(r){return r.source},target:function(r){return r.target},sourceWeight:function(r){return r.value||1},targetWeight:function(r){return r.value||1},sortBy:null};function Wrt(r,e,t){j(r,function(n,a){n.inEdges=e.filter(function(i){return"".concat(t.target(i))==="".concat(a)}),n.outEdges=e.filter(function(i){return"".concat(t.source(i))==="".concat(a)}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(i){n.value+=t.targetWeight(i)}),n.outEdges.forEach(function(i){n.value+=t.sourceWeight(i)})})}function Grt(r,e){var t={weight:function(a,i){return i.value-a.value},frequency:function(a,i){return i.frequency-a.frequency},id:function(a,i){return"".concat(e.id(a)).localeCompare("".concat(e.id(i)))}},n=t[e.sortBy];!n&&ut(e.sortBy)&&(n=e.sortBy),n&&r.sort(n)}function qrt(r,e){var t=r.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var n=e.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var a=n/(2*t),i=e.nodeWidthRatio;if(i<=0||i>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;r.forEach(function(s){o+=s.value}),r.forEach(function(s){s.weight=s.value/o,s.width=s.weight*(1-n),s.height=i}),r.forEach(function(s,u){for(var c=0,f=u-1;f>=0;f--)c+=r[f].width+2*a;var h=s.minX=a+c,d=s.maxX=s.minX+s.width,p=s.minY=e.y-i/2,v=s.maxY=p+i;s.x=[h,d,d,h],s.y=[p,p,v,v]})}else{var l=1/t;r.forEach(function(s,u){s.x=(u+.5)*l,s.y=e.y})}return r}function Yrt(r,e,t){if(t.weight){var n={};j(r,function(a,i){n[i]=a.value}),e.forEach(function(a){var i=t.source(a),o=t.target(a),l=r[i],s=r[o];if(l&&s){var u=n[i],c=t.sourceWeight(a),f=l.minX+(l.value-u)/l.value*l.width,h=f+c/l.value*l.width;n[i]-=c;var d=n[o],p=t.targetWeight(a),v=s.minX+(s.value-d)/s.value*s.width,g=v+p/s.value*s.width;n[o]-=p;var y=t.y;a.x=[f,h,v,g],a.y=[y,y,y,y],a.source=l,a.target=s}})}else e.forEach(function(a){var i=r[t.source(a)],o=r[t.target(a)];i&&o&&(a.x=[i.x,o.x],a.y=[i.y,o.y],a.source=i,a.target=o)});return e}function Urt(r){return zt({},zrt,r)}function Xrt(r,e){var t=Urt(r),n={},a=e.nodes,i=e.links;a.forEach(function(s){var u=t.id(s);n[u]=s}),Wrt(n,i,t),Grt(a,t);var o=qrt(a,t),l=Yrt(n,i,t);return{nodes:o,links:l}}var OM="x",FM="y",kM="name",PM="source",Krt={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(r,e){var t=(r[0]+r[1])/2,n=t>.5?-4:4;return{offsetX:n,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(r){return!H(r,[0,"data","isNode"])},formatter:function(r){var e=r.source,t=r.target,n=r.value;return{name:"".concat(e," -> ").concat(t),value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Zrt(r){var e=r.options,t=e.data,n=e.sourceField,a=e.targetField,i=e.weightField,o=e.nodePaddingRatio,l=e.nodeWidthRatio,s=e.rawFields,u=s===void 0?[]:s,c=uI(t,n,a,i),f=Xrt({weight:!0,nodePaddingRatio:o,nodeWidthRatio:l},c),h=f.nodes,d=f.links,p=h.map(function(g){return E(E({},$t(g,pt(["id","x","y","name"],u,!0))),{isNode:!0})}),v=d.map(function(g){return E(E({source:g.source.name,target:g.target.name,name:g.source.name||g.target.name},$t(g,pt(["x","y","value"],u,!0))),{isNode:!1})});return E(E({},r),{ext:E(E({},r.ext),{chordData:{nodesData:p,edgesData:v}})})}function Qrt(r){var e,t=r.chart;return t.scale((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},e[kM]={sync:"color"},e[PM]={sync:"color"},e)),r}function Jrt(r){var e=r.chart;return e.axis(!1),r}function tnt(r){var e=r.chart;return e.legend(!1),r}function ent(r){var e=r.chart,t=r.options,n=t.tooltip;return e.tooltip(n),r}function rnt(r){var e=r.chart;return e.coordinate("polar").reflect("y"),r}function nnt(r){var e=r.chart,t=r.options,n=r.ext.chordData.nodesData,a=t.nodeStyle,i=t.label,o=t.tooltip,l=e.createView();return l.data(n),Uf({chart:l,options:{xField:OM,yField:FM,seriesField:kM,polygon:{style:a},label:i,tooltip:o}}),r}function ant(r){var e=r.chart,t=r.options,n=r.ext.chordData.edgesData,a=t.edgeStyle,i=t.tooltip,o=e.createView();o.data(n);var l={xField:OM,yField:FM,seriesField:PM,edge:{style:a,shape:"arc"},tooltip:i};return xI({chart:o,options:l}),r}function int(r){var e=r.chart,t=r.options,n=t.animation;return Os(e,n,HQ(e)),r}function ont(r){return mt(Ft,Zrt,rnt,Qrt,Jrt,tnt,ent,ant,nnt,Jt,Ra,int)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="chord",t}return e.getDefaultOptions=function(){return Krt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ont},e})(wt);var lnt=["x","y","r","name","value","path","depth"],snt={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},x1=4,unt=0,b1=5,w1="drilldown-bread-crumb",cnt={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},us="hierarchy-data-transform-params",fnt=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=cnt,t}return e.prototype.click=function(){var t=H(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,a=n.getBBox(),i=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(a.height+b1*2)};t.isPolar&&(o={x:0,y:0}),i==="bottom-left"&&(o={x:t.start.x,y:t.start.y});var l=or.transform(null,[["t",o.x+unt,o.y+a.height+b1]]);n.setMatrix(l)}},e.prototype.back=function(){Ie(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var n=this.context.view,a=H(n,["interactions","drill-down","cfg","transformData"],function(u){return u}),i=a(E({data:t.data},t[us]));n.changeData(i);for(var o=[],l=t;l;){var s=l.data;o.unshift({id:"".concat(s.name,"_").concat(l.height,"_").concat(l.depth),name:s.name,children:a(E({data:s},t[us]))}),l=l.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},e.prototype.backTo=function(t){if(!(!t||t.length<=0)){var n=this.context.view,a=we(t).children;n.changeData(a),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,n=H(t,["interactions","drill-down","cfg","drillDownConfig"]);return Z(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),a=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:w1});var i=0;a.forEach(function(o,l){var s=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(w1,"_").concat(o.name,"_text"),attrs:E(E({text:l===0&&!Q(n.rootText)?n.rootText:o.name},n.textStyle),{x:i,y:0})}),u=s.getBBox();if(i+=u.width+x1,s.on("click",function(h){var d,p=h.target.get("id");if(p!==((d=we(a))===null||d===void 0?void 0:d.id)){var v=a.slice(0,a.findIndex(function(g){return g.id===p})+1);t.backTo(v)}}),s.on("mouseenter",function(h){var d,p=h.target.get("id");p!==((d=we(a))===null||d===void 0?void 0:d.id)?s.attr(n.activeTextStyle):s.attr({cursor:"default"})}),s.on("mouseleave",function(){s.attr(n.textStyle)}),l<a.length-1){var c=t.breadCrumbGroup.addShape({type:"text",name:"".concat(n.name,"_").concat(o.name,"_divider"),attrs:E(E({text:n.dividerText},n.textStyle),{x:i,y:0})}),f=c.getBBox();i+=f.width+x1}})},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),r.prototype.destroy.call(this)},e}(Xt);function hnt(r,e){return r.parent===e.parent?1:2}function dnt(r){return r.reduce(pnt,0)/r.length}function pnt(r,e){return r+e.x}function vnt(r){return 1+r.reduce(gnt,0)}function gnt(r,e){return Math.max(r,e.y)}function ynt(r){for(var e;e=r.children;)r=e[0];return r}function mnt(r){for(var e;e=r.children;)r=e[e.length-1];return r}function xnt(){var r=hnt,e=1,t=1,n=!1;function a(i){var o,l=0;i.eachAfter(function(h){var d=h.children;d?(h.x=dnt(d),h.y=vnt(d)):(h.x=o?l+=r(h,o):0,h.y=0,o=h)});var s=ynt(i),u=mnt(i),c=s.x-r(s,u)/2,f=u.x+r(u,s)/2;return i.eachAfter(n?function(h){h.x=(h.x-i.x)*e,h.y=(i.y-h.y)*t}:function(h){h.x=(h.x-c)/(f-c)*e,h.y=(1-(i.y?h.y/i.y:1))*t})}return a.separation=function(i){return arguments.length?(r=i,a):r},a.size=function(i){return arguments.length?(n=!1,e=+i[0],t=+i[1],a):n?null:[e,t]},a.nodeSize=function(i){return arguments.length?(n=!0,e=+i[0],t=+i[1],a):n?[e,t]:null},a}function bnt(r){var e=0,t=r.children,n=t&&t.length;if(!n)e=1;else for(;--n>=0;)e+=t[n].value;r.value=e}function wnt(){return this.eachAfter(bnt)}function Snt(r,e){let t=-1;for(const n of this)r.call(e,n,++t,this);return this}function Cnt(r,e){for(var t=this,n=[t],a,i,o=-1;t=n.pop();)if(r.call(e,t,++o,this),a=t.children)for(i=a.length-1;i>=0;--i)n.push(a[i]);return this}function Ant(r,e){for(var t=this,n=[t],a=[],i,o,l,s=-1;t=n.pop();)if(a.push(t),i=t.children)for(o=0,l=i.length;o<l;++o)n.push(i[o]);for(;t=a.pop();)r.call(e,t,++s,this);return this}function Ent(r,e){let t=-1;for(const n of this)if(r.call(e,n,++t,this))return n}function Tnt(r){return this.eachAfter(function(e){for(var t=+r(e.data)||0,n=e.children,a=n&&n.length;--a>=0;)t+=n[a].value;e.value=t})}function Int(r){return this.eachBefore(function(e){e.children&&e.children.sort(r)})}function Mnt(r){for(var e=this,t=Ont(e,r),n=[e];e!==t;)e=e.parent,n.push(e);for(var a=n.length;r!==t;)n.splice(a,0,r),r=r.parent;return n}function Ont(r,e){if(r===e)return r;var t=r.ancestors(),n=e.ancestors(),a=null;for(r=t.pop(),e=n.pop();r===e;)a=r,r=t.pop(),e=n.pop();return a}function Fnt(){for(var r=this,e=[r];r=r.parent;)e.push(r);return e}function knt(){return Array.from(this)}function Pnt(){var r=[];return this.eachBefore(function(e){e.children||r.push(e)}),r}function Rnt(){var r=this,e=[];return r.each(function(t){t!==r&&e.push({source:t.parent,target:t})}),e}function*Lnt(){var r=this,e,t=[r],n,a,i;do for(e=t.reverse(),t=[];r=e.pop();)if(yield r,n=r.children)for(a=0,i=n.length;a<i;++a)t.push(n[a]);while(t.length)}function zo(r,e){r instanceof Map?(r=[void 0,r],e===void 0&&(e=Bnt)):e===void 0&&(e=_nt);for(var t=new wo(r),n,a=[t],i,o,l,s;n=a.pop();)if((o=e(n.data))&&(s=(o=Array.from(o)).length))for(n.children=o,l=s-1;l>=0;--l)a.push(i=o[l]=new wo(o[l])),i.parent=n,i.depth=n.depth+1;return t.eachBefore(RM)}function Dnt(){return zo(this).eachBefore(Nnt)}function _nt(r){return r.children}function Bnt(r){return Array.isArray(r)?r[1]:null}function Nnt(r){r.data.value!==void 0&&(r.value=r.data.value),r.data=r.data.data}function RM(r){var e=0;do r.height=e;while((r=r.parent)&&r.height<++e)}function wo(r){this.data=r,this.depth=this.height=0,this.parent=null}wo.prototype=zo.prototype={constructor:wo,count:wnt,each:Snt,eachAfter:Ant,eachBefore:Cnt,find:Ent,sum:Tnt,sort:Int,path:Mnt,ancestors:Fnt,descendants:knt,leaves:Pnt,links:Rnt,copy:Dnt,[Symbol.iterator]:Lnt};function $nt(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function jnt(r){for(var e=r.length,t,n;e;)n=Math.random()*e--|0,t=r[e],r[e]=r[n],r[n]=t;return r}function LM(r){for(var e=0,t=(r=jnt(Array.from(r))).length,n=[],a,i;e<t;)a=r[e],i&&DM(i,a)?++e:(i=Hnt(n=Vnt(n,a)),e=0);return i}function Vnt(r,e){var t,n;if(Od(e,r))return[e];for(t=0;t<r.length;++t)if(Ou(e,r[t])&&Od(pl(r[t],e),r))return[r[t],e];for(t=0;t<r.length-1;++t)for(n=t+1;n<r.length;++n)if(Ou(pl(r[t],r[n]),e)&&Ou(pl(r[t],e),r[n])&&Ou(pl(r[n],e),r[t])&&Od(_M(r[t],r[n],e),r))return[r[t],r[n],e];throw new Error}function Ou(r,e){var t=r.r-e.r,n=e.x-r.x,a=e.y-r.y;return t<0||t*t<n*n+a*a}function DM(r,e){var t=r.r-e.r+Math.max(r.r,e.r,1)*1e-9,n=e.x-r.x,a=e.y-r.y;return t>0&&t*t>n*n+a*a}function Od(r,e){for(var t=0;t<e.length;++t)if(!DM(r,e[t]))return!1;return!0}function Hnt(r){switch(r.length){case 1:return znt(r[0]);case 2:return pl(r[0],r[1]);case 3:return _M(r[0],r[1],r[2])}}function znt(r){return{x:r.x,y:r.y,r:r.r}}function pl(r,e){var t=r.x,n=r.y,a=r.r,i=e.x,o=e.y,l=e.r,s=i-t,u=o-n,c=l-a,f=Math.sqrt(s*s+u*u);return{x:(t+i+s/f*c)/2,y:(n+o+u/f*c)/2,r:(f+a+l)/2}}function _M(r,e,t){var n=r.x,a=r.y,i=r.r,o=e.x,l=e.y,s=e.r,u=t.x,c=t.y,f=t.r,h=n-o,d=n-u,p=a-l,v=a-c,g=s-i,y=f-i,m=n*n+a*a-i*i,b=m-o*o-l*l+s*s,x=m-u*u-c*c+f*f,w=d*p-h*v,S=(p*x-v*b)/(w*2)-n,C=(v*g-p*y)/w,T=(d*b-h*x)/(w*2)-a,F=(h*y-d*g)/w,I=C*C+F*F-1,M=2*(i+S*C+T*F),O=S*S+T*T-i*i,k=-(I?(M+Math.sqrt(M*M-4*I*O))/(2*I):O/M);return{x:n+S+C*k,y:a+T+F*k,r:k}}function S1(r,e,t){var n=r.x-e.x,a,i,o=r.y-e.y,l,s,u=n*n+o*o;u?(i=e.r+t.r,i*=i,s=r.r+t.r,s*=s,i>s?(a=(u+s-i)/(2*u),l=Math.sqrt(Math.max(0,s/u-a*a)),t.x=r.x-a*n-l*o,t.y=r.y-a*o+l*n):(a=(u+i-s)/(2*u),l=Math.sqrt(Math.max(0,i/u-a*a)),t.x=e.x+a*n-l*o,t.y=e.y+a*o+l*n)):(t.x=e.x+t.r,t.y=e.y)}function C1(r,e){var t=r.r+e.r-1e-6,n=e.x-r.x,a=e.y-r.y;return t>0&&t*t>n*n+a*a}function A1(r){var e=r._,t=r.next._,n=e.r+t.r,a=(e.x*t.r+t.x*e.r)/n,i=(e.y*t.r+t.y*e.r)/n;return a*a+i*i}function Fu(r){this._=r,this.next=null,this.previous=null}function BM(r){if(!(a=(r=$nt(r)).length))return 0;var e,t,n,a,i,o,l,s,u,c,f;if(e=r[0],e.x=0,e.y=0,!(a>1))return e.r;if(t=r[1],e.x=-t.r,t.x=e.r,t.y=0,!(a>2))return e.r+t.r;S1(t,e,n=r[2]),e=new Fu(e),t=new Fu(t),n=new Fu(n),e.next=n.previous=t,t.next=e.previous=n,n.next=t.previous=e;t:for(l=3;l<a;++l){S1(e._,t._,n=r[l]),n=new Fu(n),s=t.next,u=e.previous,c=t._.r,f=e._.r;do if(c<=f){if(C1(s._,n._)){t=s,e.next=t,t.previous=e,--l;continue t}c+=s._.r,s=s.next}else{if(C1(u._,n._)){e=u,e.next=t,t.previous=e,--l;continue t}f+=u._.r,u=u.previous}while(s!==u.next);for(n.previous=e,n.next=t,e.next=t.previous=t=n,i=A1(e);(n=n.next)!==t;)(o=A1(n))<i&&(e=n,i=o);t=e.next}for(e=[t._],n=t;(n=n.next)!==t;)e.push(n._);for(n=LM(e),l=0;l<a;++l)e=r[l],e.x-=n.x,e.y-=n.y;return n.r}function Wnt(r){return BM(r),r}function Gnt(r){return r==null?null:Rc(r)}function Rc(r){if(typeof r!="function")throw new Error;return r}function Ya(){return 0}function zi(r){return function(){return r}}function qnt(r){return Math.sqrt(r.value)}function NM(){var r=null,e=1,t=1,n=Ya;function a(i){return i.x=e/2,i.y=t/2,r?i.eachBefore(E1(r)).eachAfter(Fd(n,.5)).eachBefore(T1(1)):i.eachBefore(E1(qnt)).eachAfter(Fd(Ya,1)).eachAfter(Fd(n,i.r/Math.min(e,t))).eachBefore(T1(Math.min(e,t)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(r=Gnt(i),a):r},a.size=function(i){return arguments.length?(e=+i[0],t=+i[1],a):[e,t]},a.padding=function(i){return arguments.length?(n=typeof i=="function"?i:zi(+i),a):n},a}function E1(r){return function(e){e.children||(e.r=Math.max(0,+r(e)||0))}}function Fd(r,e){return function(t){if(n=t.children){var n,a,i=n.length,o=r(t)*e||0,l;if(o)for(a=0;a<i;++a)n[a].r+=o;if(l=BM(n),o)for(a=0;a<i;++a)n[a].r-=o;t.r=l+o}}}function T1(r){return function(e){var t=e.parent;e.r*=r,t&&(e.x=t.x+r*e.x,e.y=t.y+r*e.y)}}function $M(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function Ls(r,e,t,n,a){for(var i=r.children,o,l=-1,s=i.length,u=r.value&&(n-e)/r.value;++l<s;)o=i[l],o.y0=t,o.y1=a,o.x0=e,o.x1=e+=o.value*u}function jM(){var r=1,e=1,t=0,n=!1;function a(o){var l=o.height+1;return o.x0=o.y0=t,o.x1=r,o.y1=e/l,o.eachBefore(i(e,l)),n&&o.eachBefore($M),o}function i(o,l){return function(s){s.children&&Ls(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var u=s.x0,c=s.y0,f=s.x1-t,h=s.y1-t;f<u&&(u=f=(u+f)/2),h<c&&(c=h=(c+h)/2),s.x0=u,s.y0=c,s.x1=f,s.y1=h}}return a.round=function(o){return arguments.length?(n=!!o,a):n},a.size=function(o){return arguments.length?(r=+o[0],e=+o[1],a):[r,e]},a.padding=function(o){return arguments.length?(t=+o,a):t},a}var Ynt={depth:-1},I1={};function Unt(r){return r.id}function Xnt(r){return r.parentId}function Knt(){var r=Unt,e=Xnt;function t(n){var a=Array.from(n),i=a.length,o,l,s,u,c,f,h,d=new Map;for(l=0;l<i;++l)o=a[l],c=a[l]=new wo(o),(f=r(o,l,n))!=null&&(f+="")&&(h=c.id=f,d.set(h,d.has(h)?I1:c)),(f=e(o,l,n))!=null&&(f+="")&&(c.parent=f);for(l=0;l<i;++l)if(c=a[l],f=c.parent){if(u=d.get(f),!u)throw new Error("missing: "+f);if(u===I1)throw new Error("ambiguous: "+f);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(s)throw new Error("multiple roots");s=c}if(!s)throw new Error("no root");if(s.parent=Ynt,s.eachBefore(function(p){p.depth=p.parent.depth+1,--i}).eachBefore(RM),s.parent=null,i>0)throw new Error("cycle");return s}return t.id=function(n){return arguments.length?(r=Rc(n),t):r},t.parentId=function(n){return arguments.length?(e=Rc(n),t):e},t}function Znt(r,e){return r.parent===e.parent?1:2}function kd(r){var e=r.children;return e?e[0]:r.t}function Pd(r){var e=r.children;return e?e[e.length-1]:r.t}function Qnt(r,e,t){var n=t/(e.i-r.i);e.c-=n,e.s+=t,r.c+=n,e.z+=t,e.m+=t}function Jnt(r){for(var e=0,t=0,n=r.children,a=n.length,i;--a>=0;)i=n[a],i.z+=e,i.m+=e,e+=i.s+(t+=i.c)}function tat(r,e,t){return r.a.parent===e.parent?r.a:t}function qu(r,e){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}qu.prototype=Object.create(wo.prototype);function eat(r){for(var e=new qu(r,0),t,n=[e],a,i,o,l;t=n.pop();)if(i=t._.children)for(t.children=new Array(l=i.length),o=l-1;o>=0;--o)n.push(a=t.children[o]=new qu(i[o],o)),a.parent=t;return(e.parent=new qu(null,0)).children=[e],e}function rat(){var r=Znt,e=1,t=1,n=null;function a(u){var c=eat(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(o),n)u.eachBefore(s);else{var f=u,h=u,d=u;u.eachBefore(function(m){m.x<f.x&&(f=m),m.x>h.x&&(h=m),m.depth>d.depth&&(d=m)});var p=f===h?1:r(f,h)/2,v=p-f.x,g=e/(h.x+p+v),y=t/(d.depth||1);u.eachBefore(function(m){m.x=(m.x+v)*g,m.y=m.depth*y})}return u}function i(u){var c=u.children,f=u.parent.children,h=u.i?f[u.i-1]:null;if(c){Jnt(u);var d=(c[0].z+c[c.length-1].z)/2;h?(u.z=h.z+r(u._,h._),u.m=u.z-d):u.z=d}else h&&(u.z=h.z+r(u._,h._));u.parent.A=l(u,h,u.parent.A||f[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function l(u,c,f){if(c){for(var h=u,d=u,p=c,v=h.parent.children[0],g=h.m,y=d.m,m=p.m,b=v.m,x;p=Pd(p),h=kd(h),p&&h;)v=kd(v),d=Pd(d),d.a=u,x=p.z+m-h.z-g+r(p._,h._),x>0&&(Qnt(tat(p,u,f),u,x),g+=x,y+=x),m+=p.m,g+=h.m,b+=v.m,y+=d.m;p&&!Pd(d)&&(d.t=p,d.m+=m-y),h&&!kd(v)&&(v.t=h,v.m+=g-b,f=u)}return f}function s(u){u.x*=e,u.y=u.depth*t}return a.separation=function(u){return arguments.length?(r=u,a):r},a.size=function(u){return arguments.length?(n=!1,e=+u[0],t=+u[1],a):n?null:[e,t]},a.nodeSize=function(u){return arguments.length?(n=!0,e=+u[0],t=+u[1],a):n?[e,t]:null},a}function eh(r,e,t,n,a){for(var i=r.children,o,l=-1,s=i.length,u=r.value&&(a-t)/r.value;++l<s;)o=i[l],o.x0=e,o.x1=n,o.y0=t,o.y1=t+=o.value*u}var VM=(1+Math.sqrt(5))/2;function HM(r,e,t,n,a,i){for(var o=[],l=e.children,s,u,c=0,f=0,h=l.length,d,p,v=e.value,g,y,m,b,x,w,S;c<h;){d=a-t,p=i-n;do g=l[f++].value;while(!g&&f<h);for(y=m=g,w=Math.max(p/d,d/p)/(v*r),S=g*g*w,x=Math.max(m/S,S/y);f<h;++f){if(g+=u=l[f].value,u<y&&(y=u),u>m&&(m=u),S=g*g*w,b=Math.max(m/S,S/y),b>x){g-=u;break}x=b}o.push(s={value:g,dice:d<p,children:l.slice(c,f)}),s.dice?Ls(s,t,n,a,v?n+=p*g/v:i):eh(s,t,n,v?t+=d*g/v:a,i),v-=g,c=f}return o}const zM=function r(e){function t(n,a,i,o,l){HM(e,n,a,i,o,l)}return t.ratio=function(n){return r((n=+n)>1?n:1)},t}(VM);function WM(){var r=zM,e=!1,t=1,n=1,a=[0],i=Ya,o=Ya,l=Ya,s=Ya,u=Ya;function c(h){return h.x0=h.y0=0,h.x1=t,h.y1=n,h.eachBefore(f),a=[0],e&&h.eachBefore($M),h}function f(h){var d=a[h.depth],p=h.x0+d,v=h.y0+d,g=h.x1-d,y=h.y1-d;g<p&&(p=g=(p+g)/2),y<v&&(v=y=(v+y)/2),h.x0=p,h.y0=v,h.x1=g,h.y1=y,h.children&&(d=a[h.depth+1]=i(h)/2,p+=u(h)-d,v+=o(h)-d,g-=l(h)-d,y-=s(h)-d,g<p&&(p=g=(p+g)/2),y<v&&(v=y=(v+y)/2),r(h,p,v,g,y))}return c.round=function(h){return arguments.length?(e=!!h,c):e},c.size=function(h){return arguments.length?(t=+h[0],n=+h[1],c):[t,n]},c.tile=function(h){return arguments.length?(r=Rc(h),c):r},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(i=typeof h=="function"?h:zi(+h),c):i},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:zi(+h),c):o},c.paddingRight=function(h){return arguments.length?(l=typeof h=="function"?h:zi(+h),c):l},c.paddingBottom=function(h){return arguments.length?(s=typeof h=="function"?h:zi(+h),c):s},c.paddingLeft=function(h){return arguments.length?(u=typeof h=="function"?h:zi(+h),c):u},c}function nat(r,e,t,n,a){var i=r.children,o,l=i.length,s,u=new Array(l+1);for(u[0]=s=o=0;o<l;++o)u[o+1]=s+=i[o].value;c(0,l,r.value,e,t,n,a);function c(f,h,d,p,v,g,y){if(f>=h-1){var m=i[f];m.x0=p,m.y0=v,m.x1=g,m.y1=y;return}for(var b=u[f],x=d/2+b,w=f+1,S=h-1;w<S;){var C=w+S>>>1;u[C]<x?w=C+1:S=C}x-u[w-1]<u[w]-x&&f+1<w&&--w;var T=u[w]-b,F=d-T;if(g-p>y-v){var I=d?(p*F+g*T)/d:g;c(f,w,T,p,v,I,y),c(w,h,F,I,v,g,y)}else{var M=d?(v*F+y*T)/d:y;c(f,w,T,p,v,g,M),c(w,h,F,p,M,g,y)}}}function aat(r,e,t,n,a){(r.depth&1?eh:Ls)(r,e,t,n,a)}const iat=function r(e){function t(n,a,i,o,l){if((s=n._squarify)&&s.ratio===e)for(var s,u,c,f,h=-1,d,p=s.length,v=n.value;++h<p;){for(u=s[h],c=u.children,f=u.value=0,d=c.length;f<d;++f)u.value+=c[f].value;u.dice?Ls(u,a,i,o,v?i+=(l-i)*u.value/v:l):eh(u,a,i,v?a+=(o-a)*u.value/v:o,l),v-=u.value}else n._squarify=s=HM(e,n,a,i,o,l),s.ratio=e}return t.ratio=function(n){return r((n=+n)>1?n:1)},t}(VM),M1=Object.freeze(Object.defineProperty({__proto__:null,cluster:xnt,hierarchy:zo,pack:NM,packEnclose:LM,packSiblings:Wnt,partition:jM,stratify:Knt,tree:rat,treemap:WM,treemapBinary:nat,treemapDice:Ls,treemapResquarify:iat,treemapSlice:eh,treemapSliceDice:aat,treemapSquarify:zM},Symbol.toStringTag,{value:"Module"}));var GM="nodeIndex",qM="childNodeCount",Hy="nodeAncestor",Rd="Invalid field: it must be a string!";function zy(r,e){var t=r.field,n=r.fields;if(gt(t))return t;if(J(t))return console.warn(Rd),t[0];if(console.warn("".concat(Rd," will try to get fields instead.")),gt(n))return n;if(J(n)&&n.length)return n[0];if(e)return e;throw new TypeError(Rd)}function Wy(r){var e=[];if(r&&r.each){var t,n;r.each(function(a){var i,o;a.parent!==t?(t=a.parent,n=0):n+=1;var l=Be((((i=a.ancestors)===null||i===void 0?void 0:i.call(a))||[]).map(function(s){return e.find(function(u){return u.name===s.name})||s}),function(s){var u=s.depth;return u>0&&u<a.depth});a[Hy]=l,a[qM]=((o=a.children)===null||o===void 0?void 0:o.length)||0,a[GM]=n,e.push(a)})}else r&&r.eachNode&&r.eachNode(function(a){e.push(a)});return e}var oat={field:"value",as:["x","y","r"],sort:function(r,e){return e.value-r.value}};function lat(r,e){e=zt({},oat,e);var t=e.as;if(!J(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=zy(e)}catch(u){console.warn(u)}var a=function(u){return NM().size(e.size).padding(e.padding)(zo(u).sum(function(c){return c[n]}).sort(e.sort))},i=a(r),o=t[0],l=t[1],s=t[2];return i.each(function(u){u[o]=u.x,u[l]=u.y,u[s]=u.r}),Wy(i)}function YM(r){var e=r.data,t=r.hierarchyConfig,n=r.rawFields,a=n===void 0?[]:n,i=r.enableDrillDown,o=lat(e,E(E({},t),{field:"value",as:["x","y","r"]})),l=[];return o.forEach(function(s){for(var u,c=s.data.name,f=E({},s);f.depth>1;)c="".concat((u=f.parent.data)===null||u===void 0?void 0:u.name," / ").concat(c),f=f.parent;if(i&&s.depth>2)return null;var h=Z({},s.data,E(E(E({},$t(s.data,a)),{path:c}),s));h.ext=t,h[us]={hierarchyConfig:t,rawFields:a,enableDrillDown:i},l.push(h)}),l}function UM(r,e,t){var n=My([r,e]),a=n[0],i=n[1],o=n[2],l=n[3],s=t.width,u=t.height,c=s-(l+i),f=u-(a+o),h=Math.min(c,f),d=(c-h)/2,p=(f-h)/2,v=a+p,g=i+d,y=o+p,m=l+d,b=[v,g,y,m],x=h<0?0:h;return{finalPadding:b,finalSize:x}}function sat(r){var e=r.chart,t=Math.min(e.viewBBox.width,e.viewBBox.height);return Z({options:{size:function(n){var a=n.r;return a*t}}},r)}function uat(r){var e=r.options,t=r.chart,n=t.viewBBox,a=e.padding,i=e.appendPadding,o=e.drilldown,l=i;if(o!=null&&o.enabled){var s=zf(t.appendPadding,H(o,["breadCrumb","position"]));l=My([s,i])}var u=UM(a,l,n).finalPadding;return t.padding=u,t.appendPadding=0,r}function cat(r){var e=r.chart,t=r.options,n=e.padding,a=e.appendPadding,i=t.color,o=t.colorField,l=t.pointStyle,s=t.hierarchyConfig,u=t.sizeField,c=t.rawFields,f=c===void 0?[]:c,h=t.drilldown,d=YM({data:t.data,hierarchyConfig:s,enableDrillDown:h==null?void 0:h.enabled,rawFields:f});e.data(d);var p=e.viewBBox,v=UM(n,a,p).finalSize,g=function(y){var m=y.r;return m*v};return u&&(g=function(y){return y[u]*v}),Cr(Z({},r,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:pt(pt([],lnt,!0),f,!0),point:{color:i,style:l,shape:"circle",size:g}}})),r}function fat(r){return mt(se({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(r)}function hat(r){var e=r.chart,t=r.options,n=t.tooltip;if(n===!1)e.tooltip(!1);else{var a=n;H(n,"fields")||(a=Z({},{customItems:function(i){return i.map(function(o){var l=H(e.getOptions(),"scales"),s=H(l,["name","formatter"],function(c){return c}),u=H(l,["value","formatter"],function(c){return c});return E(E({},o),{name:s(o.data.name),value:u(o.data.value)})})}},a)),e.tooltip(a)}return r}function dat(r){var e=r.chart;return e.axis(!1),r}function pat(r){var e=r.drilldown,t=r.interactions,n=t===void 0?[]:t;return e!=null&&e.enabled?Z({},r,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:YM,enableDrillDown:!0}}],!1)}):r}function vat(r){var e=r.chart,t=r.options;return Jt({chart:e,options:pat(t)}),r}function gat(r){return mt(Sr("pointStyle"),sat,uat,Ft,fat,cat,dat,$o,hat,vat,Wt,re())(r)}function O1(r){var e=H(r,["event","data","data"],{});return J(e.children)&&e.children.length>0}function F1(r){var e=r.view.getCoordinate(),t=e.innerRadius;if(t){var n=r.event,a=n.x,i=n.y,o=e.center,l=o.x,s=o.y,u=e.getRadius()*t,c=Math.sqrt(Math.pow(l-a,2)+Math.pow(s-i,2));return c<u}return!1}ht("drill-down-action",fnt);bt("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:O1},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:F1}],start:[{trigger:"element:click",isEnable:O1,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:F1,action:["drill-down-action:back"]}]});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle-packing",t}return e.getDefaultOptions=function(){return snt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return gat},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e})(wt);var Ar="left-axes-view",Er="right-axes-view",XM={nice:!0,label:{autoHide:!0,autoRotate:!1}},yat=E(E({},XM),{position:"left"}),mat=E(E({},XM),{position:"right",grid:null}),So;(function(r){r.Left="Left",r.Right="Right"})(So||(So={}));var wi;(function(r){r.Line="line",r.Column="column"})(wi||(wi={}));function _v(r){return H(r,"geometry")===wi.Line}function Gy(r){return H(r,"geometry")===wi.Column}function k1(r,e,t){return Gy(t)?Z({},{geometry:wi.Column,label:t.label&&t.isRange?{content:function(n){var a;return(a=n[e])===null||a===void 0?void 0:a.join("-")}}:void 0},t):E({geometry:wi.Line},t)}function P1(r,e){var t=r[0],n=r[1];if(J(e)){var a=e[0],i=e[1];return[a,i]}var o=H(e,t),l=H(e,n);return[o,l]}function R1(r,e){return e===So.Left?r===!1?!1:Z({},yat,r):e===So.Right?r===!1?!1:Z({},mat,r):r}function xat(r){var e=r.options,t=r.chart,n=e.geometryOption,a=n.isStack,i=n.color,o=n.seriesField,l=n.groupField,s=n.isGroup,u=["xField","yField"];if(_v(n)){jo(Z({},r,{options:E(E(E({},$t(e,u)),n),{line:{color:n.color,style:n.lineStyle}})})),Cr(Z({},r,{options:E(E(E({},$t(e,u)),n),{point:n.point&&E({color:i,shape:"circle"},n.point)})}));var c=[];s&&c.push({type:"dodge",dodgeBy:l||o,customOffset:0}),a&&c.push({type:"stack"}),c.length&&j(t.geometries,function(f){f.adjust(c)})}return Gy(n)&&Jf(Z({},r,{options:E(E(E({},$t(e,u)),n),{widthRatio:n.columnWidthRatio,interval:E(E({},$t(n,["color"])),{style:n.columnStyle})})})),r}function L1(r){var e=r.view,t=r.geometryOption,n=r.yField,a=r.legend,i=H(a,"marker"),o=Ne(e,_v(t)?"line":"interval");if(!t.seriesField){var l=H(e,"options.scales.".concat(n,".alias"))||n,s=o.getAttribute("color"),u=e.getTheme().defaultColor;s&&(u=or.getMappingValue(s,l,H(s,["values",0],u)));var c=(ut(i)?i:!ir(i)&&Z({},{style:{stroke:u,fill:u}},i))||(_v(t)?{symbol:function(h,d,p){return[["M",h-p,d],["L",h+p,d]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:n,name:l,marker:c,isGeometry:!0,viewId:e.id}]}var f=o.getGroupAttributes();return ze(f,function(h,d){var p=or.getLegendItems(e,o,d,e.getTheme(),i);return h.concat(p)},[])}var D1=function(r,e){var t=e[0],n=e[1],a=r.getOptions().data,i=r.getXScale(),o=Ie(a);if(!(!i||!o)){var l=Zr(a,i.field),s=l,u=Ie(s),c=Math.floor(t*(u-1)),f=Math.floor(n*(u-1));r.filter(i.field,function(h){var d=s.indexOf(h);return d>-1?WQ(d,c,f):!0}),r.getRootView().render(!0)}};function bat(r){var e,t=r.options,n=t.geometryOptions,a=n===void 0?[]:n,i=t.xField,o=t.yField,l=pg(a,function(s){var u=s.geometry;return u===wi.Line||u===void 0});return Z({},{options:{geometryOptions:[],meta:(e={},e[i]={type:"cat",sync:!0,range:l?[0,1]:void 0},e),tooltip:{showMarkers:l,showCrosshairs:l,shared:!0,crosshairs:{type:"x"}},interactions:l?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},r,{options:{yAxis:P1(o,t.yAxis),geometryOptions:[k1(i,o[0],a[0]),k1(i,o[1],a[1])],annotations:P1(o,t.annotations)}})}function wat(r){var e,t,n=r.chart,a=r.options,i=a.geometryOptions,o={line:0,column:1},l=[{type:(e=i[0])===null||e===void 0?void 0:e.geometry,id:Ar},{type:(t=i[1])===null||t===void 0?void 0:t.geometry,id:Er}];return l.sort(function(s,u){return-o[s.type]+o[u.type]}).forEach(function(s){return n.createView({id:s.id})}),r}function Sat(r){var e=r.chart,t=r.options,n=t.xField,a=t.yField,i=t.geometryOptions,o=t.data,l=t.tooltip,s=[E(E({},i[0]),{id:Ar,data:o[0],yField:a[0]}),E(E({},i[1]),{id:Er,data:o[1],yField:a[1]})];return s.forEach(function(u){var c=u.id,f=u.data,h=u.yField,d=Gy(u)&&u.isPercent,p=d?AI(f,h,n,h):f,v=Ct(e,c).data(p),g=d?E({formatter:function(y){return{name:y[u.seriesField]||h,value:(Number(y[h])*100).toFixed(2)+"%"}}},l):l;xat({chart:v,options:{xField:n,yField:h,tooltip:g,geometryOption:u}})}),r}function Cat(r){var e,t=r.chart,n=r.options,a=n.geometryOptions,i=((e=t.getTheme())===null||e===void 0?void 0:e.colors10)||[],o=0;return t.once("beforepaint",function(){j(a,function(l,s){var u=Ct(t,s===0?Ar:Er);if(!l.color){var c=u.getGroupScales(),f=H(c,[0,"values","length"],1),h=i.slice(o,o+f).concat(s===0?[]:i);u.geometries.forEach(function(d){l.seriesField?d.color(l.seriesField,h):d.color(h[0])}),o+=f}}),t.render(!0)}),r}function Aat(r){var e,t,n=r.chart,a=r.options,i=a.xAxis,o=a.yAxis,l=a.xField,s=a.yField;return se((e={},e[l]=i,e[s[0]]=o[0],e))(Z({},r,{chart:Ct(n,Ar)})),se((t={},t[l]=i,t[s[1]]=o[1],t))(Z({},r,{chart:Ct(n,Er)})),r}function Eat(r){var e=r.chart,t=r.options,n=Ct(e,Ar),a=Ct(e,Er),i=t.xField,o=t.yField,l=t.xAxis,s=t.yAxis;return e.axis(i,!1),e.axis(o[0],!1),e.axis(o[1],!1),n.axis(i,l),n.axis(o[0],R1(s[0],So.Left)),a.axis(i,!1),a.axis(o[1],R1(s[1],So.Right)),r}function Tat(r){var e=r.chart,t=r.options,n=t.tooltip,a=Ct(e,Ar),i=Ct(e,Er);return e.tooltip(n),a.tooltip({shared:!0}),i.tooltip({shared:!0}),r}function Iat(r){var e=r.chart;return Jt(Z({},r,{chart:Ct(e,Ar)})),Jt(Z({},r,{chart:Ct(e,Er)})),r}function Mat(r){var e=r.chart,t=r.options,n=t.annotations,a=H(n,[0]),i=H(n,[1]);return re(a)(Z({},r,{chart:Ct(e,Ar),options:{annotations:a}})),re(i)(Z({},r,{chart:Ct(e,Er),options:{annotations:i}})),r}function Oat(r){var e=r.chart;return Ft(Z({},r,{chart:Ct(e,Ar)})),Ft(Z({},r,{chart:Ct(e,Er)})),Ft(r),r}function Fat(r){var e=r.chart;return Wt(Z({},r,{chart:Ct(e,Ar)})),Wt(Z({},r,{chart:Ct(e,Er)})),r}function kat(r){var e=r.chart,t=r.options,n=t.yAxis;return bi(Z({},r,{chart:Ct(e,Ar),options:{yAxis:n[0]}})),bi(Z({},r,{chart:Ct(e,Er),options:{yAxis:n[1]}})),r}function Pat(r){var e=r.chart,t=r.options,n=t.legend,a=t.geometryOptions,i=t.yField,o=t.data,l=Ct(e,Ar),s=Ct(e,Er);if(n===!1)e.legend(!1);else if(jt(n)&&n.custom===!0)e.legend(n);else{var u=H(a,[0,"legend"],n),c=H(a,[1,"legend"],n);e.once("beforepaint",function(){var f=o[0].length?L1({view:l,geometryOption:a[0],yField:i[0],legend:u}):[],h=o[1].length?L1({view:s,geometryOption:a[1],yField:i[1],legend:c}):[];e.legend(Z({},n,{custom:!0,items:f.concat(h)}))}),a[0].seriesField&&l.legend(a[0].seriesField,u),a[1].seriesField&&s.legend(a[1].seriesField,c),e.on("legend-item:click",function(f){var h=H(f,"gEvent.delegateObject",{});if(h&&h.item){var d=h.item,p=d.value,v=d.isGeometry,g=d.viewId;if(v){var y=DC(i,function(x){return x===p});if(y>-1){var m=H(Ct(e,g),"geometries");j(m,function(x){x.changeVisible(!h.item.unchecked)})}}else{var b=H(e.getController("legend"),"option.items",[]);j(e.views,function(x){var w=x.getGroupScales();j(w,function(S){S.values&&S.values.indexOf(p)>-1&&x.filter(S.field,function(C){var T=Yr(b,function(F){return F.value===C});return!T.unchecked})}),e.render(!0)})}}})}return r}function Rat(r){var e=r.chart,t=r.options,n=t.slider,a=Ct(e,Ar),i=Ct(e,Er);return n&&(a.option("slider",n),a.on("slider:valuechanged",function(o){var l=o.event,s=l.value,u=l.originValue;le(s,u)||D1(i,s)}),e.once("afterpaint",function(){if(!co(n)){var o=n.start,l=n.end;(o||l)&&D1(i,[o,l])}})),r}function Lat(r){return mt(bat,wat,Oat,Sat,Aat,Eat,kat,Tat,Iat,Mat,Fat,Cat,Pat,Rat)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dual-axes",t}return e.prototype.getDefaultOptions=function(){return Z({},r.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return Lat},e})(wt);function Dat(r,e){var t=e.data,n=e.coordinate,a=e.interactions,i=e.annotations,o=e.animation,l=e.tooltip,s=e.axes,u=e.meta,c=e.geometries;t&&r.data(t);var f={};s&&j(s,function(h,d){f[d]=$t(h,rr)}),f=Z({},u,f),r.scale(f),n&&r.coordinate(n),s===!1?r.axis(!1):j(s,function(h,d){r.axis(d,h)}),j(c,function(h){var d=sr({chart:r,options:h}).ext,p=h.adjust;p&&d.geometry.adjust(p)}),j(a,function(h){h.enable===!1?r.removeInteraction(h.type):r.interaction(h.type,h.cfg)}),j(i,function(h){r.annotation()[h.type](E({},h))}),Os(r,o),l?(r.interaction("tooltip"),r.tooltip(l)):l===!1&&r.removeInteraction("tooltip")}function _at(r){var e=r.chart,t=r.options,n=t.type,a=t.data,i=t.fields,o=t.eachView,l=sf(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(a),e.facet(n,E(E({},l),{fields:i,eachView:function(s,u){var c=o(s,u);if(c.geometries)Dat(s,c);else{var f=c,h=f.options;h.tooltip&&s.interaction("tooltip"),Dv(f.type,s,h)}}})),r}function Bat(r){var e=r.chart,t=r.options,n=t.axes,a=t.meta,i=t.tooltip,o=t.coordinate,l=t.theme,s=t.legend,u=t.interactions,c=t.annotations,f={};return n&&j(n,function(h,d){f[d]=$t(h,rr)}),f=Z({},a,f),e.scale(f),e.coordinate(o),n?j(n,function(h,d){e.axis(d,h)}):e.axis(!1),i?(e.interaction("tooltip"),e.tooltip(i)):i===!1&&e.removeInteraction("tooltip"),e.legend(s),l&&e.theme(l),j(u,function(h){h.enable===!1?e.removeInteraction(h.type):e.interaction(h.type,h.cfg)}),j(c,function(h){e.annotation()[h.type](E({},h))}),r}function Nat(r){return mt(Ft,_at,Bat)(r)}var $at={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return $at},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Nat},e})(wt);function jat(r){var e=r.chart,t=r.options,n=t.data,a=t.type,i=t.xField,o=t.yField,l=t.colorField,s=t.sizeField,u=t.sizeRatio,c=t.shape,f=t.color,h=t.tooltip,d=t.heatmapStyle,p=t.meta;e.data(n);var v="polygon";a==="density"&&(v="heatmap");var g=$r(h,[i,o,l]),y=g.fields,m=g.formatter,b=1;return(u||u===0)&&(!c&&!s?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):b=u),sr(Z({},r,{options:{type:v,colorField:l,tooltipFields:y,shapeField:s||"",label:void 0,mapping:{tooltip:m,shape:c&&(s?function(x){var w=n.map(function(F){return F[s]}),S=(p==null?void 0:p[s])||{},C=S.min,T=S.max;return C=xt(C)?C:Math.min.apply(Math,w),T=xt(T)?T:Math.max.apply(Math,w),[c,(H(x,s)-C)/(T-C),b]}:function(){return[c,1,b]}),color:f||l&&e.getTheme().sequenceColors.join("-"),style:d}}})),r}function Vat(r){var e,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return mt(se((e={},e[i]=n,e[o]=a,e)))(r)}function Hat(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?e.axis(o,!1):e.axis(o,a),r}function zat(r){var e=r.chart,t=r.options,n=t.legend,a=t.colorField,i=t.sizeField,o=t.sizeLegend,l=n!==!1;return a&&e.legend(a,l?n:!1),i&&e.legend(i,o===void 0?n:o),!l&&!o&&e.legend(!1),r}function Wat(r){var e=r.chart,t=r.options,n=t.label,a=t.colorField,i=t.type,o=Ne(e,i==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(a){var l=n.callback,s=Ht(n,["callback"]);o.label({fields:[a],callback:l,cfg:Me(s)})}return r}function Gat(r){var e,t,n=r.chart,a=r.options,i=a.coordinate,o=a.reflect,l=Z({actions:[]},i??{type:"rect"});return o&&((t=(e=l.actions)===null||e===void 0?void 0:e.push)===null||t===void 0||t.call(e,["reflect",o])),n.coordinate(l),r}function qat(r){return mt(Ft,Sr("heatmapStyle"),Vat,Gat,jat,Hat,zat,Ce,Wat,re(),Jt,Wt,Ra)(r)}var Yat=Z({},wt.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});Bt("polygon","circle",{draw:function(r,e){var t,n,a=r.x,i=r.y,o=this.parsePoints(r.points),l=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),u=Math.min(l,s)/2,c=Number(r.shape[1]),f=Number(r.shape[2]),h=Math.sqrt(f),d=u*h*Math.sqrt(c),p=((t=r.style)===null||t===void 0?void 0:t.fill)||r.color||((n=r.defaultStyle)===null||n===void 0?void 0:n.fill),v=e.addShape("circle",{attrs:E(E(E({x:a,y:i,r:d},r.defaultStyle),r.style),{fill:p})});return v}});Bt("polygon","square",{draw:function(r,e){var t,n,a=r.x,i=r.y,o=this.parsePoints(r.points),l=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),u=Math.min(l,s),c=Number(r.shape[1]),f=Number(r.shape[2]),h=Math.sqrt(f),d=u*h*Math.sqrt(c),p=((t=r.style)===null||t===void 0?void 0:t.fill)||r.color||((n=r.defaultStyle)===null||n===void 0?void 0:n.fill),v=e.addShape("rect",{attrs:E(E(E({x:a-d/2,y:i-d/2,width:d,height:d},r.defaultStyle),r.style),{fill:p})});return v}});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t}return e.getDefaultOptions=function(){return Yat},e.prototype.getSchemaAdaptor=function(){return qat},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e})(wt);var Uat="liquid";function KM(r){return[{percent:r,type:Uat}]}function Xat(r){var e=r.chart,t=r.options,n=t.percent,a=t.liquidStyle,i=t.radius,o=t.outline,l=t.wave,s=t.shape,u=t.shapeStyle,c=t.animation;e.scale({percent:{min:0,max:1}}),e.data(KM(n));var f=t.color||e.getTheme().defaultColor,h=Z({},r,{options:{xField:"type",yField:"percent",widthRatio:i,interval:{color:f,style:a,shape:"liquid-fill-gauge"}}}),d=$e(h).ext,p=d.geometry,v=e.getTheme().background,g={percent:n,radius:i,outline:o,wave:l,shape:s,shapeStyle:u,background:v,animation:c};return p.customInfo(g),e.legend(!1),e.axis(!1),e.tooltip(!1),r}function ZM(r,e){var t=r.chart,n=r.options,a=n.statistic,i=n.percent,o=n.meta;t.getController("annotation").clear(!0);var l=H(o,["percent","formatter"])||function(u){return"".concat((u*100).toFixed(2),"%")},s=a.content;return s&&(s=Z({},s,{content:Q(s.content)?l(i):s.content})),Wf(t,{statistic:E(E({},a),{content:s}),plotType:"liquid"},{percent:i}),e&&t.render(!0),r}function Kat(r){return mt(Ft,Sr("liquidStyle"),Xat,ZM,se({}),Wt,Jt)(r)}var Zat={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},_1=5e3;function B1(r,e,t){return r+(e-r)*t}function Qat(r){var e=E({opacity:1},r.style);return r.color&&!e.fill&&(e.fill=r.color),e}function Jat(r){var e={fill:"#fff",fillOpacity:0,lineWidth:4},t=zt({},e,r.style);return r.color&&!t.stroke&&(t.stroke=r.color),xt(r.opacity)&&(t.opacity=t.strokeOpacity=r.opacity),t}function tit(r,e,t,n){return e===0?[[r+1/2*t/Math.PI/2,n/2],[r+1/2*t/Math.PI,n],[r+t/4,n]]:e===1?[[r+1/2*t/Math.PI/2*(Math.PI-2),n],[r+1/2*t/Math.PI/2*(Math.PI-1),n/2],[r+t/4,0]]:e===2?[[r+1/2*t/Math.PI/2,-n/2],[r+1/2*t/Math.PI,-n],[r+t/4,-n]]:[[r+1/2*t/Math.PI/2*(Math.PI-2),-n],[r+1/2*t/Math.PI/2*(Math.PI-1),-n/2],[r+t/4,0]]}function eit(r,e,t,n,a,i,o){for(var l=Math.ceil(2*r/t*4)*4,s=[],u=n;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var c=i-r+u-r*2;s.push(["M",c,e]);for(var f=0,h=0;h<l;++h){var d=h%4,p=tit(h*t/4,d,t,a);s.push(["C",p[0][0]+c,-p[0][1]+e,p[1][0]+c,-p[1][1]+e,p[2][0]+c,-p[2][1]+e]),h===l-1&&(f=p[2][0])}return s.push(["L",f+c,o+r]),s.push(["L",c,o+r]),s.push(["Z"]),s}function rit(r,e,t,n,a,i,o,l,s,u){for(var c=a.fill,f=a.opacity,h=o.getBBox(),d=h.maxX-h.minX,p=h.maxY-h.minY,v=0;v<n;v++){var g=n<=1?1:v/(n-1),y=i.addShape("path",{name:"waterwave-path",attrs:{path:eit(l,h.minY+p*t,s,0,d/32,r,e),fill:c,opacity:B1(.2,.9,g)*f}});try{if(u===!1)return;var m=Lv([["t",s,0]]);y.stopAnimate(),y.animate({matrix:m},{duration:B1(.5*_1,_1,g),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}function nit(r,e,t,n){var a=t*2/3,i=Math.max(a,n),o=a/2,l=r,s=o+e-i/2,u=Math.asin(o/((i-o)*.85)),c=Math.sin(u)*o,f=Math.cos(u)*o,h=l-f,d=s+c,p=r,v=s+o/Math.sin(u);return`
      M `.concat(h," ").concat(d,`
      A `).concat(o," ").concat(o," 0 1 1 ").concat(h+f*2," ").concat(d,`
      Q `).concat(p," ").concat(v," ").concat(r," ").concat(e+i/2,`
      Q `).concat(p," ").concat(v," ").concat(h," ").concat(d,`
      Z 
    `)}function ait(r,e,t,n){var a=t/2,i=n/2;return`
      M `.concat(r," ").concat(e-i,` 
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(i*2,`
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(-i*2,`
      Z
    `)}function iit(r,e,t,n){var a=n/2,i=t/2;return`
      M `.concat(r," ").concat(e-a,`
      L `).concat(r+i," ").concat(e,`
      L `).concat(r," ").concat(e+a,`
      L `).concat(r-i," ").concat(e,`
      Z
    `)}function oit(r,e,t,n){var a=n/2,i=t/2;return`
      M `.concat(r," ").concat(e-a,`
      L `).concat(r+i," ").concat(e+a,`
      L `).concat(r-i," ").concat(e+a,`
      Z
    `)}function lit(r,e,t,n){var a=.618,i=n/2,o=t/2*a;return`
      M `.concat(r-o," ").concat(e-i,`
      L `).concat(r+o," ").concat(e-i,`
      L `).concat(r+o," ").concat(e+i,`
      L `).concat(r-o," ").concat(e+i,`
      Z
    `)}var N1={pin:nit,circle:ait,diamond:iit,triangle:oit,rect:lit};Bt("interval","liquid-fill-gauge",{draw:function(r,e){var t=.5,n=.5,a=r.customInfo,i=a,o=i.percent,l=i.radius,s=i.shape,u=i.shapeStyle,c=i.background,f=i.animation,h=a.outline,d=a.wave,p=h.border,v=h.distance,g=d.count,y=d.length,m=ze(r.points,function(L,N){return Math.min(L,N.x)},1/0),b=this.parsePoint({x:t,y:n}),x=this.parsePoint({x:m,y:n}),w=b.x-x.x,S=Math.min(w,x.y*l),C=Qat(r),T=Jat(zt({},r,h)),F=S-p/2,I=typeof s=="function"?s:N1[s]||N1.circle,M=I(b.x,b.y,F*2,F*2);if(u&&e.addShape("path",{name:"shape",attrs:E({path:M},u)}),o>0){var O=e.addGroup({name:"waves"}),k=O.setClip({type:"path",attrs:{path:M}});rit(b.x,b.y,1-r.points[1].y,g,C,O,k,S*2,y,f)}return e.addShape("path",{name:"distance",attrs:{path:M,fill:"transparent",lineWidth:p+v*2,stroke:c==="transparent"?"#fff":c}}),e.addShape("path",{name:"wrap",attrs:zt(T,{path:M,fill:"transparent",lineWidth:p})}),e}});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="liquid",t}return e.getDefaultOptions=function(){return Zat},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(St.BEFORE_CHANGE_DATA,te.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(KM(t)),ZM({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,te.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return Kat},e})(wt);function sit(r){var e=r.chart,t=r.options,n=t.data,a=t.lineStyle,i=t.color,o=t.point,l=t.area;e.data(n);var s=Z({},r,{options:{line:{style:a,color:i},point:o&&E({color:i},o),area:l&&E({color:i},l),label:void 0}}),u=Z({},s,{options:{tooltip:!1}}),c=(o==null?void 0:o.state)||t.state,f=Z({},s,{options:{tooltip:!1,state:c}});return jo(s),Cr(f),Yf(u),r}function uit(r){var e,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return mt(se((e={},e[i]=n,e[o]=a,e)))(r)}function cit(r){var e=r.chart,t=r.options,n=t.radius,a=t.startAngle,i=t.endAngle;return e.coordinate("polar",{radius:n,startAngle:a,endAngle:i}),r}function fit(r){var e=r.chart,t=r.options,n=t.xField,a=t.xAxis,i=t.yField,o=t.yAxis;return e.axis(n,a),e.axis(i,o),r}function hit(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=Ne(e,"line");if(!n)i.label(!1);else{var o=n.callback,l=Ht(n,["callback"]);i.label({fields:[a],callback:o,cfg:Me(l)})}return r}function dit(r){return mt(sit,uit,Ft,cit,fit,$o,Ce,hit,Jt,Wt,re())(r)}var pit=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),a=n.shared,i=n.title,o=r.prototype.getTooltipItems.call(this,t);if(o.length>0){var l=this.view.geometries[0],s=l.dataArray,u=o[0].name,c=[];return s.forEach(function(f){f.forEach(function(h){var d=or.getTooltipItems(h,l),p=d[0];if(!a&&p&&p.name===u){var v=Q(i)?u:i;c.push(E(E({},p),{name:p.title,title:v}))}else if(a&&p){var v=Q(i)?p.name||u:i;c.push(E(E({},p),{name:p.title,title:v}))}})}),c}return[]},e}(tT);Ai("radar-tooltip",pit);var vit=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event,n=this.getTooltipController();n.showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},e.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},e}(Xt);ht("radar-tooltip",vit);bt("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="radar",t}return e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return Z({},r.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return dit},e})(wt);function git(r,e,t){var n=t.map(function(o){return o[e]}).filter(function(o){return o!==void 0}),a=n.length>0?Math.max.apply(Math,n):0,i=Math.abs(r)%360;return i?a*360/i:a}function yit(r,e,t){var n=[];return r.forEach(function(a){var i=n.find(function(o){return o[e]===a[e]});i?i[t]+=a[t]||null:n.push(E({},a))}),n}function mit(r){var e=r.chart,t=r.options,n=t.barStyle,a=t.color,i=t.tooltip,o=t.colorField,l=t.type,s=t.xField,u=t.yField,c=t.data,f=t.shape,h=xo(c,u);e.data(h);var d=Z({},r,{options:{tooltip:i,seriesField:o,interval:{style:n,color:a,shape:f||(l==="line"?"line":"intervel")},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return $e(d),l==="line"&&Cr({chart:e,options:{xField:s,yField:u,seriesField:o,point:{shape:"circle",color:a}}}),r}function QM(r){var e,t=r.options,n=t.yField,a=t.xField,i=t.data,o=t.isStack,l=t.isGroup,s=t.colorField,u=t.maxAngle,c=o&&!l&&s?yit(i,a,n):i,f=xo(c,n);return mt(se((e={},e[n]={min:0,max:git(u,n,f)},e)))(r)}function xit(r){var e=r.chart,t=r.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}).transpose(),r}function bit(r){var e=r.chart,t=r.options,n=t.xField,a=t.xAxis;return e.axis(n,a),r}function wit(r){var e=r.chart,t=r.options,n=t.label,a=t.yField,i=Ne(e,"interval");if(!n)i.label(!1);else{var o=n.callback,l=Ht(n,["callback"]);i.label({fields:[a],callback:o,cfg:E(E({},Me(l)),{type:"polar"})})}return r}function Sit(r){return mt(Sr("barStyle"),mit,QM,bit,xit,Jt,Wt,Ft,Ce,$o,re(),wit)(r)}var Cit=Z({},wt.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="radial-bar",t}return e.getDefaultOptions=function(){return Cit},e.prototype.changeData=function(t){this.updateOption({data:t}),QM({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Sit},e})(wt);function Ait(r){var e=r.chart,t=r.options,n=t.data,a=t.sectorStyle,i=t.shape,o=t.color;return e.data(n),mt($e)(Z({},r,{options:{marginRatio:1,interval:{style:a,color:o,shape:i}}})),r}function Eit(r){var e=r.chart,t=r.options,n=t.label,a=t.xField,i=Ne(e,"interval");if(n===!1)i.label(!1);else if(jt(n)){var o=n.callback,l=n.fields,s=Ht(n,["callback","fields"]),u=s.offset,c=s.layout;(u===void 0||u>=0)&&(c=c?J(c)?c:[c]:[],s.layout=Be(c,function(f){return f.type!=="limit-in-shape"}),s.layout.length||delete s.layout),i.label({fields:l||[a],callback:o,cfg:Me(s)})}else Hn(Jr.WARN,n===null,"the label option must be an Object."),i.label({fields:[a]});return r}function Tit(r){var e=r.chart,t=r.options,n=t.legend,a=t.seriesField;return n===!1?e.legend(!1):a&&e.legend(a,n),r}function Iit(r){var e=r.chart,t=r.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}),r}function Mit(r){var e,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return mt(se((e={},e[i]=n,e[o]=a,e)))(r)}function Oit(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n?e.axis(i,n):e.axis(i,!1),a?e.axis(o,a):e.axis(o,!1),r}function Fit(r){mt(Sr("sectorStyle"),Ait,Mit,Eit,Iit,Oit,Tit,Ce,Jt,Wt,Ft,re(),Ra)(r)}var kit=Z({},wt.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rose",t}return e.getDefaultOptions=function(){return kit},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Fit},e})(wt);var $1="x",j1="y",V1="name",rh="nodes",nh="edges";function Pit(r,e,t){var n=[];return r.forEach(function(a){var i=a[e],o=a[t];n.includes(i)||n.push(i),n.includes(o)||n.push(o)}),n}function Rit(r,e,t,n){var a={};return e.forEach(function(i){a[i]={},e.forEach(function(o){a[i][o]=0})}),r.forEach(function(i){a[i[t]][i[n]]=1}),a}function Lit(r,e,t){if(!J(r))return[];var n=[],a=Pit(r,e,t),i=Rit(r,a,e,t),o={};a.forEach(function(s){o[s]=0});function l(s){o[s]=1,a.forEach(function(u){if(i[s][u]!=0)if(o[u]==1)n.push("".concat(s,"_").concat(u));else{if(o[u]==-1)return;l(u)}}),o[s]=-1}return a.forEach(function(s){o[s]!=-1&&l(s)}),n.length!==0&&console.warn("sankey data contains circle, ".concat(n.length," records removed."),n),r.filter(function(s){return n.findIndex(function(u){return u==="".concat(s[e],"_").concat(s[t])})<0})}function Dit(r){return r.target.depth}function _it(r){return r.depth}function Bit(r,e){return e-1-r.height}function qy(r,e){return r.sourceLinks.length?r.depth:e-1}function Nit(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?t8(r.sourceLinks,Dit)-1:0}function ku(r){return function(){return r}}function Ld(r,e){for(var t=0,n=0;n<r.length;n++)t+=e(r[n]);return t}function Dd(r,e){for(var t=-1/0,n=0;n<r.length;n++)t=Math.max(e(r[n]),t);return t}function $it(r,e){for(var t=1/0,n=0;n<r.length;n++)t=Math.min(e(r[n]),t);return t}function H1(r,e){return Lc(r.source,e.source)||r.index-e.index}function z1(r,e){return Lc(r.target,e.target)||r.index-e.index}function Lc(r,e){return r.y0-e.y0}function _d(r){return r.value}function jit(r){return r.index}function Vit(r){return r.nodes}function Hit(r){return r.links}function W1(r,e){var t=r.get(e);if(!t)throw new Error("missing: "+e);return t}function G1(r){for(var e=r.nodes,t=0,n=e;t<n.length;t++){for(var a=n[t],i=a.y0,o=i,l=0,s=a.sourceLinks;l<s.length;l++){var u=s[l];u.y0=i+u.width/2,i+=u.width}for(var c=0,f=a.targetLinks;c<f.length;c++){var u=f[c];u.y1=o+u.width/2,o+=u.width}}}function zit(){var r=0,e=0,t=1,n=1,a=24,i=8,o,l=jit,s=qy,u,c,f,h=Vit,d=Hit,p=6;function v(R){var D={nodes:h(R),links:d(R)};return g(D),y(D),m(D),b(D),S(D),G1(D),D}v.update=function(R){return G1(R),R},v.nodeId=function(R){return arguments.length?(l=typeof R=="function"?R:ku(R),v):l},v.nodeAlign=function(R){return arguments.length?(s=typeof R=="function"?R:ku(R),v):s},v.nodeDepth=function(R){return arguments.length?(u=R,v):u},v.nodeSort=function(R){return arguments.length?(c=R,v):c},v.nodeWidth=function(R){return arguments.length?(a=+R,v):a},v.nodePadding=function(R){return arguments.length?(i=o=+R,v):i},v.nodes=function(R){return arguments.length?(h=typeof R=="function"?R:ku(R),v):h},v.links=function(R){return arguments.length?(d=typeof R=="function"?R:ku(R),v):d},v.linkSort=function(R){return arguments.length?(f=R,v):f},v.size=function(R){return arguments.length?(r=e=0,t=+R[0],n=+R[1],v):[t-r,n-e]},v.extent=function(R){return arguments.length?(r=+R[0][0],t=+R[1][0],e=+R[0][1],n=+R[1][1],v):[[r,e],[t,n]]},v.iterations=function(R){return arguments.length?(p=+R,v):p};function g(R){var D=R.nodes,W=R.links;D.forEach(function(q,_){q.index=_,q.sourceLinks=[],q.targetLinks=[]});var V=new Map(D.map(function(q){return[l(q),q]}));if(W.forEach(function(q,_){q.index=_;var G=q.source,X=q.target;typeof G!="object"&&(G=q.source=W1(V,G)),typeof X!="object"&&(X=q.target=W1(V,X)),G.sourceLinks.push(q),X.targetLinks.push(q)}),f!=null)for(var B=0,P=D;B<P.length;B++){var $=P[B],z=$.sourceLinks,Y=$.targetLinks;z.sort(f),Y.sort(f)}}function y(R){for(var D=R.nodes,W=0,V=D;W<V.length;W++){var B=V[W];B.value=B.fixedValue===void 0?Math.max(Ld(B.sourceLinks,_d),Ld(B.targetLinks,_d)):B.fixedValue}}function m(R){for(var D=R.nodes,W=D.length,V=new Set(D),B=new Set,P=0;V.size;){if(V.forEach(function(q){q.depth=P;for(var _=0,G=q.sourceLinks;_<G.length;_++){var X=G[_].target;B.add(X)}}),++P>W)throw new Error("circular link");V=B,B=new Set}if(u)for(var $=Math.max(Dd(D,function(q){return q.depth})+1,0),z=void 0,Y=0;Y<D.length;Y++)z=D[Y],z.depth=u.call(null,z,$)}function b(R){for(var D=R.nodes,W=D.length,V=new Set(D),B=new Set,P=0;V.size;){if(V.forEach(function($){$.height=P;for(var z=0,Y=$.targetLinks;z<Y.length;z++){var q=Y[z].source;B.add(q)}}),++P>W)throw new Error("circular link");V=B,B=new Set}}function x(R){for(var D=R.nodes,W=Math.max(Dd(D,function(X){return X.depth})+1,0),V=(t-r-a)/(W-1),B=new Array(W).fill(0).map(function(){return[]}),P=0,$=D;P<$.length;P++){var z=$[P],Y=Math.max(0,Math.min(W-1,Math.floor(s.call(null,z,W))));z.layer=Y,z.x0=r+Y*V,z.x1=z.x0+a,B[Y]?B[Y].push(z):B[Y]=[z]}if(c)for(var q=0,_=B;q<_.length;q++){var G=_[q];G.sort(c)}return B}function w(R){for(var D=$it(R,function(K){return(n-e-(K.length-1)*o)/Ld(K,_d)}),W=0,V=R;W<V.length;W++){for(var B=V[W],P=e,$=0,z=B;$<z.length;$++){var Y=z[$];Y.y0=P,Y.y1=P+Y.value*D,P=Y.y1+o;for(var q=0,_=Y.sourceLinks;q<_.length;q++){var G=_[q];G.width=G.value*D}}P=(n-P+o)/(B.length+1);for(var X=0;X<B.length;++X){var Y=B[X];Y.y0+=P*(X+1),Y.y1+=P*(X+1)}k(B)}}function S(R){var D=x(R);o=Math.min(i,(n-e)/(Dd(D,function(P){return P.length})-1)),w(D);for(var W=0;W<p;++W){var V=Math.pow(.99,W),B=Math.max(1-V,(W+1)/p);T(D,V,B),C(D,V,B)}}function C(R,D,W){for(var V=1,B=R.length;V<B;++V){for(var P=R[V],$=0,z=P;$<z.length;$++){for(var Y=z[$],q=0,_=0,G=0,X=Y.targetLinks;G<X.length;G++){var K=X[G],tt=K.source,et=K.value,vt=et*(Y.layer-tt.layer);q+=L(tt,Y)*vt,_+=vt}if(_>0){var st=(q/_-Y.y0)*D;Y.y0+=st,Y.y1+=st,O(Y)}}c===void 0&&P.sort(Lc),P.length&&F(P,W)}}function T(R,D,W){for(var V=R.length,B=V-2;B>=0;--B){for(var P=R[B],$=0,z=P;$<z.length;$++){for(var Y=z[$],q=0,_=0,G=0,X=Y.sourceLinks;G<X.length;G++){var K=X[G],tt=K.target,et=K.value,vt=et*(tt.layer-Y.layer);q+=N(Y,tt)*vt,_+=vt}if(_>0){var st=(q/_-Y.y0)*D;Y.y0+=st,Y.y1+=st,O(Y)}}c===void 0&&P.sort(Lc),P.length&&F(P,W)}}function F(R,D){var W=R.length>>1,V=R[W];M(R,V.y0-o,W-1,D),I(R,V.y1+o,W+1,D),M(R,n,R.length-1,D),I(R,e,0,D)}function I(R,D,W,V){for(;W<R.length;++W){var B=R[W],P=(D-B.y0)*V;P>1e-6&&(B.y0+=P,B.y1+=P),D=B.y1+o}}function M(R,D,W,V){for(;W>=0;--W){var B=R[W],P=(B.y1-D)*V;P>1e-6&&(B.y0-=P,B.y1-=P),D=B.y0-o}}function O(R){var D=R.sourceLinks,W=R.targetLinks;if(f===void 0){for(var V=0,B=W;V<B.length;V++){var P=B[V].source.sourceLinks;P.sort(z1)}for(var $=0,z=D;$<z.length;$++){var Y=z[$].target.targetLinks;Y.sort(H1)}}}function k(R){if(f===void 0)for(var D=0,W=R;D<W.length;D++){var V=W[D],B=V.sourceLinks,P=V.targetLinks;B.sort(z1),P.sort(H1)}}function L(R,D){for(var W=R.y0-(R.sourceLinks.length-1)*o/2,V=0,B=R.sourceLinks;V<B.length;V++){var P=B[V],$=P.target,z=P.width;if($===D)break;W+=z+o}for(var Y=0,q=D.targetLinks;Y<q.length;Y++){var _=q[Y],$=_.source,z=_.width;if($===R)break;W-=z}return W}function N(R,D){for(var W=D.y0-(D.targetLinks.length-1)*o/2,V=0,B=D.targetLinks;V<B.length;V++){var P=B[V],$=P.source,z=P.width;if($===R)break;W+=z+o}for(var Y=0,q=R.sourceLinks;Y<q.length;Y++){var _=q[Y],$=_.target,z=_.width;if($===D)break;W-=z}return W}return v}var Wit={left:_it,right:Bit,center:Nit,justify:qy},Git={nodeId:function(r){return r.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function qit(r){var e=gt(r)?Wit[r]:ut(r)?r:null;return e||qy}function Yit(r){return zt({},Git,r)}function Uit(r,e){var t=Yit(r),n=t.nodeId,a=t.nodeSort,i=t.nodeAlign,o=t.nodeWidth,l=t.nodePadding,s=t.nodeDepth,u=zit().nodeSort(a).nodeWidth(o).nodePadding(l).nodeDepth(s).nodeAlign(qit(i)).extent([[0,0],[1,1]]).nodeId(n),c=u(e),f=c.nodes.map(function(d){var p=d.x0,v=d.x1,g=d.y0,y=d.y1;return d.x=[p,v,v,p],d.y=[g,g,y,y],d}).filter(function(d){return d.name!==null}),h=c.links.map(function(d){var p=d.source,v=d.target,g=p.x1,y=v.x0;d.x=[g,g,y,y];var m=d.width/2;return d.y=[d.y0+m,d.y0-m,d.y1+m,d.y1-m],d}).filter(function(d){var p=d.source,v=d.target;return p.name!==null&&v.name!==null});return{nodes:f,links:h}}function Xit(r){return r==="node-link"}function Kit(r,e,t){return xi(r)?r/t:e}function Zit(r,e,t){return xi(r)?r/t:e}function JM(r,e,t){var n=r.dataType,a=r.data,i=r.sourceField,o=r.targetField,l=r.weightField,s=r.nodeAlign,u=r.nodeSort,c=r.nodePadding,f=r.nodePaddingRatio,h=r.nodeWidth,d=r.nodeWidthRatio,p=r.nodeDepth,v=r.rawFields,g=v===void 0?[]:v,y;Xit(n)?y=a:y=uI(Lit(a,i,o),i,o,l,g);var m=Uit({nodeAlign:s,nodePadding:Zit(c,f,t),nodeWidth:Kit(h,d,e),nodeSort:u,nodeDepth:p},y),b=m.nodes,x=m.links;return{nodes:b.map(function(w){return E(E({},$t(w,pt(["x","y","name"],g,!0))),{isNode:!0})}),edges:x.map(function(w){return E(E({source:w.source.name,target:w.target.name,name:w.source.name||w.target.name},$t(w,pt(["x","y","value"],g,!0))),{isNode:!1})})}}function Qit(r){var e=r.options,t=e.rawFields,n=t===void 0?[]:t;return Z({},{options:{tooltip:{fields:pi(pt(["name","source","target","value","isNode"],n,!0))},label:{fields:pi(pt(["x","name"],n,!0))}}},r)}function Jit(r){var e=r.chart,t=r.options,n=t.color,a=t.nodeStyle,i=t.edgeStyle,o=t.label,l=t.tooltip,s=t.nodeState,u=t.edgeState,c=t.rawFields,f=c===void 0?[]:c;e.legend(!1),e.tooltip(l),e.axis(!1),e.coordinate().reflect("y");var h=JM(t,e.width,e.height),d=h.nodes,p=h.edges,v=e.createView({id:nh});v.data(p),xI({chart:v,options:{xField:$1,yField:j1,seriesField:V1,rawFields:pt(["source","target"],f,!0),edge:{color:n,style:i,shape:"arc"},tooltip:l,state:u}});var g=e.createView({id:rh});return g.data(d),Uf({chart:g,options:{xField:$1,yField:j1,seriesField:V1,polygon:{color:n,style:a},label:o,tooltip:l,state:s}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),r}function tot(r){var e=r.chart,t=r.options,n=t.animation,a=pt(pt([],e.views[0].geometries,!0),e.views[1].geometries,!0);return Os(e,n,a),r}function eot(r){var e=r.chart,t=r.options,n=t.nodeDraggable,a="sankey-node-draggable";return n?e.interaction(a):e.removeInteraction(a),r}function rot(r){var e=r.chart,t=r.options,n=t.interactions,a=n===void 0?[]:n,i=[].concat(a,t.nodeInteractions||[]),o=[].concat(a,t.edgeInteractions||[]),l=Ct(e,rh),s=Ct(e,nh);return i.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),r}function not(r){return mt(Qit,Jit,rot,eot,tot,Ft)(r)}var aot=function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDragging=!1,t}return e.prototype.isNodeElement=function(){var t=H(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Ct(this.context.view,rh)},e.prototype.getEdgeView=function(){return Ct(this.context.view,nh)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:H(this.context,"event.x"),y:H(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:H(this.context,"event.x"),y:H(this.context,"event.y")},a=n.x-this.prevPoint.x,i=n.y-this.prevPoint.y,o=this.getNodeView(),l=o.geometries[0].elements[this.currentElementIdx];if(l&&l.getModel()){var s=l.getModel().data,u=o.getOptions().data,c=o.getCoordinate(),f={x:a/c.getWidth(),y:i/c.getHeight()},h=E(E({},s),{x:s.x.map(function(y){return y+=f.x}),y:s.y.map(function(y){return y+=f.y})}),d=pt([],u,!0);d[this.currentElementIdx]=h,o.data(d);var p=s.name,v=this.getEdgeView(),g=v.getOptions().data;g.forEach(function(y){y.source===p&&(y.x[0]+=f.x,y.x[1]+=f.x,y.y[0]+=f.y,y.y[1]+=f.y),y.target===p&&(y.x[2]+=f.x,y.x[3]+=f.x,y.y[2]+=f.y,y.y[3]+=f.y)}),v.data(g),this.prevPoint=n,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(Xt);ht("sankey-node-drag",aot);bt("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(r){return r.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="sankey",t}return e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var n=t.name;return n},callback:function(t){var n=t[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!H(t,[0,"data","isNode"])},formatter:function(t){var n=t.source,a=t.target,i=t.value;return{name:n+" -> "+a,value:i}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var n=JM(this.options,this.chart.width,this.chart.height),a=n.nodes,i=n.edges,o=Ct(this.chart,rh),l=Ct(this.chart,nh);o.changeData(a),l.changeData(i)},e.prototype.getSchemaAdaptor=function(){return not},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e})(wt);var Yy="ancestor-node",tO="value",cs="path",iot=[cs,GM,Hy,qM,"name","depth","height"],oot=Z({},wt.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),lot={field:"value",size:[1,1],round:!1,padding:0,sort:function(r,e){return e.value-r.value},as:["x","y"],ignoreParentValue:!0};function sot(r,e){e=zt({},lot,e);var t=e.as;if(!J(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=zy(e)}catch(s){console.warn(s)}var a=function(s){return jM().size(e.size).round(e.round).padding(e.padding)(zo(s).sum(function(u){return Ie(u.children)?e.ignoreParentValue?0:u[n]-ze(u.children,function(c,f){return c+f[n]},0):u[n]}).sort(e.sort))},i=a(r),o=t[0],l=t[1];return i.each(function(s){var u,c;s[o]=[s.x0,s.x1,s.x1,s.x0],s[l]=[s.y1,s.y1,s.y0,s.y0],s.name=s.name||((u=s.data)===null||u===void 0?void 0:u.name)||((c=s.data)===null||c===void 0?void 0:c.label),s.data.name=s.name,["x0","x1","y0","y1"].forEach(function(f){t.indexOf(f)===-1&&delete s[f]})}),Wy(i)}var uot={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(r,e){return e.value-r.value},ratio:.5*(1+Math.sqrt(5))};function cot(r,e){return r==="treemapSquarify"?M1[r].ratio(e):M1[r]}function eO(r,e){e=zt({},uot,e);var t=e.as;if(!J(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=zy(e)}catch(u){console.warn(u)}var a=cot(e.tile,e.ratio),i=function(u){return WM().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(zo(u).sum(function(c){return e.ignoreParentValue&&c.children?0:c[n]}).sort(e.sort))},o=i(r),l=t[0],s=t[1];return o.each(function(u){u[l]=[u.x0,u.x1,u.x1,u.x0],u[s]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete u[c]})}),Wy(o)}function rO(r){var e=r.data,t=r.colorField,n=r.rawFields,a=r.hierarchyConfig,i=a===void 0?{}:a,o=i.activeDepth,l={partition:sot,treemap:eO},s=r.seriesField,u=r.type||"partition",c=l[u](e,E(E({field:s||"value"},sf(i,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),f=[];return c.forEach(function(h){var d,p,v,g,y,m;if(h.depth===0||o>0&&h.depth>o)return null;for(var b=h.data.name,x=E({},h);x.depth>1;)b="".concat((p=x.parent.data)===null||p===void 0?void 0:p.name," / ").concat(b),x=x.parent;var w=E(E(E({},$t(h.data,pt(pt([],n||[],!0),[i.field],!1))),(d={},d[cs]=b,d[Yy]=x.data.name,d)),h);s&&(w[s]=h.data[s]||((g=(v=h.parent)===null||v===void 0?void 0:v.data)===null||g===void 0?void 0:g[s])),t&&(w[t]=h.data[t]||((m=(y=h.parent)===null||y===void 0?void 0:y.data)===null||m===void 0?void 0:m[t])),w.ext=i,w[us]={hierarchyConfig:i,colorField:t,rawFields:n},f.push(w)}),f}function fot(r){var e=r.chart,t=r.options,n=t.color,a=t.colorField,i=a===void 0?Yy:a,o=t.sunburstStyle,l=t.rawFields,s=l===void 0?[]:l,u=t.shape,c=rO(t);e.data(c);var f;return o&&(f=function(h){return Z({},{fillOpacity:Math.pow(.85,h.depth)},ut(o)?o(h):o)}),Uf(Z({},r,{options:{xField:"x",yField:"y",seriesField:i,rawFields:pi(pt(pt([],iot,!0),s,!0)),polygon:{color:n,style:f,shape:u}}})),r}function hot(r){var e=r.chart;return e.axis(!1),r}function dot(r){var e=r.chart,t=r.options,n=t.label,a=Ne(e,"polygon");if(!n)a.label(!1);else{var i=n.fields,o=i===void 0?["name"]:i,l=n.callback,s=Ht(n,["fields","callback"]);a.label({fields:o,callback:l,cfg:Me(s)})}return r}function pot(r){var e=r.chart,t=r.options,n=t.innerRadius,a=t.radius,i=t.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:n,radius:a}});return i&&o.reflect(i),r}function vot(r){var e,t=r.options,n=t.hierarchyConfig,a=t.meta;return mt(se({},(e={},e[tO]=H(a,H(n,["field"],"value")),e)))(r)}function got(r){var e=r.chart,t=r.options,n=t.tooltip;if(n===!1)e.tooltip(!1);else{var a=n;H(n,"fields")||(a=Z({},{customItems:function(i){return i.map(function(o){var l=H(e.getOptions(),"scales"),s=H(l,[cs,"formatter"],function(c){return c}),u=H(l,[tO,"formatter"],function(c){return c});return E(E({},o),{name:s(o.data[cs]),value:u(o.data.value)})})}},a)),e.tooltip(a)}return r}function yot(r){var e=r.drilldown,t=r.interactions,n=t===void 0?[]:t;return e!=null&&e.enabled?Z({},r,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:rO}}],!1)}):r}function mot(r){var e=r.chart,t=r.options,n=t.drilldown;return Jt({chart:e,options:yot(t)}),n!=null&&n.enabled&&(e.appendPadding=zf(e.appendPadding,H(n,["breadCrumb","position"]))),r}function xot(r){return mt(Ft,Sr("sunburstStyle"),fot,hot,vot,$o,pot,got,dot,mot,Wt,re())(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="sunburst",t}return e.getDefaultOptions=function(){return oot},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xot},e.SUNBURST_ANCESTOR_FIELD=Yy,e.SUNBURST_PATH_FIELD=cs,e.NODE_ANCESTORS_FIELD=Hy,e})(wt);function nO(r,e){if(J(r))return r.find(function(t){return t.type===e})}function aO(r,e){var t=nO(r,e);return t&&t.enable!==!1}function Uy(r){var e=r.interactions,t=r.drilldown;return H(t,"enabled")||aO(e,"treemap-drill-down")}function bot(r){var e=r.interactions["drill-down"];if(e){var t=e.context.actions.find(function(n){return n.name==="drill-down-action"});t.reset()}}function Xy(r){var e=r.data,t=r.colorField,n=r.enableDrillDown,a=r.hierarchyConfig,i=eO(e,E(E({},a),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return i.forEach(function(l){if(l.depth===0||n&&l.depth!==1||!n&&l.children)return null;var s=l.ancestors().map(function(h){return{data:h.data,height:h.height,value:h.value}}),u=n&&J(e.path)?s.concat(e.path.slice(1)):s,c=Object.assign({},l.data,E({x:l.x,y:l.y,depth:l.depth,value:l.value,path:u},l));if(!l.data[t]&&l.parent){var f=l.ancestors().find(function(h){return h.data[t]});c[t]=f==null?void 0:f.data[t]}else c[t]=l.data[t];c[us]={hierarchyConfig:a,colorField:t,enableDrillDown:n},o.push(c)}),o}function wot(r){var e=r.options,t=e.colorField;return Z({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},r)}function Sot(r){var e=r.chart,t=r.options,n=t.color,a=t.colorField,i=t.rectStyle,o=t.hierarchyConfig,l=t.rawFields,s=Xy({data:t.data,colorField:t.colorField,enableDrillDown:Uy(t),hierarchyConfig:o});return e.data(s),Uf(Z({},r,{options:{xField:"x",yField:"y",seriesField:a,rawFields:l,polygon:{color:n,style:i}}})),e.coordinate().reflect("y"),r}function Cot(r){var e=r.chart;return e.axis(!1),r}function Aot(r){var e=r.drilldown,t=r.interactions,n=t===void 0?[]:t,a=Uy(r);return a?Z({},r,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:Xy}}],!1)}):r}function Eot(r){var e=r.chart,t=r.options,n=t.interactions,a=t.drilldown;Jt({chart:e,options:Aot(t)});var i=nO(n,"view-zoom");i&&(i.enable!==!1?e.getCanvas().on("mousewheel",function(l){l.preventDefault()}):e.getCanvas().off("mousewheel"));var o=Uy(t);return o&&(e.appendPadding=zf(e.appendPadding,H(a,["breadCrumb","position"]))),r}function Tot(r){return mt(wot,Ft,Sr("rectStyle"),Sot,Cot,$o,Ce,Eot,Wt,re())(r)}var Iot={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="treemap",t}return e.getDefaultOptions=function(){return Iot},e.prototype.changeData=function(t){var n=this.options,a=n.colorField,i=n.interactions,o=n.hierarchyConfig;this.updateOption({data:t});var l=Xy({data:t,colorField:a,enableDrillDown:aO(i,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(l),bot(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Tot},e})(wt);var Nn="id",Bv="path",Mot={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(r){return{name:r.id,value:r.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function ah(r){if(r){var e=r.geometries[0].elements;e.forEach(function(t){t.shape.toFront()})}}var Oot=Df("element-active"),Fot=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){ah(this.context.view)},e.prototype.active=function(){r.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(Oot),kot=Df("element-highlight"),Pot=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){ah(this.context.view)},e.prototype.highlight=function(){r.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){r.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(kot),Rot=Df("element-selected"),Lot=Df("element-single-selected"),Dot=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){ah(this.context.view)},e.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(Rot),_ot=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){ah(this.context.view)},e.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(Lot);ht("venn-element-active",Fot);ht("venn-element-highlight",Pot);ht("venn-element-selected",Dot);ht("venn-element-single-selected",_ot);bt("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]});bt("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]});bt("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]});bt("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]});bt("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]});bt("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var Bot=function(r){U(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelPoint=function(t,n,a){var i=t.data,o=i.x,l=i.y,s=t.customLabelInfo,u=s.offsetX,c=s.offsetY;return{content:t.content[a],x:o+u,y:l+c}},e}($f);Ts("venn",Bot);var Fl=`	
\v\f\r   ᠎             　\u2028\u2029`,Not=new RegExp("([a-z])["+Fl+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fl+"]*,?["+Fl+"]*)+)","ig"),$ot=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fl+"]*,?["+Fl+"]*","ig");function jot(r){if(!r)return null;if(kl(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(Not,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace($ot,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=e[l]&&(t.push([a].concat(o.splice(0,e[l]))),!!e[l]););return""}),t}function Vot(r){return Z({},r.defaultStyle,{fill:r.color},r.style)}Bt("schema","venn",{draw:function(r,e){var t=r.data,n=jot(t[Bv]),a=Vot(r),i=e.addGroup({name:"venn-shape"});i.addShape("path",{attrs:E(E({},a),{path:n}),name:"venn-path"});var o=r.customInfo,l=o.offsetX,s=o.offsetY,u=or.transform(null,[["t",l,s]]);return i.setMatrix(u),i},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var Hot=function(r){return function(e,t){var n=[];return n[0]=r(e[0],t[0]),n[1]=r(e[1],t[1]),n[2]=r(e[2],t[2]),n}},q1={normal:function(r){return r},multiply:function(r,e){return r*e/255},screen:function(r,e){return 255*(1-(1-r/255)*(1-e/255))},overlay:function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},darken:function(r,e){return r>e?e:r},lighten:function(r,e){return r>e?r:e},dodge:function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)},burn:function(r,e){return e===255?255:r===0?0:255*(1-Math.min(1,(1-e/255)/(r/255)))}},zot=function(r){if(!q1[r])throw new Error("unknown blend mode "+r);return q1[r]};function Wot(r,e,t){t===void 0&&(t="normal");var n=Hot(zot(t))(Pu(r),Pu(e)),a=Pu(r),i=a[0],o=a[1],l=a[2],s=a[3],u=Pu(e),c=u[0],f=u[1],h=u[2],d=u[3],p=Number((s+d*(1-s)).toFixed(2)),v=Math.round((s*(1-d)*(i/255)+s*d*(n[0]/255)+(1-s)*d*(c/255))/p*255),g=Math.round((s*(1-d)*(o/255)+s*d*(n[1]/255)+(1-s)*d*(f/255))/p*255),y=Math.round((s*(1-d)*(l/255)+s*d*(n[2]/255)+(1-s)*d*(h/255))/p*255);return"rgba(".concat(v,", ").concat(g,", ").concat(y,", ").concat(p,")")}function Pu(r){var e=r.replace("/s+/g",""),t;return typeof e=="string"&&!e.startsWith("rgba")&&!e.startsWith("#")?t=pa.rgb2arr(pa.toRGB(e)).concat([1]):(e.startsWith("rgba")&&(t=e.replace("rgba(","").replace(")","").split(",")),e.startsWith("#")&&(t=pa.rgb2arr(e).concat([1])),t.map(function(n,a){return a===3?Number(n):n|0}))}function Got(r,e,t,n){n=n||{};var a=n.maxIterations||100,i=n.tolerance||1e-10,o=r(e),l=r(t),s=t-e;if(o*l>0)throw"Initial bisect points must have opposite signs";if(o===0)return e;if(l===0)return t;for(var u=0;u<a;++u){s/=2;var c=e+s,f=r(c);if(f*o>=0&&(e=c),Math.abs(s)<i||f===0)return c}return e+s}function Nv(r){for(var e=new Array(r),t=0;t<r;++t)e[t]=0;return e}function Y1(r,e){return Nv(r).map(function(){return Nv(e)})}function ao(r,e){for(var t=0,n=0;n<r.length;++n)t+=r[n]*e[n];return t}function $v(r){return Math.sqrt(ao(r,r))}function jv(r,e,t){for(var n=0;n<e.length;++n)r[n]=e[n]*t}function kn(r,e,t,n,a){for(var i=0;i<r.length;++i)r[i]=e*t[i]+n*a[i]}function iO(r,e,t){t=t||{};var n=t.maxIterations||e.length*200,a=t.nonZeroDelta||1.05,i=t.zeroDelta||.001,o=t.minErrorDelta||1e-6,l=t.minErrorDelta||1e-5,s=t.rho!==void 0?t.rho:1,u=t.chi!==void 0?t.chi:2,c=t.psi!==void 0?t.psi:-.5,f=t.sigma!==void 0?t.sigma:.5,h,d=e.length,p=new Array(d+1);p[0]=e,p[0].fx=r(e),p[0].id=0;for(var v=0;v<d;++v){var g=e.slice();g[v]=g[v]?g[v]*a:i,p[v+1]=g,p[v+1].fx=r(g),p[v+1].id=v+1}function y(O){for(var k=0;k<O.length;k++)p[d][k]=O[k];p[d].fx=O.fx}for(var m=function(O,k){return O.fx-k.fx},b=e.slice(),x=e.slice(),w=e.slice(),S=e.slice(),C=0;C<n;++C){if(p.sort(m),t.history){var T=p.map(function(O){var k=O.slice();return k.fx=O.fx,k.id=O.id,k});T.sort(function(O,k){return O.id-k.id}),t.history.push({x:p[0].slice(),fx:p[0].fx,simplex:T})}for(h=0,v=0;v<d;++v)h=Math.max(h,Math.abs(p[0][v]-p[1][v]));if(Math.abs(p[0].fx-p[d].fx)<o&&h<l)break;for(v=0;v<d;++v){b[v]=0;for(var F=0;F<d;++F)b[v]+=p[F][v];b[v]/=d}var I=p[d];if(kn(x,1+s,b,-s,I),x.fx=r(x),x.fx<p[0].fx)kn(S,1+u,b,-u,I),S.fx=r(S),S.fx<x.fx?y(S):y(x);else if(x.fx>=p[d-1].fx){var M=!1;if(x.fx>I.fx?(kn(w,1+c,b,-c,I),w.fx=r(w),w.fx<I.fx?y(w):M=!0):(kn(w,1-c*s,b,c*s,I),w.fx=r(w),w.fx<x.fx?y(w):M=!0),M){if(f>=1)break;for(v=1;v<p.length;++v)kn(p[v],1-f,p[0],f,p[v]),p[v].fx=r(p[v])}}else y(x)}return p.sort(m),{fx:p[0].fx,x:p[0]}}function qot(r,e,t,n,a,i,o){var l=t.fx,s=ao(t.fxprime,e),u=l,c=l,f=s,h=0;a=a||1,i=i||1e-6,o=o||.1;function d(v,g,y){for(var m=0;m<16;++m)if(a=(v+g)/2,kn(n.x,1,t.x,a,e),u=n.fx=r(n.x,n.fxprime),f=ao(n.fxprime,e),u>l+i*a*s||u>=y)g=a;else{if(Math.abs(f)<=-o*s)return a;f*(g-v)>=0&&(g=v),v=a,y=u}return 0}for(var p=0;p<10;++p){if(kn(n.x,1,t.x,a,e),u=n.fx=r(n.x,n.fxprime),f=ao(n.fxprime,e),u>l+i*a*s||p&&u>=c)return d(h,a,c);if(Math.abs(f)<=-o*s)return a;if(f>=0)return d(a,h,u);c=u,h=a,a*=2}return a}function Yot(r,e,t){var n={x:e.slice(),fx:0,fxprime:e.slice()},a={x:e.slice(),fx:0,fxprime:e.slice()},i=e.slice(),o,l,s=1,u;t=t||{},u=t.maxIterations||e.length*20,n.fx=r(n.x,n.fxprime),o=n.fxprime.slice(),jv(o,n.fxprime,-1);for(var c=0;c<u;++c){if(s=qot(r,o,n,a,s),t.history&&t.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:s}),!s)jv(o,n.fxprime,-1);else{kn(i,1,a.fxprime,-1,n.fxprime);var f=ao(n.fxprime,n.fxprime),h=Math.max(0,ao(i,a.fxprime)/f);kn(o,h,o,-1,a.fxprime),l=n,n=a,a=l}if($v(n.fxprime)<=1e-5)break}return t.history&&t.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:s}),n}var oO=1e-10;function Ky(r,e){var t=Xot(r),n=t.filter(function(C){return Uot(C,r)}),a=0,i=0,o,l=[];if(n.length>1){var s=uO(n);for(o=0;o<n.length;++o){var u=n[o];u.angle=Math.atan2(u.x-s.x,u.y-s.y)}n.sort(function(C,T){return T.angle-C.angle});var c=n[n.length-1];for(o=0;o<n.length;++o){var f=n[o];i+=(c.x+f.x)*(f.y-c.y);for(var h={x:(f.x+c.x)/2,y:(f.y+c.y)/2},d=null,p=0;p<f.parentIndex.length;++p)if(c.parentIndex.indexOf(f.parentIndex[p])>-1){var v=r[f.parentIndex[p]],g=Math.atan2(f.x-v.x,f.y-v.y),y=Math.atan2(c.x-v.x,c.y-v.y),m=y-g;m<0&&(m+=2*Math.PI);var b=y-m/2,x=Ur(h,{x:v.x+v.radius*Math.sin(b),y:v.y+v.radius*Math.cos(b)});x>v.radius*2&&(x=v.radius*2),(d===null||d.width>x)&&(d={circle:v,width:x,p1:f,p2:c})}d!==null&&(l.push(d),a+=Vv(d.circle.radius,d.width),c=f)}}else{var w=r[0];for(o=1;o<r.length;++o)r[o].radius<w.radius&&(w=r[o]);var S=!1;for(o=0;o<r.length;++o)if(Ur(r[o],w)>Math.abs(w.radius-r[o].radius)){S=!0;break}S?a=i=0:(a=w.radius*w.radius*Math.PI,l.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-oO,y:w.y+w.radius},width:w.radius*2}))}return i/=2,e&&(e.area=a+i,e.arcArea=a,e.polygonArea=i,e.arcs=l,e.innerPoints=n,e.intersectionPoints=t),a+i}function Uot(r,e){for(var t=0;t<e.length;++t)if(Ur(r,e[t])>e[t].radius+oO)return!1;return!0}function Xot(r){for(var e=[],t=0;t<r.length;++t)for(var n=t+1;n<r.length;++n)for(var a=sO(r[t],r[n]),i=0;i<a.length;++i){var o=a[i];o.parentIndex=[t,n],e.push(o)}return e}function Vv(r,e){return r*r*Math.acos(1-e/r)-(r-e)*Math.sqrt(e*(2*r-e))}function Ur(r,e){return Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y))}function lO(r,e,t){if(t>=r+e)return 0;if(t<=Math.abs(r-e))return Math.PI*Math.min(r,e)*Math.min(r,e);var n=r-(t*t-e*e+r*r)/(2*t),a=e-(t*t-r*r+e*e)/(2*t);return Vv(r,n)+Vv(e,a)}function sO(r,e){var t=Ur(r,e),n=r.radius,a=e.radius;if(t>=n+a||t<=Math.abs(n-a))return[];var i=(n*n-a*a+t*t)/(2*t),o=Math.sqrt(n*n-i*i),l=r.x+i*(e.x-r.x)/t,s=r.y+i*(e.y-r.y)/t,u=-(e.y-r.y)*(o/t),c=-(e.x-r.x)*(o/t);return[{x:l+u,y:s-c},{x:l-u,y:s+c}]}function uO(r){for(var e={x:0,y:0},t=0;t<r.length;++t)e.x+=r[t].x,e.y+=r[t].y;return e.x/=r.length,e.y/=r.length,e}function Bd(r,e,t){var n=e[0].radius-Ur(e[0],r),a,i;for(a=1;a<e.length;++a)i=e[a].radius-Ur(e[a],r),i<=n&&(n=i);for(a=0;a<t.length;++a)i=Ur(t[a],r)-t[a].radius,i<=n&&(n=i);return n}function cO(r,e){var t=[],n;for(n=0;n<r.length;++n){var a=r[n];t.push({x:a.x,y:a.y}),t.push({x:a.x+a.radius/2,y:a.y}),t.push({x:a.x-a.radius/2,y:a.y}),t.push({x:a.x,y:a.y+a.radius/2}),t.push({x:a.x,y:a.y-a.radius/2})}var i=t[0],o=Bd(t[0],r,e);for(n=1;n<t.length;++n){var l=Bd(t[n],r,e);l>=o&&(i=t[n],o=l)}var s=iO(function(h){return-1*Bd({x:h[0],y:h[1]},r,e)},[i.x,i.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:s[0],y:s[1]},c=!0;for(n=0;n<r.length;++n)if(Ur(u,r[n])>r[n].radius){c=!1;break}for(n=0;n<e.length;++n)if(Ur(u,e[n])<e[n].radius){c=!1;break}if(!c)if(r.length==1)u={x:r[0].x,y:r[0].y};else{var f={};Ky(r,f),f.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:f.arcs.length==1?u={x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?u=cO(r,[]):u=uO(f.arcs.map(function(h){return h.p1}))}return u}function Kot(r){var e={},t=[];for(var n in r)t.push(n),e[n]=[];for(var a=0;a<t.length;a++)for(var i=r[t[a]],o=a+1;o<t.length;++o){var l=r[t[o]],s=Ur(i,l);s+l.radius<=i.radius+1e-10?e[t[o]].push(t[a]):s+i.radius<=l.radius+1e-10&&e[t[a]].push(t[o])}return e}function Zot(r,e){for(var t={},n=Kot(r),a=0;a<e.length;++a){for(var i=e[a].sets,o={},l={},s=0;s<i.length;++s){o[i[s]]=!0;for(var u=n[i[s]],c=0;c<u.length;++c)l[u[c]]=!0}var f=[],h=[];for(var d in r)d in o?f.push(r[d]):d in l||h.push(r[d]);var p=cO(f,h);t[i]=p,p.disjoint&&e[a].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return t}function Qot(r,e,t){var n=[],a=r-t,i=e;return n.push("M",a,i),n.push("A",t,t,0,1,0,a+2*t,i),n.push("A",t,t,0,1,0,a,i),n.join(" ")}function Jot(r){var e={};Ky(r,e);var t=e.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var n=t[0].circle;return Qot(n.x,n.y,n.radius)}else{for(var a=[`
M`,t[0].p2.x,t[0].p2.y],i=0;i<t.length;++i){var o=t[i],l=o.circle.radius,s=o.width>l;a.push(`
A`,l,l,0,s?1:0,1,o.p1.x,o.p1.y)}return a.join(" ")}}function tlt(r,e){e=e||{},e.maxIterations=e.maxIterations||500;var t=e.initialLayout||alt,n=e.lossFunction||Zy;r=elt(r);var a=t(r,e),i=[],o=[],l;for(l in a)a.hasOwnProperty(l)&&(i.push(a[l].x),i.push(a[l].y),o.push(l));for(var s=iO(function(f){for(var h={},d=0;d<o.length;++d){var p=o[d];h[p]={x:f[2*d],y:f[2*d+1],radius:a[p].radius}}return n(h,r)},i,e),u=s.x,c=0;c<o.length;++c)l=o[c],a[l].x=u[2*c],a[l].y=u[2*c+1];return a}var fO=1e-10;function Hv(r,e,t){return Math.min(r,e)*Math.min(r,e)*Math.PI<=t+fO?Math.abs(r-e):Got(function(n){return lO(r,e,n)-t},0,r+e)}function elt(r){r=r.slice();var e=[],t={},n,a,i,o;for(n=0;n<r.length;++n){var l=r[n];l.sets.length==1?e.push(l.sets[0]):l.sets.length==2&&(i=l.sets[0],o=l.sets[1],t[[i,o]]=!0,t[[o,i]]=!0)}for(e.sort(function(s,u){return s>u?1:-1}),n=0;n<e.length;++n)for(i=e[n],a=n+1;a<e.length;++a)o=e[a],[i,o]in t||r.push({sets:[i,o],size:0});return r}function rlt(r,e,t){var n=Y1(e.length,e.length),a=Y1(e.length,e.length);return r.filter(function(i){return i.sets.length==2}).map(function(i){var o=t[i.sets[0]],l=t[i.sets[1]],s=Math.sqrt(e[o].size/Math.PI),u=Math.sqrt(e[l].size/Math.PI),c=Hv(s,u,i.size);n[o][l]=n[l][o]=c;var f=0;i.size+1e-10>=Math.min(e[o].size,e[l].size)?f=1:i.size<=1e-10&&(f=-1),a[o][l]=a[l][o]=f}),{distances:n,constraints:a}}function nlt(r,e,t,n){var a=0,i;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<t.length;++i)for(var o=r[2*i],l=r[2*i+1],s=i+1;s<t.length;++s){var u=r[2*s],c=r[2*s+1],f=t[i][s],h=n[i][s],d=(u-o)*(u-o)+(c-l)*(c-l),p=Math.sqrt(d),v=d-f*f;h>0&&p<=f||h<0&&p>=f||(a+=2*v*v,e[2*i]+=4*v*(o-u),e[2*i+1]+=4*v*(l-c),e[2*s]+=4*v*(u-o),e[2*s+1]+=4*v*(c-l))}return a}function alt(r,e){var t=olt(r,e),n=e.lossFunction||Zy;if(r.length>=8){var a=ilt(r,e),i=n(a,r),o=n(t,r);i+1e-8<o&&(t=a)}return t}function ilt(r,e){e=e||{};var t=e.restarts||10,n=[],a={},i;for(i=0;i<r.length;++i){var o=r[i];o.sets.length==1&&(a[o.sets[0]]=n.length,n.push(o))}var l=rlt(r,n,a),s=l.distances,u=l.constraints,c=$v(s.map($v))/s.length;s=s.map(function(m){return m.map(function(b){return b/c})});var f=function(m,b){return nlt(m,b,s,u)},h,d;for(i=0;i<t;++i){var p=Nv(s.length*2).map(Math.random);d=Yot(f,p,e),(!h||d.fx<h.fx)&&(h=d)}var v=h.x,g={};for(i=0;i<n.length;++i){var y=n[i];g[y.sets[0]]={x:v[2*i]*c,y:v[2*i+1]*c,radius:Math.sqrt(y.size/Math.PI)}}if(e.history)for(i=0;i<e.history.length;++i)jv(e.history[i].x,c);return g}function olt(r,e){for(var t=e&&e.lossFunction?e.lossFunction:Zy,n={},a={},i,o=0;o<r.length;++o){var l=r[o];l.sets.length==1&&(i=l.sets[0],n[i]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:l.size,radius:Math.sqrt(l.size/Math.PI)},a[i]=[])}r=r.filter(function(R){return R.sets.length==2});for(var o=0;o<r.length;++o){var s=r[o],u=s.hasOwnProperty("weight")?s.weight:1,c=s.sets[0],f=s.sets[1];s.size+fO>=Math.min(n[c].size,n[f].size)&&(u=0),a[c].push({set:f,size:s.size,weight:u}),a[f].push({set:c,size:s.size,weight:u})}var h=[];for(i in a)if(a.hasOwnProperty(i)){for(var d=0,o=0;o<a[i].length;++o)d+=a[i][o].size*a[i][o].weight;h.push({set:i,size:d})}function p(R,D){return D.size-R.size}h.sort(p);var v={};function g(R){return R.set in v}function y(R,D){n[D].x=R.x,n[D].y=R.y,v[D]=!0}y({x:0,y:0},h[0].set);for(var o=1;o<h.length;++o){var m=h[o].set,b=a[m].filter(g);if(i=n[m],b.sort(p),b.length===0)throw"ERROR: missing pairwise overlap information";for(var x=[],w=0;w<b.length;++w){var S=n[b[w].set],C=Hv(i.radius,S.radius,b[w].size);x.push({x:S.x+C,y:S.y}),x.push({x:S.x-C,y:S.y}),x.push({y:S.y+C,x:S.x}),x.push({y:S.y-C,x:S.x});for(var T=w+1;T<b.length;++T)for(var F=n[b[T].set],I=Hv(i.radius,F.radius,b[T].size),M=sO({x:S.x,y:S.y,radius:C},{x:F.x,y:F.y,radius:I}),O=0;O<M.length;++O)x.push(M[O])}for(var k=1e50,L=x[0],w=0;w<x.length;++w){n[m].x=x[w].x,n[m].y=x[w].y;var N=t(n,r);N<k&&(k=N,L=x[w])}y(L,m)}return n}function Zy(r,e){var t=0;function n(c){return c.map(function(f){return r[f]})}for(var a=0;a<e.length;++a){var i=e[a],o=void 0;if(i.sets.length!=1){if(i.sets.length==2){var l=r[i.sets[0]],s=r[i.sets[1]];o=lO(l.radius,s.radius,Ur(l,s))}else o=Ky(n(i.sets));var u=i.hasOwnProperty("weight")?i.weight:1;t+=u*(o-i.size)*(o-i.size)}}return t}function llt(r){var e=function(t){var n=Math.max.apply(null,r.map(function(i){return i[t]+i.radius})),a=Math.min.apply(null,r.map(function(i){return i[t]-i.radius}));return{max:n,min:a}};return{xRange:e("x"),yRange:e("y")}}function slt(r,e,t,n){var a=[],i=[];for(var o in r)r.hasOwnProperty(o)&&(i.push(o),a.push(r[o]));e-=2*n,t-=2*n;var l=llt(a),s=l.xRange,u=l.yRange;if(s.max==s.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),r;for(var c=e/(s.max-s.min),f=t/(u.max-u.min),h=Math.min(f,c),d=(e-(s.max-s.min)*h)/2,p=(t-(u.max-u.min)*h)/2,v={},g=0;g<a.length;++g){var y=a[g];v[i[g]]={radius:h*y.radius,x:n+d+(y.x-s.min)*h,y:n+p+(y.y-u.min)*h}}return v}var ult=Lo(function(r,e,t,n){var a=new Map,i=r.length;return e.forEach(function(o,l){if(o[n].length===1)a.set(o[Nn],r[(l+i)%i]);else{var s=o[n].map(function(u){return a.get(u)});a.set(o[Nn],s.slice(1).reduce(function(u,c){return Wot(u,c,t)},s[0]))}}),a},function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return JSON.stringify(r)});function clt(r,e,t,n){n===void 0&&(n=0);var a=r.data,i=r.setsField,o=r.sizeField;if(a.length===0)return Hn(Jr.WARN,!1,"warn: %s","数据不能为空"),[];var l=a.map(function(f){var h;return E(E({},f),(h={sets:f[i]||[],size:f[o]},h[Bv]="",h[Nn]="",h))});l.sort(function(f,h){return f.sets.length-h.sets.length});var s=tlt(l),u=slt(s,e,t,n),c=Zot(u,l);return l.forEach(function(f){var h=f.sets,d=h.join(",");f[Nn]=d;var p=h.map(function(y){return u[y]}),v=Jot(p);/[zZ]$/.test(v)||(v+=" Z"),f[Bv]=v;var g=c[d]||{x:0,y:0};zt(f,g)}),l}function flt(r,e){for(var t=0;t<e.length;t++)if(!r.includes(e[t]))return!1;return!0}var hlt=40;function hO(r,e,t){var n=r.chart,a=r.options,i=a.blendMode,o=a.setsField,l=n.getTheme(),s=l.colors10,u=l.colors20,c=t;J(c)||(c=e.filter(function(h){return h[o].length===1}).length<=10?s:u);var f=ult(c,e,i,o);return function(h){return f.get(h)||c[0]}}function dlt(r,e){var t=r.options,n=t.color;if(typeof n!="function"){var a=typeof n=="string"?[n]:n,i=hO(r,e,a);return function(o){return i(o[Nn])}}return n}function plt(r){var e=r.chart,t=r.options,n=t.legend,a=t.appendPadding,i=t.padding,o=Aa(a);return n!==!1&&(o=zf(a,H(n,"position"),hlt)),e.appendPadding=My([o,i]),r}function vlt(r){var e=r.options,t=e.data;t||(Hn(Jr.WARN,!1,"warn: %s","数据不能为空"),t=[]);var n=t.filter(function(i){return i.sets.length===1}).map(function(i){return i.sets[0]}),a=t.filter(function(i){var o=i.sets;return flt(n,o)});return le(a,t)||Hn(Jr.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),lt({},r,{options:{data:a}})}function glt(r){var e=r.chart,t=r.options,n=t.pointStyle,a=t.setsField,i=t.sizeField,o=Aa(e.appendPadding),l=o[0],s=o[1],u=o[2],c=o[3],f={offsetX:c,offsetY:l},h=e.viewBBox,d=h.width,p=h.height,v=clt(t,Math.max(d-(s+c),0),Math.max(p-(l+u),0),0);e.data(v);var g=Ry(Z({},r,{options:{xField:"x",yField:"y",sizeField:i,seriesField:Nn,rawFields:[a,i],schema:{shape:"venn",style:n}}})).ext,y=g.geometry;y.customInfo(f);var m=dlt(r,v);return typeof m=="function"&&y.color(Nn,function(b){var x=v.find(function(S){return S[Nn]===b}),w=hO(r,v)(b);return m(x,w)}),r}function ylt(r){var e=r.chart,t=r.options,n=t.label,a=Aa(e.appendPadding),i=a[0],o=a[3],l={offsetX:o,offsetY:i},s=Ne(e,"schema");if(!n)s.label(!1);else{var u=n.callback,c=Ht(n,["callback"]);s.label({fields:["id"],callback:u,cfg:lt({},Me(c),{type:"venn",customLabelInfo:l})})}return r}function mlt(r){var e=r.chart,t=r.options,n=t.legend,a=t.sizeField;return e.legend(Nn,n),e.legend(a,!1),r}function xlt(r){var e=r.chart;return e.axis(!1),r}function blt(r){var e=r.options,t=r.chart,n=e.interactions;if(n){var a={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Jt(Z({},r,{options:{interactions:n.map(function(i){return E(E({},i),{type:a[i.type]||i.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),r}function wlt(r){return mt(plt,Ft,vlt,glt,ylt,se({}),mlt,xlt,Ce,blt,Wt)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="venn",t}return e.getDefaultOptions=function(){return Mot},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wlt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e})(wt);var kr="x",ti="violinY",Slt="violinSize",dO="minMax",pO="quantile",vO="median",Qy="violin_view",Clt="min_max_view",Alt="quantile_view",Elt="median_view",Tlt=Z({},wt.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),gO={exports:{}},yO={exports:{}};(function(r){var e=r.exports;r.exports.isNumber=function(t){return typeof t=="number"},r.exports.findMin=function(t){if(t.length===0)return 1/0;for(var n=t[0],a=1;a<t.length;a++)n=Math.min(n,t[a]);return n},r.exports.findMax=function(t){if(t.length===0)return-1/0;for(var n=t[0],a=1;a<t.length;a++)n=Math.max(n,t[a]);return n},r.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),a=1;a<t.length;a++)n=Math.min(n,e.findMin(t[a]));return n},r.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),a=1;a<t.length;a++)n=Math.max(n,e.findMax(t[a]));return n},r.exports.inside=function(t,n,a){return t<=a&&a<=n}})(yO);var Ilt=yO.exports;(function(r){var e=50,t=2,n=Math.log(2),a=r.exports,i=Ilt;function o(s){return 1-Math.abs(s)}r.exports.getUnifiedMinMax=function(s,u){return a.getUnifiedMinMaxMulti([s],u)},r.exports.getUnifiedMinMaxMulti=function(s,u){u=u||{};var c=!1,f=!1,h=i.isNumber(u.width)?u.width:t,d=i.isNumber(u.size)?u.size:e,p=i.isNumber(u.min)?u.min:(c=!0,i.findMinMulti(s)),v=i.isNumber(u.max)?u.max:(f=!0,i.findMaxMulti(s)),g=v-p,y=g/(d-1);return c&&(p=p-2*h*y),f&&(v=v+2*h*y),{min:p,max:v}},r.exports.create=function(s,u){if(u=u||{},!s||s.length===0)return[];var c=i.isNumber(u.size)?u.size:e,f=i.isNumber(u.width)?u.width:t,h=a.getUnifiedMinMax(s,{size:c,width:f,min:u.min,max:u.max}),d=h.min,p=h.max,v=p-d,g=v/(c-1);if(v===0)return[{x:d,y:1}];for(var y=[],m=0;m<c;m++)y.push({x:d+m*g,y:0});var b=function(M){return Math.floor((M-d)/g)},x=l(o,f),w=x[f],S=x[f-1]-x[f-2],C=0;s.forEach(function(M){var O=b(M);if(!(O+f<0||O-f>=y.length)){var k=Math.max(O-f,0),L=O,N=Math.min(O+f,y.length-1),R=k-(O-f),D=O+f-N,W=x[-f-1+R]||0,V=x[-f-1+D]||0,B=w/(w-W-V);R>0&&(C+=B*(R-1)*S);var P=Math.max(0,O-f+1);i.inside(0,y.length-1,P)&&(y[P].y+=B*1*S),i.inside(0,y.length-1,L+1)&&(y[L+1].y-=B*2*S),i.inside(0,y.length-1,N+1)&&(y[N+1].y+=B*1*S)}});var T=C,F=0,I=0;return y.forEach(function(M){F+=M.y,T+=F,M.y=T,I+=T}),I>0&&y.forEach(function(M){M.y/=I}),y};function l(s,u){for(var c={},f=0,h=-u;h<=u;h++)f+=s(h/u),c[h]=f;return c}r.exports.getExpectedValueFromPdf=function(s){if(!(!s||s.length===0)){var u=0;return s.forEach(function(c){u+=c.x*c.y}),u}},r.exports.getXWithLeftTailArea=function(s,u){if(!(!s||s.length===0)){for(var c=0,f=0,h=0;h<s.length&&(f=h,c+=s[h].y,!(c>=u));h++);return s[f].x}},r.exports.getPerplexity=function(s){if(!(!s||s.length===0)){var u=0;return s.forEach(function(c){var f=Math.log(c.y);isFinite(f)&&(u+=c.y*f)}),u=-u/n,Math.pow(2,u)}}})(gO);var Mlt=gO.exports;const Olt=_c(Mlt);function U1(r,e){var t=r.length*e;if(r.length===0)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return e===1?r[r.length-1]:e===0?r[0]:t%1!==0?r[Math.ceil(t)-1]:r.length%2===0?(r[t-1]+r[t])/2:r[t]}function el(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function Yu(r,e,t,n){for(t=t||0,n=n||r.length-1;n>t;){if(n-t>600){var a=n-t+1,i=e-t+1,o=Math.log(a),l=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*l*(a-l)/a);i-a/2<0&&(s*=-1);var u=Math.max(t,Math.floor(e-i*l/a+s)),c=Math.min(n,Math.floor(e+(a-i)*l/a+s));Yu(r,e,u,c)}var f=r[e],h=t,d=n;for(el(r,t,e),r[n]>f&&el(r,t,n);h<d;){for(el(r,h,d),h++,d--;r[h]<f;)h++;for(;r[d]>f;)d--}r[t]===f?el(r,t,d):(d++,el(r,d,n)),d<=e&&(t=d+1),e<=d&&(n=d-1)}}function rl(r,e){var t=r.slice();if(Array.isArray(e)){Flt(t,e);for(var n=[],a=0;a<e.length;a++)n[a]=U1(t,e[a]);return n}else{var i=xO(t.length,e);return mO(t,i,0,t.length-1),U1(t,e)}}function mO(r,e,t,n){e%1===0?Yu(r,e,t,n):(e=Math.floor(e),Yu(r,e,t,n),Yu(r,e+1,e+1,n))}function Flt(r,e){for(var t=[0],n=0;n<e.length;n++)t.push(xO(r.length,e[n]));t.push(r.length-1),t.sort(klt);for(var a=[0,t.length-1];a.length;){var i=Math.ceil(a.pop()),o=Math.floor(a.pop());if(!(i-o<=1)){var l=Math.floor((o+i)/2);mO(r,t[l],Math.floor(t[o]),Math.ceil(t[i])),a.push(o,l,l,i)}}}function klt(r,e){return r-e}function xO(r,e){var t=r*e;return e===1?r-1:e===0?0:t%1!==0?Math.ceil(t)-1:r%2===0?t-.5:t}var X1=function(r){return{low:Lr(r),high:yr(r),q1:rl(r,.25),q3:rl(r,.75),median:rl(r,[.5]),minMax:[Lr(r),yr(r)],quantile:[rl(r,.25),rl(r,.75)]}},K1=function(r,e){var t=Olt.create(r,e);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},bO=function(r){var e=r.xField,t=r.yField,n=r.seriesField,a=r.data,i=r.kde,o={min:i.min,max:i.max,size:i.sampleSize,width:i.width};if(!n){var l=dr(a,e);return Object.keys(l).map(function(c){var f=l[c],h=f.map(function(d){return d[t]});return E(E({x:c},K1(h,o)),X1(h))})}var s=[],u=dr(a,n);return Object.keys(u).forEach(function(c){var f=dr(u[c],e);return Object.keys(f).forEach(function(h){var d,p=f[h],v=p.map(function(g){return g[t]});s.push(E(E((d={x:h},d[n]=c,d),K1(v,o)),X1(v)))})}),s},Uu=["low","high","q1","q3","median"],Xu=[{type:"dodge",marginRatio:1/32}];function Plt(r){var e=r.chart,t=r.options;return e.data(bO(t)),r}function Rlt(r){var e=r.chart,t=r.options,n=t.seriesField,a=t.color,i=t.shape,o=i===void 0?"violin":i,l=t.violinStyle,s=t.tooltip,u=t.state,c=e.createView({id:Qy});return cJ({chart:c,options:{xField:kr,yField:ti,seriesField:n||kr,sizeField:Slt,tooltip:E({fields:Uu},s),violin:{style:l,color:a,shape:o},state:u}}),c.geometries[0].adjust(Xu),r}function Llt(r){var e=r.chart,t=r.options,n=t.seriesField,a=t.color,i=t.tooltip,o=t.box;if(o===!1)return r;var l=e.createView({id:Clt});$e({chart:l,options:{xField:kr,yField:dO,seriesField:n||kr,tooltip:E({fields:Uu},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:1,style:{lineWidth:0}}}}),l.geometries[0].adjust(Xu);var s=e.createView({id:Alt});$e({chart:s,options:{xField:kr,yField:pO,seriesField:n||kr,tooltip:E({fields:Uu},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(Xu);var u=e.createView({id:Elt});return Cr({chart:u,options:{xField:kr,yField:vO,seriesField:n||kr,tooltip:E({fields:Uu},i),state:typeof o=="object"?o.state:{},point:{color:a,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(Xu),s.axis(!1),l.axis(!1),u.axis(!1),u.legend(!1),l.legend(!1),s.legend(!1),r}function Dlt(r){var e,t=r.chart,n=r.options,a=n.meta,i=n.xAxis,o=n.yAxis,l={},s=Z(l,a,(e={},e[kr]=E(E({sync:!0},$t(i,rr)),{type:"cat"}),e[ti]=E({sync:!0},$t(o,rr)),e[dO]=E({sync:ti},$t(o,rr)),e[pO]=E({sync:ti},$t(o,rr)),e[vO]=E({sync:ti},$t(o,rr)),e));return t.scale(s),r}function _lt(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=Ct(e,Qy);return n===!1?i.axis(kr,!1):i.axis(kr,n),a===!1?i.axis(ti,!1):i.axis(ti,a),e.axis(!1),r}function Blt(r){var e=r.chart,t=r.options,n=t.legend,a=t.seriesField,i=t.shape;if(n===!1)e.legend(!1);else{var o=a||kr,l=sf(n,["selected"]);(!i||!i.startsWith("hollow"))&&(H(l,["marker","style","lineWidth"])||ye(l,["marker","style","lineWidth"],0)),e.legend(o,l),H(n,"selected")&&j(e.views,function(s){return s.legend(o,n)})}return r}function Nlt(r){var e=r.chart,t=Ct(e,Qy);return re()(E(E({},r),{chart:t})),r}function $lt(r){var e=r.chart,t=r.options,n=t.animation;return j(e.views,function(a){Os(a,n)}),r}function jlt(r){return mt(Ft,Plt,Rlt,Llt,Dlt,Ce,_lt,Blt,Jt,Nlt,$lt)(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t}return e.getDefaultOptions=function(){return Tlt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(bO(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jlt},e})(wt);var Pr="$$yField$$",ih="$$diffField$$",Jy="$$absoluteField$$",zv="$$isTotal$$",Vlt={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function Hlt(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(n){var a=t===0?"M":"L";e.push([a,n.x,n.y])}}var i=r[0];return e.push(["L",i.x,i.y]),e.push(["z"]),e}function zlt(r){return Z({},r.defaultStyle,r.style,{fill:r.color})}Bt("interval","waterfall",{draw:function(r,e){var t=r.customInfo,n=r.points,a=r.nextPoints,i=e.addGroup(),o=this.parsePath(Hlt(n)),l=zlt(r);i.addShape("path",{attrs:E(E({},l),{path:o})});var s=H(t,"leaderLine");if(s&&a){var u=[["M",n[2].x,n[2].y],["L",a[0].x,a[0].y]];n[2].y===a[1].y&&(u[1]=["L",a[1].x,a[1].y]),u=this.parsePath(u),i.addShape("path",{attrs:E({path:u},s.style||{})})}return i}});function Wlt(r,e,t,n,a){var i,o=[];if(ze(r,function(s,u){var c;Hn(Jr.WARN,xt(u[t]),"".concat(u[t]," is not a valid number"));var f=Xa(u[t])?null:u[t];return o.push(E(E({},u),(c={},c[n]=[s,s+f],c))),s+f},0),o.length&&a){var l=H(o,[[r.length-1],n,[1]]);o.push((i={},i[e]=a.label,i[t]=l,i[n]=[0,l],i))}return o}function wO(r,e,t,n){var a=Wlt(r,e,t,Pr,n);return a.map(function(i,o){var l;return jt(i)?E(E({},i),(l={},l[Jy]=i[Pr][1],l[ih]=i[Pr][1]-i[Pr][0],l[zv]=o===r.length,l)):i})}function Glt(r){var e=r.options,t=e.locale,n=e.total,a=qf(t).get(["waterfall","total"]);return n&&typeof n.label!="string"&&a&&(r.options.total.label=a),r}function qlt(r){var e=r.chart,t=r.options,n=t.data,a=t.xField,i=t.yField,o=t.total,l=t.leaderLine,s=t.columnWidthRatio,u=t.waterfallStyle,c=t.risingFill,f=t.fallingFill,h=t.color,d=t.shape,p=t.customInfo;e.data(wO(n,a,i,o));var v=h||function(b){return H(b,[zv])?H(o,["style","fill"],""):H(b,[Pr,1])-H(b,[Pr,0])>0?c:f},g=Z({},r,{options:{xField:a,yField:Pr,seriesField:a,rawFields:[i,ih,zv,Pr],widthRatio:s,interval:{style:u,shape:d||"waterfall",color:v}}}),y=$e(g).ext,m=y.geometry;return m.customInfo(E(E({},p),{leaderLine:l})),r}function Ylt(r){var e,t,n=r.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.meta,u=Z({},{alias:l},H(s,l));return mt(se((e={},e[o]=a,e[l]=i,e[Pr]=i,e),Z({},s,(t={},t[Pr]=u,t[ih]=u,t[Jy]=u,t))))(r)}function Ult(r){var e=r.chart,t=r.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?e.axis(i,!1):e.axis(i,n),a===!1?(e.axis(o,!1),e.axis(Pr,!1)):(e.axis(o,a),e.axis(Pr,a)),r}function Xlt(r){var e=r.chart,t=r.options,n=t.legend,a=t.total,i=t.risingFill,o=t.fallingFill,l=t.locale,s=qf(l);if(n===!1)e.legend(!1);else{var u=[{name:s.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:i}}},{name:s.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];a&&u.push({name:a.label||"",value:"total",marker:{symbol:"square",style:Z({},{r:5},H(a,"style"))}}),e.legend(Z({},{custom:!0,position:"top",items:u},n)),e.removeInteraction("legend-filter")}return r}function Klt(r){var e=r.chart,t=r.options,n=t.label,a=t.labelMode,i=t.xField,o=Ne(e,"interval");if(!n)o.label(!1);else{var l=n.callback,s=Ht(n,["callback"]);o.label({fields:a==="absolute"?[Jy,i]:[ih,i],callback:l,cfg:Me(s)})}return r}function Zlt(r){var e=r.chart,t=r.options,n=t.tooltip,a=t.xField,i=t.yField;if(n!==!1){e.tooltip(E({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[i]},n));var o=e.geometries[0];n!=null&&n.formatter?o.tooltip("".concat(a,"*").concat(i),n.formatter):o.tooltip(i)}else e.tooltip(!1);return r}function Qlt(r){return mt(Glt,Ft,qlt,Ylt,Ult,Xlt,Zlt,Klt,Ra,Jt,Wt,re())(r)}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="waterfall",t}return e.getDefaultOptions=function(){return Vlt},e.prototype.changeData=function(t){var n=this.options,a=n.xField,i=n.yField,o=n.total;this.updateOption({data:t}),this.chart.changeData(wO(t,a,i,o))},e.prototype.getSchemaAdaptor=function(){return Qlt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e})(wt);var tm="color",Jlt=Z({},wt.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",tm],formatter:function(r){return{name:r.text,value:r.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),tst={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function est(r,e){return e=zt({},tst,e),rst(r,e)}function rst(r,e){var t=vst();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(s){Q(e[s])||t[s](e[s])}),t.words(r),e.imageMask&&t.createMask(e.imageMask);var n=t.start(),a=n._tags;a.forEach(function(s){s.x+=e.size[0]/2,s.y+=e.size[1]/2});var i=e.size,o=i[0],l=i[1];return a.push({text:"",value:0,x:0,y:0,opacity:0}),a.push({text:"",value:0,x:o,y:l,opacity:0}),a}var Nd=Math.PI/180,vl=64,Ku=2048;function nst(r){return r.text}function ast(){return"serif"}function Z1(){return"normal"}function ist(r){return r.value}function ost(){return~~(Math.random()*2)*90}function lst(){return 1}function sst(r,e,t,n){if(!e.sprite){var a=r.context,i=r.ratio;a.clearRect(0,0,(vl<<5)/i,Ku/i);var o=0,l=0,s=0,u=t.length;for(--n;++n<u;){e=t[n],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var c=a.measureText(e.text+"m").width*i,f=e.size<<1;if(e.rotate){var h=Math.sin(e.rotate*Nd),d=Math.cos(e.rotate*Nd),p=c*d,v=c*h,g=f*d,y=f*h;c=Math.max(Math.abs(p+y),Math.abs(p-y))+31>>5<<5,f=~~Math.max(Math.abs(v+g),Math.abs(v-g))}else c=c+31>>5<<5;if(f>s&&(s=f),o+c>=vl<<5&&(o=0,l+=s,s=0),l+f>=Ku)break;a.translate((o+(c>>1))/i,(l+(f>>1))/i),e.rotate&&a.rotate(e.rotate*Nd),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=c,e.height=f,e.xoff=o,e.yoff=l,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var m=a.getImageData(0,0,(vl<<5)/i,Ku/i).data,b=[];--n>=0;)if(e=t[n],!!e.hasText){for(var c=e.width,x=c>>5,f=e.y1-e.y0,w=0;w<f*x;w++)b[w]=0;if(o=e.xoff,o==null)return;l=e.yoff;for(var S=0,C=-1,T=0;T<f;T++){for(var w=0;w<c;w++){var F=x*T+(w>>5),I=m[(l+T)*(vl<<5)+(o+w)<<2]?1<<31-w%32:0;b[F]|=I,S|=I}S?C=T:(e.y0++,f--,T--,l++)}e.y1=e.y0+C,e.sprite=b.slice(0,(e.y1-e.y0)*x)}}}function ust(r,e,t){t>>=5;for(var n=r.sprite,a=r.width>>5,i=r.x-(a<<4),o=i&127,l=32-o,s=r.y1-r.y0,u=(r.y+r.y0)*t+(i>>5),c,f=0;f<s;f++){c=0;for(var h=0;h<=a;h++)if((c<<l|(h<a?(c=n[f*a+h])>>>o:0))&e[u+h])return!0;u+=t}return!1}function cst(r,e){var t=r[0],n=r[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function fst(r,e){return r.x+r.x1>e[0].x&&r.x+r.x0<e[1].x&&r.y+r.y1>e[0].y&&r.y+r.y0<e[1].y}function SO(r){var e=r[0]/r[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function hst(r){var e=4,t=e*r[0]/r[1],n=0,a=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:n+=t;break;case 1:a+=e;break;case 2:n-=t;break;default:a-=e;break}return[n,a]}}function Q1(r){for(var e=[],t=-1;++t<r;)e[t]=0;return e}function dst(){return document.createElement("canvas")}function cn(r){return ut(r)?r:function(){return r}}var pst={archimedean:SO,rectangular:hst};function vst(){var r=[256,256],e=ast,t=ist,n=Z1,a=ost,i=lst,o=SO,l=Math.random,s=[],u=1/0,c=nst,f=Z1,h=dst,d={};d.start=function(){var g=r[0],y=r[1],m=p(h()),b=d.board?d.board:Q1((r[0]>>5)*r[1]),x=s.length,w=[],S=s.map(function(I,M,O){return I.text=c.call(this,I,M,O),I.font=e.call(this,I,M,O),I.style=f.call(this,I,M,O),I.weight=n.call(this,I,M,O),I.rotate=a.call(this,I,M,O),I.size=~~t.call(this,I,M,O),I.padding=i.call(this,I,M,O),I}).sort(function(I,M){return M.size-I.size}),C=-1,T=d.board?[{x:0,y:0},{x:g,y}]:null;F();function F(){for(var I=Date.now();Date.now()-I<u&&++C<x;){var M=S[C];M.x=g*(l()+.5)>>1,M.y=y*(l()+.5)>>1,sst(m,M,S,C),M.hasText&&v(b,M,T)&&(w.push(M),T?d.hasImage||cst(T,M):T=[{x:M.x+M.x0,y:M.y+M.y0},{x:M.x+M.x1,y:M.y+M.y1}],M.x-=r[0]>>1,M.y-=r[1]>>1)}d._tags=w,d._bounds=T}return d};function p(g){g.width=g.height=1;var y=Math.sqrt(g.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);g.width=(vl<<5)/y,g.height=Ku/y;var m=g.getContext("2d",{willReadFrequently:!0});return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:y}}function v(g,y,m){for(var b=y.x,x=y.y,w=Math.sqrt(r[0]*r[0]+r[1]*r[1]),S=o(r),C=l()<.5?1:-1,T,F=-C,I,M;(T=S(F+=C))&&(I=~~T[0],M=~~T[1],!(Math.min(Math.abs(I),Math.abs(M))>=w));)if(y.x=b+I,y.y=x+M,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>r[0]||y.y+y.y1>r[1])&&(!m||!ust(y,g,r[0]))&&(!m||fst(y,m))){for(var O=y.sprite,k=y.width>>5,L=r[0]>>5,N=y.x-(k<<4),R=N&127,D=32-R,W=y.y1-y.y0,V=void 0,B=(y.y+y.y0)*L+(N>>5),P=0;P<W;P++){V=0;for(var $=0;$<=k;$++)g[B+$]|=V<<D|($<k?(V=O[P*k+$])>>>R:0);B+=L}return delete y.sprite,!0}return!1}return d.createMask=function(g){var y=document.createElement("canvas"),m=r[0],b=r[1];if(!(!m||!b)){var x=m>>5,w=Q1((m>>5)*b);y.width=m,y.height=b;var S=y.getContext("2d");S.drawImage(g,0,0,g.width,g.height,0,0,m,b);for(var C=S.getImageData(0,0,m,b).data,T=0;T<b;T++)for(var F=0;F<m;F++){var I=x*T+(F>>5),M=T*m+F<<2,O=C[M]>=250&&C[M+1]>=250&&C[M+2]>=250,k=O?1<<31-F%32:0;w[I]|=k}d.board=w,d.hasImage=!0}},d.timeInterval=function(g){u=g??1/0},d.words=function(g){s=g},d.size=function(g){r=[+g[0],+g[1]]},d.font=function(g){e=cn(g)},d.fontWeight=function(g){n=cn(g)},d.rotate=function(g){a=cn(g)},d.spiral=function(g){o=pst[g]||g},d.fontSize=function(g){t=cn(g)},d.padding=function(g){i=cn(g)},d.random=function(g){l=cn(g)},d}function CO(r){var e=r.options,t=r.chart,n=t,a=n.width,i=n.height,o=n.padding,l=n.appendPadding,s=n.ele,u=e.data,c=e.imageMask,f=e.wordField,h=e.weightField,d=e.colorField,p=e.wordStyle,v=e.timeInterval,g=e.random,y=e.spiral,m=e.autoFit,b=m===void 0?!0:m,x=e.placementStrategy;if(!u||!u.length)return[];var w=p.fontFamily,S=p.fontWeight,C=p.padding,T=p.fontSize,F=bst(u,h),I=[Cst(F),Ast(F)],M=u.map(function(L){return{text:L[f],value:L[h],color:L[d],datum:L}}),O={imageMask:c,font:w,fontSize:xst(T,I),fontWeight:S,size:gst({width:a,height:i,padding:o,appendPadding:l,autoFit:b,container:s}),padding:C,timeInterval:v,random:g,spiral:y,rotate:wst(e)};if(ut(x)){var k=M.map(function(L,N,R){return E(E(E({},L),{hasText:!!L.text,font:cn(O.font)(L,N,R),weight:cn(O.fontWeight)(L,N,R),rotate:cn(O.rotate)(L,N,R),size:cn(O.fontSize)(L,N,R),style:"normal"}),x.call(t,L,N,R))});return k.push({text:"",value:0,x:0,y:0,opacity:0}),k.push({text:"",value:0,x:O.size[0],y:O.size[1],opacity:0}),k}return est(M,O)}function gst(r){var e=r.width,t=r.height,n=r.container,a=r.autoFit,i=r.padding,o=r.appendPadding;if(a){var l=Ov(n);e=l.width,t=l.height}e=e||400,t=t||400;var s=yst({padding:i,appendPadding:o}),u=s[0],c=s[1],f=s[2],h=s[3],d=[e-(h+c),t-(u+f)];return d}function yst(r){var e=Aa(r.padding),t=Aa(r.appendPadding),n=e[0]+t[0],a=e[1]+t[1],i=e[2]+t[2],o=e[3]+t[3];return[n,a,i,o]}function mst(r){return new Promise(function(e,t){if(r instanceof HTMLImageElement){e(r);return}if(gt(r)){var n=new Image;n.crossOrigin="anonymous",n.src=r,n.onload=function(){e(n)},n.onerror=function(){Hn(Jr.ERROR,!1,"image %s load failed !!!",r),t()};return}Hn(Jr.WARN,r===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function xst(r,e){if(ut(r))return r;if(J(r)){var t=r[0],n=r[1];if(!e)return function(){return(n+t)/2};var a=e[0],i=e[1];return i===a?function(){return(n+t)/2}:function(l){var s=l.value;return(n-t)/(i-a)*(s-a)+t}}return function(){return r}}function bst(r,e){return r.map(function(t){return t[e]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function wst(r){var e=Sst(r),t=e.rotation,n=e.rotationSteps;if(!J(t))return t;var a=t[0],i=t[1],o=n===1?0:(i-a)/(n-1);return function(){return i===a?i:Math.floor(Math.random()*n)*o}}function Sst(r){var e=r.wordStyle.rotationSteps;return e<1&&(Hn(Jr.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:r.wordStyle.rotation,rotationSteps:e}}function Cst(r){return Math.min.apply(Math,r)}function Ast(r){return Math.max.apply(Math,r)}function Est(r){var e=r.chart,t=r.options,n=t.colorField,a=t.color,i=CO(r);e.data(i);var o=Z({},r,{options:{xField:"x",yField:"y",seriesField:n&&tm,rawFields:ut(a)&&pt(pt([],H(t,"rawFields",[]),!0),["datum"],!1),point:{color:a,shape:"word-cloud"}}}),l=Cr(o).ext;return l.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),r}function Tst(r){return mt(se({x:{nice:!1},y:{nice:!1}}))(r)}function Ist(r){var e=r.chart,t=r.options,n=t.legend,a=t.colorField;return n===!1?e.legend(!1):a&&e.legend(tm,n),r}function Mst(r){mt(Est,Tst,Ce,Ist,Jt,Wt,Ft,Ra)(r)}Bt("point","word-cloud",{draw:function(r,e){var t=r.x,n=r.y,a=e.addShape("text",{attrs:E(E({},Ost(r)),{x:t,y:n})}),i=r.data.rotate;return typeof i=="number"&&or.rotate(a,i*Math.PI/180),a}});function Ost(r){return{fontSize:r.data.size,text:r.data.text,textAlign:"center",fontFamily:r.data.font,fontWeight:r.data.weight,fill:r.color||r.defaultStyle.stroke,textBaseline:"alphabetic"}}(function(r){U(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="word-cloud",t}return e.getDefaultOptions=function(){return Jlt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(CO({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var t=this;return new Promise(function(n){var a=t.options.imageMask;if(!a){r.prototype.render.call(t),n();return}var i=function(o){t.options=E(E({},t.options),{imageMask:o||null}),r.prototype.render.call(t),n()};mst(a).then(i).catch(i)})},e.prototype.getSchemaAdaptor=function(){return Mst},e.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){r.prototype.triggerResize.call(t)}))},e})(wt);(function(r){U(e,r);function e(t,n,a,i){var o=r.call(this,t,Z({},i,n))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=a,o}return e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e})(wt);mI("en-US",lJ);mI("zh-CN",sJ);var Wv=function(){return Wv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Wv.apply(this,arguments)};const Fst=window.ReactDOM;var Ds=Wv({},Fst),kst=Ds.version,Pst=Ds.render;Ds.unmountComponentAtNode;var em;try{var Rst=Number((kst||"").split(".")[0]);Rst>=18&&(em=Ds.createRoot)}catch{}function J1(r){var e=Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&typeof e=="object"&&(e.usingClientEntryPoint=r)}var tS="__rc_react_root__";function Lst(r,e){J1(!0);var t=e[tS]||em(e);J1(!1),t.render(r),e[tS]=t}function Dst(r,e){Pst(r,e)}function _st(r,e){if(em){Lst(r,e);return}Dst(r,e)}var $d=new Map,Bst=function(r,e,t){var n=document.createElement("div");return e==="tooltip"&&(n.setAttribute("data-uuid",t),$d.has(t)?n=$d.get(t):$d.set(t,n),n.className="g2-tooltip"),_st(r,n),n},Ru=function(r,e){var t={}.toString;return t.call(r)==="[object ".concat(e,"]")},Nst=function(r){if(!r)return r;var e={};for(var t in r)e[t]=r[t];return e},Dc=function(r){if(!r||typeof r!="object")return r;var e;return Array.isArray(r)?e=r.map(function(t){return Dc(t)}):(e={},Object.keys(r).forEach(function(t){return e[t]=Dc(r[t])})),e},nl=function(r,e){for(var t=r,n=0;n<e.length;n+=1)if(t!=null&&t[e[n]])t=t[e[n]];else{t=void 0;break}return t},$st=function(r,e,t){if(!r)return r;var n=r;return e.forEach(function(a,i){i<e.length-1?n=n[a]:n[a]=t}),r},jst=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16)})},La=function(r,e){r&&(ut(r)?r(e):r.current=e)},Gv=function(){return Gv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Gv.apply(this,arguments)},eS=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const jd=window.React.useRef,rS=window.React.useEffect;function Da(r,e){var t=jd(),n=jd(),a=jd(null),i=e.onReady,o=e.onEvent,l=function(f,h){var d;return f===void 0&&(f="image/png"),(d=t.current)===null||d===void 0?void 0:d.chart.canvas.cfg.el.toDataURL(f,h)},s=function(f,h,d){var p;f===void 0&&(f="download"),h===void 0&&(h="image/png");var v=f;f.indexOf(".")===-1&&(v="".concat(f,".").concat(h.split("/")[1]));var g=(p=t.current)===null||p===void 0?void 0:p.chart.canvas.cfg.el.toDataURL(h,d),y=document.createElement("a");return y.href=g,y.download=v,document.body.appendChild(y),y.click(),document.body.removeChild(y),y=null,v},u=function(f,h,d,p){var v=nl(f,h);$st(f,h,function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var m=Ru(v,"Function")?v.apply(void 0,g):v;return Ru(m,"String")||Ru(m,"Number")||Ru(m,"HTMLDivElement")?m:Bst(m,d,p)})},c=function(){var f=jst();nl(e,["statistic","content","customHtml"])&&u(e,["statistic","content","customHtml"]),nl(e,["statistic","title","customHtml"])&&u(e,["statistic","title","customHtml"]),typeof e.tooltip=="object"&&(nl(e,["tooltip","container"])&&u(e,["tooltip","container"],"tooltip",f),nl(e,["tooltip","customContent"])&&u(e,["tooltip","customContent"],"tooltip",f))};return rS(function(){if(t.current&&!le(n.current,e)){var f=!1;if(n.current){var h=n.current;h.data,h.value,h.percent;var d=eS(h,["data","value","percent"]);e.data,e.value,e.percent;var p=eS(e,["data","value","percent"]);f=le(d,p)}if(n.current=Dc(e),f&&H(e,"chartType")!=="Mix"){var v="data",g=["percent"],y=Object.keys(e);g.forEach(function(m){y.includes(m)&&(v=m)}),t.current.changeData((e==null?void 0:e[v])||[]),t.current.render()}else c(),t.current.update(e)}},[e]),rS(function(){if(!a.current)return function(){return null};n.current||(n.current=Dc(e)),c();var f=new r(a.current,Gv({},e));f.toDataURL=function(d,p){return l(d,p)},f.downloadImage=function(d,p,v){return s(d,p,v)},f.render(),t.current=Nst(f),i&&i(f);var h=function(d){o&&o(f,d)};return f.on("*",h),function(){t.current&&(t.current.destroy(),t.current.off("*",h),t.current=void 0)}},[]),{chart:t,container:a}}var Vst=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();const Vd=window.React,Hst=window.React.Fragment;var zst=function(r){Vst(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(n){var a=t.props.errorTemplate;switch(n){default:return typeof a=="function"?a(n):a||Vd.createElement("h5",null,"组件出错了，请核查后重试： ",n.message)}},t}return e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,n){return n.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Vd.createElement(Hst,null,this.props.children)},e}(Vd.Component);const _a=zst,xe=window.React.createElement;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ya=function(){return ya=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ya.apply(this,arguments)};function Wst(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}var Gst=function(){return Math.random().toString(36).substring(6)},AO=function(r){var e=r.animate,t=r.backgroundColor,n=r.backgroundOpacity,a=r.baseUrl,i=r.children,o=r.foregroundColor,l=r.foregroundOpacity,s=r.gradientRatio,u=r.uniqueKey,c=r.interval,f=r.rtl,h=r.speed,d=r.style,p=r.title,v=Wst(r,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=u||Gst(),y=g+"-diff",m=g+"-animated-diff",b=g+"-aria",x=f?{transform:"scaleX(-1)"}:null,w="0; "+c+"; 1",S=h+"s";return xe("svg",ya({"aria-labelledby":b,role:"img",style:ya(ya({},d),x)},v),p?xe("title",{id:b},p):null,xe("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+a+"#"+y+")",style:{fill:"url("+a+"#"+m+")"}}),xe("defs",{role:"presentation"},xe("clipPath",{id:y},i),xe("linearGradient",{id:m},xe("stop",{offset:"0%",stopColor:t,stopOpacity:n},e&&xe("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:w,dur:S,repeatCount:"indefinite"})),xe("stop",{offset:"50%",stopColor:o,stopOpacity:l},e&&xe("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:w,dur:S,repeatCount:"indefinite"})),xe("stop",{offset:"100%",stopColor:t,stopOpacity:n},e&&xe("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:w,dur:S,repeatCount:"indefinite"})))))};AO.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var EO=function(r){return r.children?xe(AO,ya({},r)):xe(qst,ya({},r))},qst=function(r){return xe(EO,ya({viewBox:"0 0 476 124"},r),xe("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),xe("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),xe("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),xe("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),xe("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),xe("circle",{cx:"20",cy:"20",r:"20"}))};const Yst=EO,Mr=window.React;var Ust=function(r){var e=r.loadingTemplate,t=r.theme,n=t===void 0?"light":t,a=function(){return e||Mr.createElement(Yst,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:n==="dark"?"#262626":"#D9D9D9"},Mr.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),Mr.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),Mr.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),Mr.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),Mr.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),Mr.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),Mr.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),Mr.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),Mr.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),Mr.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return Mr.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:n==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},a())};const Ba=Ust;var Xst=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Hd=window.React,Kst=window.React.useEffect,Zst=window.React.useImperativeHandle,Qst=window.React.forwardRef;var Jst=Qst(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=Xst(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(PI,u),f=c.chart,h=c.container;return Kst(function(){La(t,f.current)},[f.current]),Zst(e,function(){return{getChart:function(){return f.current}}}),Hd.createElement(_a,{errorTemplate:s},o&&Hd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Hd.createElement("div",{className:i,style:a,ref:h}))});const tut=Jst;var eut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const zd=window.React,rut=window.React.useEffect,nut=window.React.useImperativeHandle,aut=window.React.forwardRef;var iut=aut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=eut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(RI,u),f=c.chart,h=c.container;return rut(function(){La(t,f.current)},[f.current]),nut(e,function(){return{getChart:function(){return f.current}}}),zd.createElement(_a,{errorTemplate:s},o&&zd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),zd.createElement("div",{className:i,style:a,ref:h}))});const out=iut;var lut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Wd=window.React,sut=window.React.useEffect,uut=window.React.useImperativeHandle,cut=window.React.forwardRef;var fut=cut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=lut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(KI,u),f=c.chart,h=c.container;return sut(function(){La(t,f.current)},[f.current]),uut(e,function(){return{getChart:function(){return f.current}}}),Wd.createElement(_a,{errorTemplate:s},o&&Wd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Wd.createElement("div",{className:i,style:a,ref:h}))});const hut=fut;var dut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Gd=window.React,put=window.React.useEffect,vut=window.React.useImperativeHandle,gut=window.React.forwardRef;var yut=gut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=dut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(rM,u),f=c.chart,h=c.container;return put(function(){La(t,f.current)},[f.current]),vut(e,function(){return{getChart:function(){return f.current}}}),Gd.createElement(_a,{errorTemplate:s},o&&Gd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Gd.createElement("div",{className:i,style:a,ref:h}))});const mut=yut;var xut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const qd=window.React,but=window.React.useEffect,wut=window.React.useImperativeHandle,Sut=window.React.forwardRef;var Cut=Sut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=xut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(oM,u),f=c.chart,h=c.container;return but(function(){La(t,f.current)},[f.current]),wut(e,function(){return{getChart:function(){return f.current}}}),qd.createElement(_a,{errorTemplate:s},o&&qd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),qd.createElement("div",{className:i,style:a,ref:h}))});const Aut=Cut;var Eut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Yd=window.React,Tut=window.React.useEffect,Iut=window.React.useImperativeHandle,Mut=window.React.forwardRef;var Out=Mut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=Eut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(uM,u),f=c.chart,h=c.container;return Tut(function(){La(t,f.current)},[f.current]),Iut(e,function(){return{getChart:function(){return f.current}}}),Yd.createElement(_a,{errorTemplate:s},o&&Yd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Yd.createElement("div",{className:i,style:a,ref:h}))});const Fut=Out;var kut=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Ud=window.React,Put=window.React.useEffect,Rut=window.React.useImperativeHandle,Lut=window.React.forwardRef;var Dut=Lut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=kut(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(wM,u),f=c.chart,h=c.container;return Put(function(){La(t,f.current)},[f.current]),Rut(e,function(){return{getChart:function(){return f.current}}}),Ud.createElement(_a,{errorTemplate:s},o&&Ud.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Ud.createElement("div",{className:i,style:a,ref:h}))});const _ut=Dut;var But=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Xd=window.React,Nut=window.React.useEffect,$ut=window.React.useImperativeHandle,jut=window.React.forwardRef;var Vut=jut(function(r,e){var t=r.chartRef,n=r.style,a=n===void 0?{height:"inherit"}:n,i=r.className,o=r.loading,l=r.loadingTemplate,s=r.errorTemplate,u=But(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Da(CM,u),f=c.chart,h=c.container;return Nut(function(){La(t,f.current)},[f.current]),$ut(e,function(){return{getChart:function(){return f.current}}}),Xd.createElement(_a,{errorTemplate:s},o&&Xd.createElement(Ba,{loadingTemplate:l,theme:r.theme}),Xd.createElement("div",{className:i,style:a,ref:h}))});const Hut=Vut,zut=window.React.forwardRef,Wut=window.React.useEffect,Gut=window.React.useImperativeHandle,Kd=window.React.useState,qut=window.antd.Spin,Yut=({id:r,type:e,config:t,apis:n},a)=>{var d;const[i,o]=Kd([]),[l,s]=Kd(!0),[u,c]=Kd(!0),f=Et(p=>p.page.variableData);Wut(()=>{h({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?f:""]);const h=p=>{s(!0),Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[PieChart]数据格式错误")),s(!1))})};return Gut(a,()=>({show(){c(!0)},hide(){c(!1)},update:p=>{h(p)}})),u&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(qut,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:A.jsx(mut,{...t.props,data:i})})})},Uut=zut(Yut),Zd=window.antd.Form,Xut=window.antd.Space,Kut=window.React.memo,Wo=Kut(()=>A.jsx(Zd.Item,{label:"颜色",children:A.jsx(Zd.List,{name:["color"],children:(r,{add:e,remove:t})=>A.jsx(A.Fragment,{children:r.map(({key:n,name:a,...i})=>A.jsxs(Xut,{style:{display:"flex",marginBottom:8,padding:"0 10px"},children:[A.jsx(Zd.Item,{noStyle:!0,...i,name:[a],children:A.jsx(rF,{style:{width:"120px"}})}),A.jsx(pr,{onClick:()=>e("#f16622",a+1)}),a>0&&A.jsx(Si,{onClick:()=>t(a)})]},n))})})})),Zut={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"扇形值字段",name:"angleField",props:{placeholder:"扇形（弧度）对应值"}},{type:"Input",label:"分类字段",name:"colorField",props:{placeholder:"扇形分类名称"}},{type:"Slider",label:"饼图半径",name:"radius",props:{min:0,max:1,step:.1}},{type:"Slider",label:"内环半径",name:"innerRadius",props:{min:0,max:1,step:.1}},{type:"InputNumber",label:"图表内边距",name:"padding"},{type:"Title",label:"标签配置",key:"label"},{type:"Select",label:"标签位置",name:["label","type"],props:{options:[{label:"内部",value:"inner"},{label:"外部",value:"outer"},{label:"蜘蛛布局",value:"spider"}]}},{type:"InputNumber",label:"字体大小",name:["label","style","fontSize"],props:{placeholder:"数字类型"}},{type:"Select",label:"字重",name:["label","style","fontWeight"],props:{options:[{value:"normal",label:"normal"},{value:"bold",label:"bold"},{value:"lighter",label:"lighter"},{value:"bolder",label:"bolder"}]}},{type:"Input",label:"标签渲染",name:["label","content"],props:{placeholder:"自定义渲染"}},{type:"Title",label:"图例配置",key:"legend"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"内环配置"},{type:"Input",label:"内环标题",name:["statistic","title","content"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{angleField:"count",colorField:"name",radius:1,innerRadius:0,autoFit:!0,appendPadding:20,label:{type:"outer",content:"{value} 人",style:{fontSize:12,fontWeight:"normal"}},legend:{layout:"vertical",position:"right"},theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],interactions:[{type:"element-active"},{type:"pie-legend-active"}]},style:{},api:{sourceType:"json",source:[{name:"基础设施组",count:10},{name:"增长中台组",count:18},{name:"用户平台组",count:23},{name:"司机组",count:19},{name:"多业务中台",count:15}]}},events:[],methods:[{name:"update",title:"更新数据"}]},Qut=window.React.forwardRef,Jut=window.React.useEffect,tct=window.React.useImperativeHandle,Qd=window.React.useState,ect=window.antd.Spin,rct=({id:r,type:e,config:t,apis:n},a)=>{var d;const[i,o]=Qd([]),[l,s]=Qd(!0),[u,c]=Qd(!0),f=Et(p=>p.page.variableData);Jut(()=>{h({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?f:""]);const h=p=>{s(!0),Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[LineChart]数据格式错误"))),s(!1)})};return tct(a,()=>({show(){c(!0)},hide(){c(!1)},update:p=>{h(p)}})),u&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(ect,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:A.jsx(hut,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:i})})})},nct=Qut(rct),act={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Switch",label:"平滑曲线",name:"smooth"},{type:"ColorPicker",label:"填充色",name:["lineStyle","fill"]},{type:"Slider",label:"透明度",name:["lineStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["lineStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["lineStyle","lineWidth"]},{type:"Title",label:"标签配置"},{type:"Switch",label:"显示文本",name:"label"},{type:"Title",label:"点配置"},{type:"Select",label:"点形状",name:["point","shape"],props:{options:[{label:"圆形",value:"circle"},{label:"方形",value:"square"},{label:"竖线",value:"line"},{label:"菱形",value:"diamond"},{label:"三角形",value:"triangle"},{label:"倒三角",value:"triangle-down"},{label:"六边形",value:"hexagon"},{label:"蝴蝶结",value:"bowtie"},{label:"打叉",value:"cross"},{label:"I符号",value:"tick"},{label:"加号",value:"plus"},{label:"减号",value:"hyphen"}]}},{type:"Slider",label:"点大小",name:["point","size"],props:{min:0,max:50,step:1}},{type:"ColorPicker",label:"点颜色",name:["point","style","fill"]},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],xField:"week",yField:"value",seriesField:"name",autoFit:!0,appendPadding:20,legend:{layout:"horizontal",position:"top"},label:{},point:{shape:"circle",size:5}},style:{},api:{sourceType:"json",source:[{week:"周一",value:40,name:"oms"},{week:"周一",value:45,name:"llp"},{week:"周二",value:65,name:"oms"},{week:"周二",value:56,name:"llp"},{week:"周三",value:74,name:"oms"},{week:"周三",value:82,name:"llp"},{week:"周四",value:88,name:"oms"},{week:"周四",value:82,name:"llp"},{week:"周五",value:92,name:"oms"},{week:"周五",value:85,name:"llp"},{week:"周六",value:80,name:"oms"},{week:"周六",value:68,name:"llp"},{week:"周日",value:65,name:"oms"},{week:"周日",value:58,name:"llp"}]}},events:[],methods:[{name:"update",title:"更新数据"}]},ict=window.React.forwardRef,oct=window.React.useEffect,lct=window.React.useImperativeHandle,Jd=window.React.useState,sct=window.antd.Spin,uct=({id:r,type:e,config:t},n)=>{var h;const[a,i]=Jd([]),[o,l]=Jd(!0),[s,u]=Jd(!0),c=Et(d=>d.page.variableData);oct(()=>{f({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?c:""]);const f=d=>{l(!0),Fe(t.api,d).then(p=>{(p==null?void 0:p.ret)===0&&(Array.isArray(p.data)?i(p.data):(i([]),console.error("[ColumnChart]数据格式错误"))),l(!1)})};return lct(n,()=>({show(){u(!0)},hide(){u(!1)},update:d=>{f(d)}})),s&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(sct,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:A.jsx(out,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:a})})})},cct=ict(uct),tp=window.antd.Form,fct=window.antd.InputNumber,hct=window.antd.Space,dct=window.React.memo,TO=dct(({name:r="columnStyle"})=>{const e=[r,"radius"];return A.jsx(tp.Item,{label:"圆角",children:A.jsx(tp.List,{name:e,children:t=>A.jsx(A.Fragment,{children:t.map(({key:n,name:a,...i})=>A.jsx(hct,{style:{marginBottom:8},children:A.jsx(tp.Item,{noStyle:!0,...i,name:[a],children:A.jsx(fct,{})})},n))})})})}),pct={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Switch",label:"是否分组",name:"isGroup"},{type:"Switch",label:"是否堆叠",name:"isStack"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"宽度占比",name:"columnWidthRatio",props:{min:0,max:1,step:.1}},{type:"Slider",label:"组内间距",name:["dodgePadding"]},{type:"Slider",label:"组外间距",name:["intervalPadding"]},{type:"function",label:"圆角",render(){return A.jsx(TO,{},"radius")}},{type:"ColorPicker",label:"填充色",name:["columnStyle","fill"]},{type:"Slider",label:"透明度",key:"fillOpacity",name:["columnStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["columnStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["columnStyle","lineWidth"]},{type:"Title",label:"标签配置"},{type:"Select",label:"位置",name:["label","position"],key:"labelPosition",props:{options:[{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]}},{type:"ColorPicker",label:"颜色",name:["label","style","fill"]},{type:"Slider",label:"透明度",key:"labelOpacity",name:["label","style","opacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{xField:"project",yField:"value",columnWidthRatio:.6,isGroup:!0,autoFit:!0,appendPadding:20,title:{visible:!0,text:"多色饼图"},theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],seriesField:"type",isStack:!1,isRange:!1,isPercent:!1,label:{position:"middle",style:{fill:"#FFFFFF",opacity:.8}},legend:{layout:"horizontal",position:"top"},xAxis:{label:{autoHide:!0,autoRotate:!0}},columnStyle:{fillOpacity:1,radius:[50,50,0,0]},interactions:[{type:"element-active"},{type:"pie-legend-active"}]},style:{},api:{sourceType:"json",source:[{type:"PV",project:"OMS",value:5e3},{type:"UV",project:"OMS",value:800},{type:"PV",project:"LLP",value:3e3},{type:"UV",project:"LLP",value:300},{type:"PV",project:"货拉拉小程序",value:3e4},{type:"UV",project:"货拉拉小程序",value:1e4},{type:"PV",project:"活动",value:7e3},{type:"UV",project:"活动",value:5e3},{type:"PV",project:"Mars",value:5e4},{type:"UV",project:"Mars",value:35e3}]}},events:[],methods:[{name:"update",title:"更新数据"}]},vct=window.React.forwardRef,gct=window.React.useEffect,yct=window.React.useImperativeHandle,ep=window.React.useState,mct=window.antd.Spin,xct=({id:r,type:e,config:t,apis:n},a)=>{var d;const[i,o]=ep([]),[l,s]=ep(!0),[u,c]=ep(!0),f=Et(p=>p.page.variableData);gct(()=>{h({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?f:""]);const h=p=>{s(!0),Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[BarChart]数据格式错误"))),s(!1)})};return yct(a,()=>({show(){c(!0)},hide(){c(!1)},update:p=>{h(p)}})),u&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(mct,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:A.jsx(tut,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:i})})})},bct=vct(xct),wct={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Switch",label:"是否分组",name:"isGroup"},{type:"Switch",label:"是否堆叠",name:"isStack"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"Slider",label:"组内间距",name:["dodgePadding"]},{type:"Slider",label:"组外间距",name:["intervalPadding"]},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"标签配置"},{type:"Select",label:"位置",name:["label","position"],key:"labelPosition",props:{options:[{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]}},{type:"ColorPicker",label:"颜色",name:["label","style","fill"]},{type:"Slider",label:"透明度",key:"labelOpacity",name:["label","style","opacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"图形配置"},{type:"Slider",label:"宽度占比",name:"barWidthRatio",props:{min:0,max:1,step:.1}},{type:"function",label:"圆角",render(){return A.jsx(TO,{name:"barStyle"},"radius")}},{type:"Slider",label:"透明度",key:"barOpacity",name:["barStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{xField:"value",yField:"project",barWidthRatio:.6,isGroup:!0,theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],seriesField:"type",autoFit:!0,appendPadding:20,isStack:!1,isRange:!1,isPercent:!1,label:{position:"middle",style:{fill:"#FFFFFF",opacity:.8}},legend:{layout:"horizontal",position:"top"},yAxis:{label:{autoHide:!0,autoRotate:!0}},barStyle:{fillOpacity:1,radius:[50,50,0,0]},interactions:[{type:"element-active"}]},style:{},api:{sourceType:"json",source:[{type:"PV",project:"OMS",value:5e3},{type:"UV",project:"OMS",value:800},{type:"PV",project:"LLP",value:3e3},{type:"UV",project:"LLP",value:300},{type:"PV",project:"货拉拉小程序",value:3e4},{type:"UV",project:"货拉拉小程序",value:1e4},{type:"PV",project:"活动",value:7e3},{type:"UV",project:"活动",value:5e3},{type:"PV",project:"Mars",value:5e4},{type:"UV",project:"Mars",value:35e3}]}},events:[],methods:[{name:"update",title:"更新数据"}]},Sct=window.React.forwardRef,Cct=window.React.useEffect,Act=window.React.useImperativeHandle,rp=window.React.useState,Ect=window.antd.Spin,Tct=({id:r,type:e,config:t},n)=>{var h;const[a,i]=rp([]),[o,l]=rp(!0),[s,u]=rp(!0),c=Et(d=>d.page.variableData);Cct(()=>{f({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?c:""]);const f=d=>{l(!0),Fe(t.api,d).then(p=>{(p==null?void 0:p.ret)===0&&(Array.isArray(p.data)?i(p.data):(i([]),console.error("[TinyLine]数据格式错误")),l(!1))})};return Act(n,()=>({show(){u(!0)},hide(){u(!1)},update:d=>{f(d)}})),s&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(Ect,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:A.jsx(Hut,{...t.props,data:a})})})},Ict=Sct(Tct),Mct={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Switch",label:"平滑曲线",name:"smooth"},{type:"ColorPicker",label:"填充色",name:["lineStyle","fill"]},{type:"Slider",label:"透明度",name:["lineStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["lineStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["lineStyle","lineWidth"]},{type:"Title",label:"点配置"},{type:"Select",label:"点形状",name:["point","shape"],props:{options:[{label:"圆形",value:"circle"},{label:"方形",value:"square"},{label:"竖线",value:"line"},{label:"菱形",value:"diamond"},{label:"三角形",value:"triangle"},{label:"倒三角",value:"triangle-down"},{label:"六边形",value:"hexagon"},{label:"蝴蝶结",value:"bowtie"},{label:"打叉",value:"cross"},{label:"I符号",value:"tick"},{label:"加号",value:"plus"},{label:"减号",value:"hyphen"}]}},{type:"Slider",label:"点大小",name:["point","size"],props:{min:0,max:50,step:1}},{type:"ColorPicker",label:"点颜色",name:["point","style","fill"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"ColorPicker",label:"颜色",name:["color"]}],config:{props:{theme:"default",autoFit:!0,appendPadding:20,smooth:!0,point:{shape:"circle",size:0},lineStyle:{lineWidth:2,fillOpacity:1},color:"#7d33ff"},style:{height:"80px"},api:{sourceType:"json",source:[264,417,438,887,309,397,550,575,563,430,525,592,492,467,513,546,983,340,539,243,226,192]}},events:[],methods:[{name:"update",title:"更新数据"}]},Oct=window.React.forwardRef,Fct=window.React.useEffect,kct=window.React.useImperativeHandle,np=window.React.useState,Pct=window.antd.Spin,Rct=({id:r,type:e,config:t},n)=>{var h;const[a,i]=np([]),[o,l]=np(!0),[s,u]=np(!0),c=Et(d=>d.page.variableData);Fct(()=>{f({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?c:""]);const f=d=>{l(!0),Fe(t.api,d).then(p=>{(p==null?void 0:p.ret)===0&&(Array.isArray(p.data)?i(p.data):(i([]),console.error("[TinyColumn]数据格式错误")),l(!1))})};return kct(n,()=>({show(){u(!0)},hide(){u(!1)},update:d=>{f(d)}})),s&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(Pct,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:A.jsx(_ut,{...t.props,data:a})})})},Lct=Oct(Rct),Dct={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"平滑曲线",name:"columnWidthRatio",props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"填充色",name:["columnStyle","fill"]},{type:"Slider",label:"透明度",name:["columnStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["columnStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["columnStyle","lineWidth"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"ColorPicker",label:"颜色",name:["color"]}],config:{props:{theme:"default",autoFit:!0,appendPadding:20,smooth:!0,lineStyle:{lineWidth:2,fillOpacity:1},color:"#7d33ff"},style:{height:"80px"},api:{sourceType:"json",source:[274,337,81,497,666,219,269]}},events:[],methods:[{name:"update",title:"更新数据"}]},_ct=window.React.forwardRef,Bct=window.React.useEffect,Nct=window.React.useImperativeHandle,ap=window.React.useState,$ct=window.antd.Spin,jct=({id:r,type:e,config:t,apis:n},a)=>{var d;const[i,o]=ap(0),[l,s]=ap(!0),[u,c]=ap(!0),f=Et(p=>p.page.variableData);Bct(()=>{h({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?f:""]);const h=p=>{s(!0),Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(typeof v.data=="number"?o(v.data):console.error("数据格式错误，进度条需要0-1的数字。")),s(!1)})};return Nct(a,()=>({show(){c(!0)},hide(){c(!1)},update:p=>{h(p)}})),u&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx($ct,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:A.jsx(Aut,{...t.props,percent:i})})})},Vct=_ct(jct),Hct={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"宽度占比",name:"barWidthRatio",props:{min:0,max:1,step:.05}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{autoFit:!1,appendPadding:0,barWidthRatio:.2,color:["#f16622","#E8EDF3"]},style:{display:"inline-block",width:"300px",height:"100px"},api:{sourceType:"json",source:.7}},events:[],methods:[{name:"update",title:"更新数据"}]},zct=window.React.forwardRef,Wct=window.React.useEffect,Gct=window.React.useImperativeHandle,ip=window.React.useState,qct=window.antd.Spin,Yct=({id:r,type:e,config:t},n)=>{var h;const[a,i]=ip(0),[o,l]=ip(!0),[s,u]=ip(!0),c=Et(d=>d.page.variableData);Wct(()=>{f({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?c:""]);const f=d=>{l(!0),Fe(t.api,d).then(p=>{(p==null?void 0:p.ret)===0&&(typeof p.data=="number"?i(p.data):console.error("数据格式错误，进度条需要0-1的数字。")),l(!1)})};return Gct(n,()=>({show(){u(!0)},hide(){u(!1)},update:d=>{f(d)}})),s&&A.jsx("div",{"data-id":r,"data-type":e,style:t.style,children:A.jsx(qct,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:A.jsx(Fut,{...t.props,percent:a})})})},Uct=zct(Yct),Xct={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"外环半径",name:"radius",props:{min:0,max:1,step:.05}},{type:"Slider",label:"内环半径",name:"innerRadius",props:{min:0,max:1,step:.05}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return A.jsx(Wo,{},"ColorSet")}}],config:{props:{theme:"default",autoFit:!0,appendPadding:0,innerRadius:.85,radius:1,color:["#f16622","#E8EDF3"]},style:{display:"inline-block",width:"100px",height:"100px"},api:{sourceType:"json",source:.7}},events:[],methods:[{name:"update",title:"更新数据"}]},Kct=window.antd.Button,Zct=window.antd.Modal,Qct=window.antd.Spin,Jct=window.React.forwardRef,tft=window.React.memo,eft=window.React.useEffect,rft=window.React.useImperativeHandle,op=window.React.useState,nft=Jct(({id:r,type:e,config:t,elements:n,onLoad:a,onOk:i,onCancel:o},l)=>{const[s,u]=op(!1),[c,f]=op(t.props.confirmLoading||!1),[h,d]=op(!1),p=Et(b=>b.addChildElements),[,v]=xr({accept:"MENU_ITEM",drop(b,x){if(x.didDrop())return;const{config:w,events:S,methods:C=[]}=mr[b.type+"Config"]||{};p({type:b.type,name:b.name,parentId:r,id:b.id,config:w,events:S,methods:C})},collect:b=>({isOver:b.isOver(),canDrop:b.canDrop()})});rft(l,()=>({close:()=>{u(!1)},open:()=>new Promise(b=>{u(()=>(b(!0),!0))}),showConfirmLoading:()=>{f(!0)},hideConfirmLoading:()=>{f(!1)},showLoading:()=>{d(!0)},hideLoading:()=>{d(!1)}}),[]),eft(()=>{var w;s&&(a==null||a());const b=(w=document.querySelector("#page"))==null?void 0:w.getBoundingClientRect(),x=document.querySelector(`[data-id="${r}"]`);x&&(x.style.height=(b==null?void 0:b.height)+"px")},[s]);const g=()=>{i==null||i()},y=()=>{o==null||o(),u(!1)},m=document.querySelector(`[data-id="${r}"]`);return s&&m?m.style.display="":m&&(m.style.display="none"),A.jsxs(A.Fragment,{children:[A.jsx("div",{children:A.jsx(Kct,{onClick:()=>u(!0),children:t.props.title})}),A.jsx(Zct,{...t.props,"data-id":r,"data-type":e,open:s,footer:t.props.footer?void 0:null,getContainer:!1,onOk:g,maskClosable:!1,onCancel:y,width:t.props.width||void 0,confirmLoading:c,style:{...t.style},children:A.jsx("div",{ref:v,children:A.jsx(Qct,{spinning:h,children:n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽组件到这里"})})})})]})}),aft=tft(nft),ift={attrs:[{type:"Title",label:"基础设置",key:"modal-basic"},{type:"Variable",label:"标题",name:"title"},{type:"InputNumber",label:"弹框宽度",name:"width"},{type:"Switch",label:"显示关闭",name:"closable"},{type:"Switch",label:"Footer",name:"footer"},{type:"Input",label:"确认文本",name:"okText"},{type:"Input",label:"取消文本",name:"cancelText"},{type:"Switch",label:"关闭后销毁",name:"destroyOnClose"},{type:"Switch",label:"确认Loading",name:"confirmLoading"}],config:{props:{title:"弹框",closable:!0,footer:!0,open:!0,okText:"确定",cancelText:"取消",destroyOnClose:!1,confirmLoading:!1},style:{}},events:[{value:"onLoad",name:"初始化事件"},{value:"onOk",name:"确认事件"},{value:"onCancel",name:"取消事件"}],methods:[{name:"open",title:"打开弹框"},{name:"close",title:"关闭弹框"},{name:"showConfirmLoading",title:"确认Loading"},{name:"hideConfirmLoading",title:"隐藏确认Loading"},{name:"showLoading",title:"显示加载Loading"},{name:"hideLoading",title:"隐藏加载Loading"}]},oft=window.React,lft=window.React.forwardRef,sft=window.React.useEffect,uft=window.React.useImperativeHandle,nS=window.React.useState,cft=window.antd.Avatar,fft=window.antd.Button,lp=window.antd.List,aS=window.antd.Tag,hft=({id:r,type:e,config:t},n)=>{var d;const[a,i]=nS([]),[o,l]=nS(!0),s=Et(p=>p.page.variableData);sft(()=>{u({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?s:""]);const u=p=>{Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?i(v.data):(console.error("[List]","data数据格式错误，请检查"),i([])))})};uft(n,()=>({show(){l(!0)},hide(){l(!1)},update:p=>{u(p)}}));const c=p=>{var y;const v=p[(y=t.props.content)==null?void 0:y.name],g=t.props.content.type;if(!v||!g||g==="text")return v;if(g==="money")return pn(v,"currency");if(g==="number")return pn(v);if(g==="date1")return io(v,"YYYY-MM-DD");if(g==="date2")return io(v);if(g==="tag")return Array.isArray(v)?v.map((m,b)=>A.jsx(aS,{children:m},b)):typeof v=="string"||typeof v=="number"?A.jsx(aS,{children:v}):v==null?void 0:v.toString()},f=(p,v={})=>{const g=t.events.find(y=>y.eventName===p);di(g==null?void 0:g.actions,v)},h=xn;return o&&A.jsx(lp,{"data-id":r,"data-type":e,style:t.style,bordered:t.props.bordered,size:t.props.size,split:t.props.split,header:t.props.header?A.jsx("div",{children:t.props.header}):null,footer:t.props.footer?A.jsx("div",{children:t.props.footer}):null,dataSource:a,renderItem:p=>{var v,g,y;return A.jsxs(lp.Item,{actions:((v=t.props.bulkActionList)==null?void 0:v.map((m,b)=>A.jsx(fft,{type:m.type,danger:m.danger,icon:m.icon?oft.createElement(h[m.icon]):null,onClick:()=>f(m.eventName,p),children:m.text},m.eventName)))||[],children:[A.jsx(lp.Item.Meta,{avatar:t.props.avatar?A.jsx(cft,{src:p[t.props.avatar]}):null,title:(g=t.props.title)!=null&&g.name?A.jsx("span",{style:{color:t.props.title.color},children:p[t.props.title.name]}):null,description:t.props.desc.name?A.jsx("span",{style:{color:t.props.desc.color},children:p[t.props.desc.name]}):null}),(y=t.props.content)!=null&&y.name?A.jsx("div",{style:{color:t.props.content.color},children:c(p)}):null]})}})},dft=lft(hft),pft={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"头部标题",name:"header"},{type:"Input",label:"底部标题",name:"footer"},{type:"Switch",label:"显示边框",name:"bordered"},{type:"Select",label:"List尺寸",name:"size",props:{options:[{label:"默认",value:"default"},{label:"大",value:"large"},{label:"小",value:"small"}]}},{type:"Switch",label:"显示分割线",name:"split"},{type:"Title",label:"Meta配置",key:"Meta"},{type:"Input",label:"头像字段",name:"avatar"},{type:"Input",label:"标题字段",name:["title","name"]},{type:"ColorPicker",label:"标题颜色",name:["title","color"]},{type:"Input",label:"描述字段",name:["desc","name"]},{type:"ColorPicker",label:"描述颜色",name:["desc","color"]},{type:"Title",label:"内容配置",key:"content"},{type:"Input",label:"内容字段",name:["content","name"]},{type:"ColorPicker",label:"内容颜色",name:["content","color"]},{type:"Select",label:"展示类型",name:["content","type"],props:{options:[{value:"text",label:"文本"},{value:"date1",label:"日期-不含时分秒"},{value:"date2",label:"日期-包含时分秒"},{value:"money",label:"金额千分位"},{value:"number",label:"数字千分位"},{value:"tag",label:"标签"}]}},{type:"Title",label:"批量操作栏"},{type:"function",render(r){return A.jsx(cg,{form:r},"ActionSetting")}}],config:{props:{size:"default",bordered:!1,split:!0,header:"列表标题",footer:"列表底部",avatar:"avatar",title:{name:"name",color:"#000"},desc:{name:"remark",color:""},content:{name:"content",color:"#000",type:"money"},bulkActionList:[]},style:{padding:"20px"},events:[],api:{sourceType:"json",source:[{id:1,name:"上海分店",remark:"20%利润",avatar:"https://marsview.cdn.bcebos.com/s1.png",content:"12423"},{id:2,name:"深圳分店",remark:"70%利润",avatar:"https://marsview.cdn.bcebos.com/s1.png",content:"10999"},{id:3,name:"北京分店",remark:"35%利润",avatar:"https://marsview.cdn.bcebos.com/s1.png",content:"30999"}]}},events:[]},iS=window.antd.Button,vft=window.antd.Descriptions,gft=window.antd.Image,oS=window.antd.Tag,lS=window.antd.Tooltip,sS=window.antd.Typography,yft=window.React.forwardRef,mft=window.React.useEffect,xft=window.React.useImperativeHandle,bft=window.React.useMemo,uS=window.React.useState,wft=({id:r,type:e,config:t},n)=>{var d;const[a,i]=uS(!0),[o,l]=uS([]),s=Et(p=>p.page.variableData);mft(()=>{u({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?s:""]);const u=p=>{Fe(t.api,p).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?l(v.data):l([v.data]))})};xft(n,()=>({show(){i(!0)},hide(){i(!1)}}));const c=(p,v)=>{const g=t.events.find(y=>y.eventName===p);di(g==null?void 0:g.actions,v)},f=(p,v,g)=>{if(Xr(p)?v.type==="money"?p=pn(p,"currency"):v.type==="number"?p=pn(p):v.type==="date1"?p=io(p,"YYYY-MM-DD"):v.type==="date2"&&(p=io(p)):typeof t.props.empty>"u"?p="-":t.props.empty&&(p=t.props.empty),v.render)try{p=new Function("text","record",`return (${v.render})(text,record);`)(p,g)}catch(y){console.error(`列[${v.title}]渲染失败`,y),p="解析异常"}if(v.type==="text"){const y=A.jsx(iS,{type:"link",onClick:()=>c(v.eventName,g),children:p.toString()});return v.ellipsis&&v.copyable?A.jsx(lS,{title:p,children:A.jsx(sS.Paragraph,{copyable:!0,style:{marginBottom:0},children:v.clickable?y:p.toString()})}):v.ellipsis?A.jsx(lS,{title:p,children:v.clickable?y:p.toString()}):v.copyable?A.jsx(sS.Paragraph,{copyable:!0,children:v.clickable?y:p.toString()}):v.clickable?A.jsx(iS,{type:"link",onClick:()=>c(v.eventName,g),children:p.toString()}):p.toString()}return v.type==="image"?A.jsx(gft,{src:p,width:30}):v.type==="tag"?Array.isArray(p)?p.map(y=>A.jsx(oS,{children:y},y)):typeof p=="string"||typeof p=="number"?A.jsx(oS,{children:p}):p==null?void 0:p.toString():p},h=bft(()=>t.props.items.map(p=>{var y;const v=((y=o[0])==null?void 0:y[p.name])||"",g=f(v,p,o[0]||{});return{key:p.key,label:p.label,children:g}}),[t.props.items,o]);return a&&A.jsx(vft,{...t.props,items:h,"data-id":r,"data-type":e,style:t.style})},Sft=yft(wft),Lu=window.antd.Input,Cft=window.antd.Modal,on=window.antd.Form,Qn=window.antd.Col,al=window.antd.Row,Jn=window.antd.Select,sp=window.antd.Switch,Aft=window.React.useImperativeHandle,cS=window.React.useState,Eft=window.React.memo,Tft=Eft(r=>{const[e,t]=cS(!1),[n,a]=cS(0),[i]=yC(),{selectedElement:o,elementsMap:l,editTableProps:s,editEvents:u}=Et(h=>({selectedElement:h.selectedElement,elementsMap:h.page.elementsMap,editTableProps:h.editTableProps,editEvents:h.editEvents}));Aft(r.columnRef,()=>({open(h){const p=l[o==null?void 0:o.id].config.props.items[h],v=p.render||`function render(text,record) {
    return text;
}`;i.resetFields(),i.setFieldsValue({span:1,type:"text",...p,render:v}),a(h),t(!0)}}));const c=()=>{i.validateFields().then(()=>{const h=i.getFieldsValue(),d=l[o==null?void 0:o.id],p=fs(`ClickItem${h.name}`);h.clickable?h.eventName=h.eventName||p:h.eventName="",s({id:o==null?void 0:o.id,type:"items",index:n,props:{...h,key:h.dataIndex||n}});let v=d.events;const g=d.config.props.items[n].eventName;v=v.filter(y=>y.value!=g),h.clickable&&v.push({name:`${h.label}点击事件`,value:h.eventName||p}),u({id:d.id,events:v}),r.update(h.label,n),t(!1)})},f=()=>{t(!1)};return A.jsx(Cft,{title:"描述项设置",open:e,onOk:c,onCancel:f,width:800,children:A.jsxs(on,{form:i,labelCol:{span:8},wrapperCol:{span:14},children:[A.jsxs(al,{children:[A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"标题",name:"label",rules:[{required:!0,message:"请输入项名称"}],children:A.jsx(Lu,{})})}),A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"字段",name:"name",rules:[{required:!0,message:"请输入项字段"}],children:A.jsx(Lu,{})})})]}),A.jsxs(al,{children:[A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"跨列数",name:"span",children:A.jsx(Lu,{})})}),A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"列类型",name:"type",children:A.jsxs(Jn,{children:[A.jsx(Jn.Option,{value:"text",children:"文本"}),A.jsx(Jn.Option,{value:"image",children:"图片"}),A.jsx(Jn.Option,{value:"date1",children:"日期-不含时分秒"}),A.jsx(Jn.Option,{value:"date2",children:"日期-包含时分秒"}),A.jsx(Jn.Option,{value:"money",children:"金额千分位"}),A.jsx(Jn.Option,{value:"number",children:"数字千分位"}),A.jsx(Jn.Option,{value:"tag",children:"标签"})]})})})]}),A.jsxs(al,{children:[A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"超长省略",name:"ellipsis",tooltip:"省略后，会自动开启tooltip功能",children:A.jsx(sp,{})})}),A.jsx(Qn,{span:12,children:A.jsx(on.Item,{label:"可复制",name:"copyable",tooltip:"开启后，列增加复制功能，只对文本生效",children:A.jsx(sp,{})})})]}),A.jsx(al,{children:A.jsxs(Qn,{span:12,children:[A.jsx(on.Item,{label:"可点击",name:"clickable",tooltip:"开启后，当前列展示为可点击的link格式",children:A.jsx(sp,{})}),A.jsx(on.Item,{name:"eventName",hidden:!0,children:A.jsx(Lu,{})})]})}),A.jsx(al,{children:A.jsx(Qn,{span:24,children:A.jsx(on.Item,{label:"自定义渲染",name:"render",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过编程的方式实现值渲染，不支持ReactNode渲染。例如：if(text === 1)return '在线'; ",children:A.jsx(Rl,{})})})})]})})}),up=window.antd.Form,fS=window.antd.Input,Ift=window.antd.Space,Mft=window.React.memo,Oft=window.React.useRef,Fft=Mft(({form:r})=>{const e=Oft(),t=a=>{var i;(i=e.current)==null||i.open(a)},n=(a,i)=>{r.setFieldValue(["items",i,"label"],a)};return A.jsxs(A.Fragment,{children:[A.jsx(up.List,{name:["items"],children:(a,{add:i,remove:o})=>A.jsx(A.Fragment,{children:a.map(({key:l,name:s,...u})=>A.jsxs(Ift,{style:{display:"flex",marginBottom:8,padding:"0 10px"},align:"baseline",children:[A.jsx(up.Item,{...u,wrapperCol:{span:22},name:[s,"label"],children:A.jsx(fS,{placeholder:"项名称"})}),A.jsx(up.Item,{...u,wrapperCol:{span:22},name:[s,"name"],children:A.jsx(fS,{placeholder:"项字段",style:{width:"100%"}})}),A.jsx(Nc,{onClick:()=>t(s)}),A.jsx(pr,{onClick:()=>i({label:"-",name:`name${s+1}`},s+1)}),A.jsx(Si,{onClick:()=>o(s)})]},l))})}),A.jsx(Tft,{columnRef:e,update:n})]})}),kft=Fft,Pft={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Input",label:"标题",name:["title"]},{type:"Switch",label:"展示边框",name:["bordered"]},{type:"Switch",label:"展示冒号",name:["colon"]},{type:"InputNumber",label:"一行列数",name:["column"]},{type:"Select",label:"布局",name:["layout"],tooltip:"文字和内容的排列",props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"Select",label:"列表大小",name:["size"],props:{options:[{value:"default",label:"默认"},{value:"middle",label:"中等"},{value:"small",label:"小号"}]}},{type:"Select",label:"空值显示",name:["empty"],props:{options:[{label:"空",value:""},{label:"-",value:"-"},{label:"/",value:"/"}]}},{type:"Title",label:"列表设置",key:"ListSet"},{type:"function",key:"DescItemSetting",render(r){return A.jsx(kft,{form:r},"DescItemSetting")}}],config:{props:{title:"用户信息",colon:!0,column:3,layout:"horizontal",size:"default",empty:"-",items:[{label:"名称",name:"name",type:"text"},{label:"类型",name:"type",type:"text"},{label:"寿命",name:"time",type:"text"},{label:"地区分布",name:"area",type:"text"}]},style:{},events:[],api:{sourceType:"json",sourceField:"list",source:[{id:1001,name:"萤火虫",type:"昆虫",avatar:"https://marsview.cdn.bcebos.com/s1.png",time:10,skill:["飞","发光","御敌"],sales:9.9,createdAt:new Date().getTime(),area:"热带、亚热带和温带地区"}]}},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]},cp=window.antd.Empty,Rft=window.React.forwardRef,Lft=window.React.useImperativeHandle,Dft=window.React.useState,_ft=({id:r,type:e,config:t},n)=>{var l,s,u,c;const[a,i]=Dft(!0);Lft(n,()=>({show(){i(!0)},hide(){i(!1)}}));let o=(l=t.props)==null?void 0:l.image;return((s=t.props)==null?void 0:s.image)==="simple"?o=cp.PRESENTED_IMAGE_SIMPLE:((u=t.props)==null?void 0:u.image)==="default"?o=cp.PRESENTED_IMAGE_DEFAULT:o=(c=t.props)==null?void 0:c.image,a&&A.jsx(cp,{style:t.style,...t.props,image:o,"data-id":r,"data-type":e})},Bft=Rft(_ft),Nft={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Input",label:"描述",name:["description"]},{type:"InputSelect",label:"图片",name:["image"],tooltip:"可以选择系统默认或者手动输入图片地址",props:{options:[{value:"simple",label:"简单"},{value:"default",label:"默认"}]}},{type:"InputNumber",label:"图片宽度",name:["imageStyle","width"],props:{placeholder:"请输入图片宽度"}},{type:"InputNumber",label:"图片高度",name:["imageStyle","height"],props:{placeholder:"请输入图片高度"}}],config:{props:{description:"暂无数据",image:"default"},style:{},events:[]},events:[],methods:[]},$ft=window.antd.Steps,jft=window.React.forwardRef,hS=window.React.useEffect,Vft=window.React.useImperativeHandle,fp=window.React.useState,Hft=({id:r,type:e,config:t,onChange:n},a)=>{var p;const[i,o]=fp(!0),[l,s]=fp(t.props.current||0),[u,c]=fp([]),f=Et(v=>v.page.variableData);hS(()=>{s(t.props.current)},[t.props.current]),hS(()=>{h({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?f:""]);const h=v=>{Fe(t.api,v).then(g=>{(g==null?void 0:g.ret)===0&&(Array.isArray(g.data)?c(g.data):(console.error("[Steps]","data数据格式错误，请检查"),c([])))})};Vft(a,()=>({show(){o(!0)},hide(){o(!1)},update(){h(u)},updateStep(v){s(v)}}));const d=v=>{s(v),n==null||n({current:v})};return i&&A.jsx($ft,{style:t.style,...t.props,current:l,items:u,onChange:d,"data-id":r,"data-type":e})},zft=jft(Hft),Wft={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Variable",label:"当前步骤",name:["current"]},{type:"Select",label:"步骤条方向",name:["direction"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"Select",label:"标签位置",name:["labelPlacement"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"InputNumber",label:"当前进度",name:["percent"],tooltip:"当前 process 步骤显示的进度条进度（只对基本类型的 Steps 生效，取值0-100）"},{type:"Switch",label:"响应式",name:["responsive"]},{type:"Select",label:"尺寸",name:["size"],props:{options:[{value:"default",label:"默认"},{value:"small",label:"迷你"}]}},{type:"Select",label:"当前状态",name:["status"],props:{options:[{value:"wait",label:"wait"},{value:"process",label:"process"},{value:"finish",label:"finish"},{value:"error",label:"error"}]}},{type:"Select",label:"步骤类型",name:["type"],props:{options:[{value:"default",label:"default"},{value:"navigation",label:"navigation"},{value:"inline",label:"inline"}]}}],config:{props:{current:0,direction:"horizontal",labelPlacement:"horizontal",responsive:!0},style:{},events:[],api:{sourceType:"json",source:[{title:"第一步",description:"开始"},{title:"第二步",description:"进行中",subTitle:"加速中"},{title:"第三步",description:"结束"}]}},events:[{value:"onChange",name:"值变化事件"}],methods:[{name:"update",title:"更新数据"},{name:"更新步骤",title:"updateStep"}]},Gft=window.React,qft=window.React.forwardRef,Yft=window.React.useImperativeHandle,hp=window.React.useState,Uft=window.antd.Button,Xft=({id:r,type:e,config:t,onClick:n},a)=>{const[i,o]=hp(!0),[l,s]=hp(!1),[u,c]=hp(!1);Yft(a,()=>({show(){o(!0)},hide(){o(!1)},enable(){s(!1)},disable(){s(!0)},startLoading:()=>{c(!0)},hideLoading:()=>{c(!1)}}));const f=()=>{n&&n()},h=xn,{authCode:d,authScript:p,...v}=t.props;return i&&A.jsx(Uft,{style:t.style,loading:u,disabled:l,...v,icon:v.icon?Gft.createElement(h[v.icon]):null,"data-id":r,"data-type":e,onClick:f,children:t.props.text})},Kft=qft(Xft),Zft=window.React,Qft=window.antd.Form,dS=window.antd.Select;function rm({name:r="icon"}){const e=xn;return A.jsx(Qft.Item,{label:"按钮图标",name:r,children:A.jsx(dS,{placeholder:"请选择菜单图表",showSearch:!0,allowClear:!0,children:Object.keys(xn).filter(t=>!["default","createFromIconfontCN","getTwoToneColor","setTwoToneColor","IconProvider"].includes(t)).map(t=>A.jsx(dS.Option,{value:t,children:Zft.createElement(e[t],{style:{fontSize:"18px",verticalAlign:"middle"}})},t))})})}const Jft={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Variable",label:"按钮名称",name:["text"]},{type:"Select",label:"按钮类型",name:["type"],props:{options:[{value:"primary",label:"primary"},{value:"default",label:"default"},{value:"ghost",label:"ghost"},{value:"dashed",label:"dashed"},{value:"text",label:"text"},{value:"link",label:"link"}]}},{type:"Select",label:"按钮形状",name:["shape"],props:{options:[{value:"default",label:"default"},{value:"circle",label:"circle"},{value:"round",label:"round"}]}},{type:"Switch",label:"块状按钮",name:["block"]},{type:"Switch",label:"幽灵按钮",name:["ghost"]},{type:"Switch",label:"危险按钮",name:["danger"]},{type:"Variable",label:"是否禁用",name:["disabled"]},{type:"function",render(){return A.jsx(rm,{},"icon-setting")}},{type:"Title",label:"权限验证",key:"auth"},{type:"Input",label:"权限标识",name:["authCode"],props:{placeholder:"按钮权限标识"}},{type:"Variable",label:"三方验证",name:["authScript"],props:{placeholder:"运行脚本"}}],config:{props:{type:"primary",size:"middle",text:"按钮",shape:"default"},style:{},events:[]},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]},tht=window.React,dp=window.React.useState,eht=window.React.useImperativeHandle,rht=window.React.forwardRef,nht=window.antd.Button,aht=window.antd.Upload,iht=({id:r,type:e,config:t,onSuccess:n,onFail:a},i)=>{const[o,l]=dp(!0),[s,u]=dp(!1),[c,f]=dp(!1),h=Et(m=>m.page.apis);eht(i,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const d=m=>{var w;return((w=t.props.upload.accept)==null?void 0:w.includes(m.type))?m.size>t.props.upload.limitSize*1024*1024?(qr.error("图片超出最大限制"),!1):!0:(qr.error("不支持该文件格式，请重新选择"),!1)},p=m=>{f(!0);const{stgApi:b,method:x,replaceData:w,params:S}=h[t.api.id],{data:C}=ZS(x,w,S,{});Ui.post(b,{[t.props.upload.name||"file"]:m.file,...C},{headers:{"Content-Type":"multipart/form-data"}}).then(T=>{f(!1),n==null||n(T.data)}).catch(()=>{a==null||a()}).finally(()=>{f(!1)})},v=xn,{button:g,upload:y}=t.props;return o&&A.jsx(aht,{...y,withCredentials:!0,showUploadList:!1,style:t.style,beforeUpload:d,customRequest:p,children:A.jsx(nht,{...g,icon:g.icon?tht.createElement(v[g.icon]):null,loading:c,disabled:s,"data-id":r,"data-type":e,children:g.text})})},oht=rht(iht),lht={attrs:[{type:"Title",label:"基础配置",key:"title1"},{type:"Input",label:"按钮名称",name:["button","text"]},{type:"Select",label:"按钮类型",name:["button","type"],props:{options:[{value:"primary",label:"primary"},{value:"default",label:"default"},{value:"ghost",label:"ghost"},{value:"dashed",label:"dashed"},{value:"text",label:"text"},{value:"link",label:"link"}]}},{type:"Select",label:"按钮形状",name:["button","shape"],props:{options:[{value:"default",label:"default"},{value:"circle",label:"circle"},{value:"round",label:"round"}]}},{type:"Switch",label:"块状按钮",name:["button","block"]},{type:"Switch",label:"幽灵按钮",name:["button","ghost"]},{type:"Switch",label:"危险按钮",name:["button","danger"]},{type:"function",render(){return A.jsx(rm,{name:["button","icon"]},"icon-setting")}},{type:"Title",label:"上传配置",key:"title2"},{type:"Input",label:"参数名称",name:["upload","name"],props:{placeholder:"请输入上传参数"}},{type:"Select",label:"文件类型",name:["upload","accept"],props:{mode:"multiple",options:[{value:"image/jpeg",label:"image/jpeg"},{value:"image/png",label:"image/png"},{value:"image/gif",label:"image/gif"},{value:"video/mp4",label:"video/mp4"},{value:"text/csv",label:"text/csv"},{value:"text/html",label:"text/html"},{value:"application/zip",label:"application/zip"},{value:"application/pdf",label:"application/pdf"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"excel"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"word"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"ppt"}]}},{type:"InputNumber",label:"文件大小",name:["upload","limitSize"],props:{placeholder:"单位：MB",addonAfter:"MB"}},{type:"Switch",label:"支持多选",name:["upload","multiple"]},{type:"Input",label:"上传地址",name:["upload","action"],props:{placeholder:"请输入上传地址"}}],config:{props:{button:{type:"primary",size:"middle",text:"上传",shape:"default",icon:"UploadOutlined"},upload:{name:"file",accept:["excel"],listType:"text",multiple:!1,limitSize:10},text:"Upload",structure:"url"},style:{},events:[],api:{},source:[]},events:[{value:"onSuccess",name:"上传成功事件"},{value:"onFail",name:"上传失败事件"}]},sht=window.React,uht=window.React.forwardRef,cht=window.React.useImperativeHandle,fht=window.React.useState,hht=window.antd.Tabs,dht=({id:r,type:e,config:t,onClick:n,elements:a,onTabClick:i,onChange:o},l)=>{const[s,u]=fht(!0),{updateToolbar:c,elementsMap:f}=Et(m=>({elementsMap:m.page.elementsMap,updateToolbar:m.updateToolbar}));cht(l,()=>({show(){u(!0)},hide(){u(!1)}}));const h=m=>{o==null||o({activeKey:m}),c()},d=m=>{i==null||i({activeKey:m}),c()},{items:p=[],...v}=t.props,g=xn,y=p.map((m,b)=>{var w;if(!a[b])return{label:m.label,key:m.key};const x=f[(w=a[b])==null?void 0:w.id].config.props;return{key:m.key,...x,icon:x.icon?sht.createElement(g[x.icon]):null,children:A.jsx(br,{elements:[a[b]]})}});return s&&A.jsx(hht,{style:t.style,...v,items:y,"data-id":r,"data-type":e,onChange:h,onTabClick:d})},pht=uht(dht),vht=window.React.forwardRef,ght=window.React.useImperativeHandle,yht=window.React.useState,mht=({id:r,type:e,config:t,elements:n},a)=>{const[i,o]=yht(!0),l=Et(u=>u.addChildElements),[,s]=xr({accept:"MENU_ITEM",drop(u,c){if(c.didDrop())return;const{config:f,events:h,methods:d=[]}=mr[u.type+"Config"]||{};l({type:u.type,name:u.name,parentId:r,id:u.id,config:f,events:h,methods:d})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return ght(a,()=>({show(){o(!0)},hide(){o(!1)}})),i&&A.jsx("div",{style:t.style,"data-id":r,"data-type":e,ref:s,children:n.length?A.jsx(br,{elements:n}):A.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽组件到这里"})})},xht=vht(mht),IO={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"Key",name:["key"]},{type:"Input",label:"标签名称",name:["label"]},{type:"function",render(){return A.jsx(rm,{},"icon-setting")}},{type:"Switch",label:"显示关闭",name:["closable"],props:{tooltip:'type="editable-card"有效'}},{type:"Switch",label:"禁用",name:["disabled"]},{type:"Switch",label:"隐藏渲染",name:["forceRender"]},{type:"Switch",label:"隐藏销毁",name:["destroyInactiveTabPane"]}],config:{props:{key:"active1",label:"Tab1",icon:"",closable:!1,forceRender:!1,disabled:!1,destroyInactiveTabPane:!1},style:{},events:[]},events:[],methods:[]},bht=window.React.memo,pS=window.antd.Form,wht=window.antd.Input,Sht=window.antd.Space,Cht=window.antd.Button,Aht=bht(({form:r})=>{const{selectedElement:e,addChildElements:t}=Et(i=>({selectedElement:i.selectedElement,addChildElements:i.addChildElements})),n=(i,o)=>{const l=fs("Tab");i({id:l,key:"active"+o,label:"Tab"+o});const{config:s,events:u,methods:c=[]}=IO||{};t({type:"Tab",name:"子页签",parentId:e==null?void 0:e.id,id:l,config:{...s,props:{...s.props,activeKey:"Tab"+o}},events:u,methods:c})},a=(i,o)=>{i(o)};return A.jsx(A.Fragment,{children:A.jsx(pS.List,{name:["items"],children:(i,{add:o,remove:l})=>A.jsxs(A.Fragment,{children:[i.map(({key:s,name:u,...c})=>A.jsxs(Sht,{align:"baseline",children:[A.jsx(pS.Item,{...c,labelCol:{span:12},name:[u,"label"],label:"页签",children:A.jsx(wht,{placeholder:"页签名称"})}),A.jsx(SS,{onClick:()=>a(l,u)})]},s)),A.jsx("div",{style:{padding:"0 10px 10px"},children:A.jsx(Cht,{type:"primary",block:!0,ghost:!0,onClick:()=>n(o,i.length+1),icon:A.jsx(pr,{}),children:"新增"})})]})})})}),Eht=Aht,vS=Wa("Tab"),Tht={attrs:[{type:"Title",label:"页签配置",key:"tabs-title"},{type:"function",render(r){return A.jsx(Eht,{form:r},"tab-setting")}},{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"激活值",name:["activeKey"]},{type:"Input",label:"初始值",name:["defaultActiveKey"]},{type:"Switch",label:"标签居中",name:["centered"]},{type:"Switch",label:"隐藏加号",name:["hideAdd"]},{type:"Select",label:"尺寸",name:["size"],props:{options:[{value:"large",label:"large"},{value:"middle",label:"middle"},{value:"small",label:"small"}]}},{type:"InputNumber",label:"Tab间隙",name:["tabBarGutter"]},{type:"Select",label:"页签位置",name:["tabPosition"],props:{options:[{value:"top",label:"top"},{value:"right",label:"right"},{value:"bottom",label:"bottom"},{value:"left",label:"left"}]}},{type:"Switch",label:"隐藏销毁",name:["destroyInactiveTabPane"]},{type:"Select",label:"页签样式",name:["type"],props:{options:[{value:"line",label:"line"},{value:"card",label:"card"},{value:"editable-card",label:"editable-card"}]}}],config:{props:{type:"line",size:"middle",tabPosition:"top",activeKey:void 0,centered:!1,hideAdd:!0,destroyInactiveTabPane:!1,items:[{id:vS,key:"active1",label:"Tab1"}]},style:{},events:[]},elements:[{id:vS,type:"Tab",name:"子标签"}],events:[{value:"onTabClick",name:"点击事件"},{value:"onChange",name:"切换事件"}],methods:[]},Iht=window.antd.Image,Mht=window.React.useState,Oht=window.React.useImperativeHandle,Fht=window.React.forwardRef,kht=({id:r,type:e,config:t},n)=>{const[a,i]=Mht(!0);return Oht(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx(Iht,{style:t.style,...t.props,"data-id":r,"data-type":e})},Pht=Fht(kht),Rht={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"图片地址",name:"src"},{type:"Input",label:"图片宽度",name:"width"},{type:"Input",label:"图片高度",name:"height"},{type:"Switch",label:"是否预览",name:"preview"},{type:"Input",label:"图片alt",name:"alt"}],config:{props:{src:"https://marsview.cdn.bcebos.com/s1.png",preview:!1,width:"200px",height:"200px",alt:""},style:{}},events:[{value:"handleClick",name:"点击事件"}],api:{}},gS=window.React.useState,Lht=window.React.useEffect,Dht=window.React.useImperativeHandle,_ht=window.React.forwardRef,Bht=window.antd.Typography,pp=window.dayjs,Nht=({id:r,type:e,config:t},n)=>{var s,u;const[a,i]=gS(""),[o,l]=gS(!0);return Lht(()=>{var p,v,g,y;const c=((v=(p=t.props)==null?void 0:p.text)==null?void 0:v.toString())||"",f=(g=t.props)==null?void 0:g.format,h=(y=t.props)==null?void 0:y.script;let d=c;if(f==="YYYY-MM-DD HH:mm:ss"||f==="YYYY-MM-DD"||f==="HH:mm:ss"?d=pp(c).format(f):f==="money"?d=pn(c,"currency"):f==="number"?d=pn(c,"decimal"):f==="percent"&&(d=pn(c,"percent")),h)try{d=new Function("value",`return (${h})(value);`)(d)}catch(m){console.error("脚本解析失败",m),qr.error(JSON.stringify(m))}i(d==null?void 0:d.toString())},[t.props.text,(s=t.props)==null?void 0:s.format,(u=t.props)==null?void 0:u.script]),Dht(n,()=>({show(){l(!0)},hide(){l(!1)}})),o&&A.jsx(Bht.Text,{style:t.style,...t.props,text:void 0,"data-id":r,"data-type":e,children:a})},$ht=_ht(Nht),yS=window.antd.Form;function jht(r){return A.jsxs(A.Fragment,{children:[A.jsx(yS.Item,{label:"自定义",tooltip:"通过编程的方式，实现自定义渲染。"}),A.jsx(yS.Item,{name:["script"],noStyle:!0,children:A.jsx(Rl,{})})]})}const Vht={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"文本内容",name:"text"},{type:"Select",label:"文本类型",name:"type",props:{options:[{value:"",label:"默认"},{value:"secondary",label:"弱提示"},{value:"success",label:"成功提示"},{value:"warning",label:"警告提示"},{value:"danger",label:"错误提示"}]}},{type:"Select",label:"文本格式",name:"format",props:{options:[{value:"",label:"默认"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY-MM-DD",label:"年-月-日"},{value:"HH:mm:ss",label:"时:分:秒"},{value:"money",label:"金额千分位"},{value:"number",label:"数字千分位"},{value:"percent",label:"百分比"}]}},{type:"function",label:"自定义渲染",key:"render",render:r=>(r.setFieldValue("script",`function render(value){
    return value;
}`),A.jsx(jht,{form:r},"render"))},{type:"Title",label:"格式配置",key:"format_config"},{type:"Switch",label:"代码格式",name:"code"},{type:"Switch",label:"删除线",name:"delete"},{type:"Switch",label:"禁用文本",name:"disabled"},{type:"Switch",label:"是否可复制",name:"copyable"},{type:"Switch",label:"标记格式",name:"mark"},{type:"Switch",label:"是否加粗",name:"strong"},{type:"Switch",label:"是否斜体",name:"italic"},{type:"Switch",label:"下划线",name:"underline"}],config:{props:{text:"欢迎使用Mars低代码系统",type:""},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},Hht=window.antd.Typography,zht=window.React.useState,Wht=window.React.useImperativeHandle,Ght=window.React.forwardRef,qht=({id:r,type:e,config:t},n)=>{const[a,i]=zht(!0);return Wht(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx(Hht.Title,{style:t.style,...t.props,text:void 0,"data-id":r,"data-type":e,children:t.props.text})},Yht=Ght(qht),Uht={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"标题内容",name:"text"},{type:"Select",label:"重要程度",name:"level",props:{options:[{value:1,label:"H1"},{value:2,label:"H2"},{value:3,label:"H3"},{value:4,label:"H4"},{value:5,label:"H5"}]}},{type:"Select",label:"文本类型",name:"type",props:{options:[{value:"",label:"默认"},{value:"secondary",label:"弱提示"},{value:"success",label:"成功提示"},{value:"warning",label:"警告提示"},{value:"danger",label:"错误提示"}]}},{type:"Switch",label:"代码格式",name:"code"},{type:"Switch",label:"删除线",name:"delete"},{type:"Switch",label:"禁用文本",name:"disabled"},{type:"Switch",label:"是否可复制",name:"copyable"},{type:"Switch",label:"标记格式",name:"mark"},{type:"Switch",label:"是否加粗",name:"strong"},{type:"Switch",label:"是否斜体",name:"italic"},{type:"Switch",label:"下划线",name:"underline"}],config:{props:{text:"欢迎使用Mars低代码系统",type:"",level:1},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},Xht=window.React.useState,Kht=window.React.useImperativeHandle,Zht=window.React.forwardRef,Qht=({id:r,type:e,config:t},n)=>{const[a,i]=Xht(!0);return Kht(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx("a",{style:t.style,...t.props,"data-id":r,"data-type":e,children:t.props.text})},Jht=Zht(Qht),tdt={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"文本内容",name:"text"},{type:"Input",label:"跳转链接",name:"href"},{type:"Select",label:"跳转位置",name:"target",props:{options:[{value:"_self",label:"当前页面加载（默认）"},{value:"_blank",label:"打开新页签"},{value:"_parent",label:"父窗口打开"},{value:"_top",label:"最顶级窗口打开"}]}}],config:{props:{text:"打开Marsview系统",href:"http://www.marsview.cc",target:"_blank"},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},edt=window.React.useState,rdt=window.React.useImperativeHandle,ndt=window.React.forwardRef,adt=({id:r,type:e,config:t},n)=>{const[a,i]=edt(!0);return rdt(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&A.jsx("iframe",{style:t.style,...t.props,"data-id":r,"data-type":e})},idt=ndt(adt),odt={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"远程地址",name:"src"},{type:"Input",label:"显示标题",name:"title"}],config:{props:{src:"https://baidu.com",title:"IFrame组件"},style:{border:"none",width:"300px",height:"500px"},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}};export{mr as C,JF as D,$R as P,ma as a,xr as b,NR as c,nF as i,L2 as u};
