import{j as u}from"./index-BvzOCTvp.js";import{i as F}from"./index-BpWof7b7.js";import{F as W}from"./context-V_gTMpak.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const I=window.antd.Form,k=window.antd.TimePicker,w=window.React.useEffect,y=window.React.useContext,R=window.React.useState,P=window.React.useImperativeHandle,T=window.React.forwardRef,H=window.dayjs,E=({id:V,type:h,config:e,onChange:m},b)=>{const i=y(W),[x,l]=R(!0),[j,p]=R(e.props.formWrap.disabled);w(()=>{var s;const r=(s=e.props.formItem)==null?void 0:s.name,t=e.props.defaultValue;if(r&&!F(t)){const o=e.props.formWrap.format||"HH:mm:ss",a=t.split(",").map(n=>H(n,o));i==null||i.setFieldValue(r,a)}},[]),w(()=>{p(e.props.formWrap.disabled)},[e.props.formWrap.disabled]),P(b,()=>({show(){l(!0)},hide(){l(!1)},enable(){p(!1)},disable(){p(!0)}}));const v=r=>{const t={},{startField:s,endField:o,formItem:{name:a},formWrap:{format:n}}=e.props,[c,f]=r.map(d=>d==null?void 0:d.format(n));s&&o?(t[s]=c,t[o]=f,delete t[a]):t[a]=[c,f],m==null||m(t)};return x&&u.jsx(I.Item,{...e.props.formItem,children:u.jsx(k.RangePicker,{...e.props.formWrap,disabled:j,variant:e.props.formWrap.variant||void 0,style:e.style,onChange:v})})},q=T(E);export{q as TimePickerRange};
