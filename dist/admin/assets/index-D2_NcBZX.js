import{j as d}from"./index-BvzOCTvp.js";import{i as b}from"./index-BpWof7b7.js";import{F as x}from"./context-V_gTMpak.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const R=window.antd.Form,j=window.antd.TimePicker,n=window.React.useEffect,v=window.React.useContext,l=window.React.useState,H=window.React.useImperativeHandle,I=window.React.forwardRef,W=window.dayjs,k=({id:y,type:F,config:e,onChange:t},c)=>{const r=v(x),[u,a]=l(!0),[w,o]=l(e.props.formWrap.disabled);n(()=>{var i;const s=(i=e.props.formItem)==null?void 0:i.name,m=e.props.defaultValue;if(s&&!b(m)){const p=W(m,"HH:mm:ss");p.isValid()&&(r==null||r.setFieldValue(s,p))}},[]),n(()=>{o(e.props.formWrap.disabled)},[e.props.formWrap.disabled]),H(c,()=>({show(){a(!0)},hide(){a(!1)},enable(){o(!1)},disable(){o(!0)}}));const f=s=>{t==null||t({[e.props.formItem.name]:s.format(e.props.formWrap.format||"HH:mm:ss")})};return u&&d.jsx(R.Item,{...e.props.formItem,children:d.jsx(j,{...e.props.formWrap,disabled:w,variant:e.props.formWrap.variant||void 0,style:e.style,onChange:f})})},S=I(k);export{S as TimePicker};
