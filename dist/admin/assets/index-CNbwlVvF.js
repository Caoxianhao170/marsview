import{j as f}from"./index-BvzOCTvp.js";import{u as v,h as y}from"./index-BpWof7b7.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const b=window.antd.Steps,h=window.React.forwardRef,c=window.React.useEffect,x=window.React.useImperativeHandle,p=window.React.useState,D=({id:j,type:A,config:t,onChange:s},l)=>{var d;const[w,o]=p(!0),[m,r]=p(t.props.current||0),[i,n]=p([]),S=v(e=>e.page.variableData);c(()=>{r(t.props.current)},[t.props.current]),c(()=>{u({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?S:""]);const u=e=>{y(t.api,e).then(a=>{(a==null?void 0:a.ret)===0&&(Array.isArray(a.data)?n(a.data):(console.error("[Steps]","data数据格式错误，请检查"),n([])))})};x(l,()=>({show(){o(!0)},hide(){o(!1)},update(){u(i)},updateStep(e){r(e)}}));const R=e=>{r(e),s==null||s({current:e})};return w&&f.jsx(b,{style:t.style,...t.props,current:m,items:i,onChange:R})},M=h(D);export{M as Steps};
