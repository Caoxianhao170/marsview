import{j as s,m as u}from"./index-BMoS0DUA.js";import{i as c,f}from"./index-TNyY8g-O.js";import{F as d}from"./context-V_gTMpak.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const w=window.antd.Form,y=window.antd.Image,x=window.React.forwardRef,h=window.React.useContext,I=window.React.useEffect,j=window.React.useImperativeHandle,T=window.React.useState,l=window.dayjs,F=({config:e},r)=>{const t=h(d),[a,n]=T(!0);return I(()=>{var i;const o=(i=e.props.formItem)==null?void 0:i.name,m=e.props.defaultValue;o&&!c(m)&&(t==null||t.setFieldValue(o,m))},[e.props.defaultValue]),j(r,()=>({show(){n(!0)},hide(){n(!1)}})),a&&s.jsx(w.Item,{...e.props.formItem,children:s.jsx(R,{...e.props.formWrap,name:e.props.formItem.name,style:e.style})})},R=e=>{const r=e.value||"";let t=r;if(c(r))return s.jsx("span",{style:e.style,children:e.emptyType});if(e.showType==="text"&&(e.dateType&&(t=l(r).format(e.dateType)),e.numberType&&(t=f(r,e.numberType)),r!=null&&r.format&&(t=l(r).format())),e.script)try{t=new Function("value",`return (${e.script})(value);`)(t)}catch(a){console.error("脚本解析失败",a),u.error(JSON.stringify(a))}if(t=t==null?void 0:t.toString(),e.showType==="text")return s.jsx("span",{style:e.style,children:t});if(e.showType==="href")return s.jsx("a",{href:t,target:"_blank",style:e.style,children:t});if(e.showType==="image")return s.jsx(y,{src:t,style:e.style})},E=x(F);export{E as StaticItem};
