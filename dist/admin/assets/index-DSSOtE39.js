import{j as d}from"./index-BvzOCTvp.js";import{i as b,g as x}from"./index-BpWof7b7.js";import{F as R}from"./context-V_gTMpak.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const v=window.antd.Form,D=window.antd.DatePicker,i=window.React.useEffect,I=window.React.useContext,l=window.React.useState,k=window.React.useImperativeHandle,F=window.React.forwardRef,P=({config:e,onChange:s},n)=>{const r=I(R),[u,o]=l(!0),[c,a]=l(!1);i(()=>{var m;const t=(m=e.props.formItem)==null?void 0:m.name,p=e.props.defaultValue;if(t&&!b(p)){const w=x(p);r==null||r.setFieldValue(t,w)}},[e.props.defaultValue]),i(()=>{a(e.props.formWrap.disabled||!1)},[e.props.formWrap.disabled]),k(n,()=>({show(){o(!0)},hide(){o(!1)},enable(){a(!1)},disable(){a(!0)}}));const f=t=>{s==null||s({[e.props.formItem.name]:t.format(e.props.formWrap.format)})};return u&&d.jsx(v.Item,{...e.props.formItem,children:d.jsx(D,{...e.props.formWrap,disabled:c,variant:e.props.formWrap.variant||void 0,style:e.style,onChange:f})})},h=F(P);export{h as DatePicker};
