import{m as Y,j as R}from"./index-BMoS0DUA.js";import{f as n}from"./index-TNyY8g-O.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const l=window.React.useState,T=window.React.useEffect,h=window.React.useImperativeHandle,H=window.React.forwardRef,j=window.antd.Typography,a=window.dayjs,M=({config:s},u)=>{const[w,x]=l(""),[y,i]=l(!0);return T(()=>{var p,m,f,d;const r=((m=(p=s.props)==null?void 0:p.text)==null?void 0:m.toString())||"",t=(f=s.props)==null?void 0:f.format,c=(d=s.props)==null?void 0:d.script;let e=r;if(t==="YYYY-MM-DD HH:mm:ss"||t==="YYYY-MM-DD"||t==="HH:mm:ss"?e=a(r).format(t):t==="money"?e=n(r,"currency"):t==="number"?e=n(r,"decimal"):t==="percent"&&(e=n(r,"percent")),c)try{e=new Function("value",`return (${c})(value);`)(e)}catch(o){console.error("脚本解析失败",o),Y.error(JSON.stringify(o))}x(e==null?void 0:e.toString())},[s.props.text]),h(u,()=>({show(){i(!0)},hide(){i(!1)}})),y&&R.jsx(j.Text,{style:s.style,...s.props,children:w})},E=H(M);export{E as Text};
