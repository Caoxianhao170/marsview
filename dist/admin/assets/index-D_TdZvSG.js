import{u as g,g as p,m as i,j as a}from"./index-BMoS0DUA.js";import{u as d,P as l}from"./index-TNyY8g-O.js";import P from"./notFound-fgkpRpIH.js";import{u as I}from"./shallow-DbozeIsW.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const j=window.React.useEffect,x=window.React.useState;function E(){const{projectId:s,env:n,pageId:o}=g(),[c,t]=x(!1),{savePageInfo:m,clearPageInfo:u}=d(I(e=>({savePageInfo:e.savePageInfo,clearPageInfo:e.clearPageInfo})));return j(()=>{u(),p(n,Number(o)).then(e=>{let r={};try{r=JSON.parse(e.page_data||"{}")}catch(f){console.error(f),console.info("【json数据】",e.page_data),i.error("页面数据格式错误，请检查")}m({pageId:e.id,pageName:e.name,remark:e.remark,...r}),t(!1)}).catch(()=>{t(!0)})},[s,o]),a.jsx(a.Fragment,{children:c?a.jsx(P,{}):a.jsx(l,{})})}export{E as default};
